(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var bf={exports:{}},ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function gS(){if(e_)return ha;e_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return ha.Fragment=t,ha.jsx=i,ha.jsxs=i,ha}var t_;function _S(){return t_||(t_=1,bf.exports=gS()),bf.exports}var x=_S(),Ef={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function yS(){if(n_)return te;n_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function V(S,M,j){this.props=S,this.context=M,this.refs=B,this.updater=j||L}V.prototype.isReactComponent={},V.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},V.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function F(){}F.prototype=V.prototype;function ie(S,M,j){this.props=S,this.context=M,this.refs=B,this.updater=j||L}var me=ie.prototype=new F;me.constructor=ie,U(me,V.prototype),me.isPureReactComponent=!0;var be=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},it=Object.prototype.hasOwnProperty;function st(S,M,j,P,K,ge){return j=ge.ref,{$$typeof:s,type:S,key:M,ref:j!==void 0?j:null,props:ge}}function rt(S,M){return st(S.type,M,void 0,void 0,void 0,S.props)}function ht(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function tn(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(j){return M[j]})}var St=/\/+/g;function ee(S,M){return typeof S=="object"&&S!==null&&S.key!=null?tn(""+S.key):M.toString(36)}function nn(){}function Lt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(nn,nn):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function qe(S,M,j,P,K){var ge=typeof S;(ge==="undefined"||ge==="boolean")&&(S=null);var $=!1;if(S===null)$=!0;else switch(ge){case"bigint":case"string":case"number":$=!0;break;case"object":switch(S.$$typeof){case s:case t:$=!0;break;case y:return $=S._init,qe($(S._payload),M,j,P,K)}}if($)return K=K(S),$=P===""?"."+ee(S,0):P,be(K)?(j="",$!=null&&(j=$.replace(St,"$&/")+"/"),qe(K,M,j,"",function(zn){return zn})):K!=null&&(ht(K)&&(K=rt(K,j+(K.key==null||S&&S.key===K.key?"":(""+K.key).replace(St,"$&/")+"/")+$)),M.push(K)),1;$=0;var Tt=P===""?".":P+":";if(be(S))for(var Me=0;Me<S.length;Me++)P=S[Me],ge=Tt+ee(P,Me),$+=qe(P,M,j,ge,K);else if(Me=b(S),typeof Me=="function")for(S=Me.call(S),Me=0;!(P=S.next()).done;)P=P.value,ge=Tt+ee(P,Me++),$+=qe(P,M,j,ge,K);else if(ge==="object"){if(typeof S.then=="function")return qe(Lt(S),M,j,P,K);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return $}function O(S,M,j){if(S==null)return S;var P=[],K=0;return qe(S,P,"","",function(ge){return M.call(j,ge,K++)}),P}function H(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(j){(S._status===0||S._status===-1)&&(S._status=1,S._result=j)},function(j){(S._status===0||S._status===-1)&&(S._status=2,S._result=j)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var Y=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function pe(){}return te.Children={map:O,forEach:function(S,M,j){O(S,function(){M.apply(this,arguments)},j)},count:function(S){var M=0;return O(S,function(){M++}),M},toArray:function(S){return O(S,function(M){return M})||[]},only:function(S){if(!ht(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},te.Component=V,te.Fragment=i,te.Profiler=o,te.PureComponent=ie,te.StrictMode=a,te.Suspense=g,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,te.__COMPILER_RUNTIME={__proto__:null,c:function(S){return se.H.useMemoCache(S)}},te.cache=function(S){return function(){return S.apply(null,arguments)}},te.cloneElement=function(S,M,j){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var P=U({},S.props),K=S.key,ge=void 0;if(M!=null)for($ in M.ref!==void 0&&(ge=void 0),M.key!==void 0&&(K=""+M.key),M)!it.call(M,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&M.ref===void 0||(P[$]=M[$]);var $=arguments.length-2;if($===1)P.children=j;else if(1<$){for(var Tt=Array($),Me=0;Me<$;Me++)Tt[Me]=arguments[Me+2];P.children=Tt}return st(S.type,K,void 0,void 0,ge,P)},te.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},te.createElement=function(S,M,j){var P,K={},ge=null;if(M!=null)for(P in M.key!==void 0&&(ge=""+M.key),M)it.call(M,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(K[P]=M[P]);var $=arguments.length-2;if($===1)K.children=j;else if(1<$){for(var Tt=Array($),Me=0;Me<$;Me++)Tt[Me]=arguments[Me+2];K.children=Tt}if(S&&S.defaultProps)for(P in $=S.defaultProps,$)K[P]===void 0&&(K[P]=$[P]);return st(S,ge,void 0,void 0,null,K)},te.createRef=function(){return{current:null}},te.forwardRef=function(S){return{$$typeof:h,render:S}},te.isValidElement=ht,te.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:H}},te.memo=function(S,M){return{$$typeof:m,type:S,compare:M===void 0?null:M}},te.startTransition=function(S){var M=se.T,j={};se.T=j;try{var P=S(),K=se.S;K!==null&&K(j,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(pe,Y)}catch(ge){Y(ge)}finally{se.T=M}},te.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},te.use=function(S){return se.H.use(S)},te.useActionState=function(S,M,j){return se.H.useActionState(S,M,j)},te.useCallback=function(S,M){return se.H.useCallback(S,M)},te.useContext=function(S){return se.H.useContext(S)},te.useDebugValue=function(){},te.useDeferredValue=function(S,M){return se.H.useDeferredValue(S,M)},te.useEffect=function(S,M,j){var P=se.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(S,M)},te.useId=function(){return se.H.useId()},te.useImperativeHandle=function(S,M,j){return se.H.useImperativeHandle(S,M,j)},te.useInsertionEffect=function(S,M){return se.H.useInsertionEffect(S,M)},te.useLayoutEffect=function(S,M){return se.H.useLayoutEffect(S,M)},te.useMemo=function(S,M){return se.H.useMemo(S,M)},te.useOptimistic=function(S,M){return se.H.useOptimistic(S,M)},te.useReducer=function(S,M,j){return se.H.useReducer(S,M,j)},te.useRef=function(S){return se.H.useRef(S)},te.useState=function(S){return se.H.useState(S)},te.useSyncExternalStore=function(S,M,j){return se.H.useSyncExternalStore(S,M,j)},te.useTransition=function(){return se.H.useTransition()},te.version="19.1.1",te}var i_;function md(){return i_||(i_=1,Ef.exports=yS()),Ef.exports}var le=md(),Sf={exports:{}},pa={},Tf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function vS(){return s_||(s_=1,(function(s){function t(O,H){var Y=O.length;O.push(H);e:for(;0<Y;){var pe=Y-1>>>1,S=O[pe];if(0<o(S,H))O[pe]=H,O[Y]=S,Y=pe;else break e}}function i(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var H=O[0],Y=O.pop();if(Y!==H){O[0]=Y;e:for(var pe=0,S=O.length,M=S>>>1;pe<M;){var j=2*(pe+1)-1,P=O[j],K=j+1,ge=O[K];if(0>o(P,Y))K<S&&0>o(ge,P)?(O[pe]=ge,O[K]=Y,pe=K):(O[pe]=P,O[j]=Y,pe=j);else if(K<S&&0>o(ge,Y))O[pe]=ge,O[K]=Y,pe=K;else break e}}return H}function o(O,H){var Y=O.sortIndex-H.sortIndex;return Y!==0?Y:O.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var g=[],m=[],y=1,E=null,b=3,L=!1,U=!1,B=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function be(O){for(var H=i(m);H!==null;){if(H.callback===null)a(m);else if(H.startTime<=O)a(m),H.sortIndex=H.expirationTime,t(g,H);else break;H=i(m)}}function se(O){if(B=!1,be(O),!U)if(i(g)!==null)U=!0,it||(it=!0,ee());else{var H=i(m);H!==null&&qe(se,H.startTime-O)}}var it=!1,st=-1,rt=5,ht=-1;function tn(){return V?!0:!(s.unstable_now()-ht<rt)}function St(){if(V=!1,it){var O=s.unstable_now();ht=O;var H=!0;try{e:{U=!1,B&&(B=!1,ie(st),st=-1),L=!0;var Y=b;try{t:{for(be(O),E=i(g);E!==null&&!(E.expirationTime>O&&tn());){var pe=E.callback;if(typeof pe=="function"){E.callback=null,b=E.priorityLevel;var S=pe(E.expirationTime<=O);if(O=s.unstable_now(),typeof S=="function"){E.callback=S,be(O),H=!0;break t}E===i(g)&&a(g),be(O)}else a(g);E=i(g)}if(E!==null)H=!0;else{var M=i(m);M!==null&&qe(se,M.startTime-O),H=!1}}break e}finally{E=null,b=Y,L=!1}H=void 0}}finally{H?ee():it=!1}}}var ee;if(typeof me=="function")ee=function(){me(St)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,Lt=nn.port2;nn.port1.onmessage=St,ee=function(){Lt.postMessage(null)}}else ee=function(){F(St,0)};function qe(O,H){st=F(function(){O(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var Y=b;b=H;try{return O()}finally{b=Y}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=b;b=O;try{return H()}finally{b=Y}},s.unstable_scheduleCallback=function(O,H,Y){var pe=s.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?pe+Y:pe):Y=pe,O){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=Y+S,O={id:y++,callback:H,priorityLevel:O,startTime:Y,expirationTime:S,sortIndex:-1},Y>pe?(O.sortIndex=Y,t(m,O),i(g)===null&&O===i(m)&&(B?(ie(st),st=-1):B=!0,qe(se,Y-pe))):(O.sortIndex=S,t(g,O),U||L||(U=!0,it||(it=!0,ee()))),O},s.unstable_shouldYield=tn,s.unstable_wrapCallback=function(O){var H=b;return function(){var Y=b;b=H;try{return O.apply(this,arguments)}finally{b=Y}}}})(Cf)),Cf}var r_;function bS(){return r_||(r_=1,Tf.exports=vS()),Tf.exports}var wf={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function ES(){if(a_)return ot;a_=1;var s=md();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:m,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(g,m,null,y)},ot.flushSync=function(g){var m=d.T,y=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=m,a.p=y,a.d.f()}},ot.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},ot.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ot.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,E=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,L=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:L}):y==="script"&&a.d.X(g,{crossOrigin:E,integrity:b,fetchPriority:L,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ot.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},ot.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,E=h(y,m.crossOrigin);a.d.L(g,y,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ot.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},ot.requestFormReset=function(g){a.d.r(g)},ot.unstable_batchedUpdates=function(g,m){return g(m)},ot.useFormState=function(g,m,y){return d.H.useFormState(g,m,y)},ot.useFormStatus=function(){return d.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var l_;function SS(){if(l_)return wf.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wf.exports=ES(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function TS(){if(o_)return pa;o_=1;var s=bS(),t=md(),i=SS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return h(c),e;if(f===l)return h(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,_=c.child;_;){if(_===r){p=!0,r=c,l=f;break}if(_===l){p=!0,l=c,r=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===r){p=!0,r=f,l=c;break}if(_===l){p=!0,l=f,r=c;break}_=_.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),me=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),ht=Symbol.for("react.activity"),tn=Symbol.for("react.memo_cache_sentinel"),St=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=St&&e[St]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Symbol.for("react.client.reference");function Lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case se:return"Suspense";case it:return"SuspenseList";case ht:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case me:return(e.displayName||"Context")+".Provider";case ie:return(e._context.displayName||"Context")+".Consumer";case be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case st:return n=e.displayName||null,n!==null?n:Lt(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return Lt(e(n))}catch{}}return null}var qe=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},pe=[],S=-1;function M(e){return{current:e}}function j(e){0>S||(e.current=pe[S],pe[S]=null,S--)}function P(e,n){S++,pe[S]=e.current,e.current=n}var K=M(null),ge=M(null),$=M(null),Tt=M(null);function Me(e,n){switch(P($,n),P(ge,e),P(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ng(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ng(n),e=xg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(K),P(K,e)}function zn(){j(K),j(ge),j($)}function sc(e){e.memoizedState!==null&&P(Tt,e);var n=K.current,r=xg(n,e.type);n!==r&&(P(ge,e),P(K,r))}function Ja(e){ge.current===e&&(j(K),j(ge)),Tt.current===e&&(j(Tt),oa._currentValue=Y)}var rc=Object.prototype.hasOwnProperty,ac=s.unstable_scheduleCallback,lc=s.unstable_cancelCallback,Qb=s.unstable_shouldYield,Xb=s.unstable_requestPaint,sn=s.unstable_now,Wb=s.unstable_getCurrentPriorityLevel,oh=s.unstable_ImmediatePriority,ch=s.unstable_UserBlockingPriority,$a=s.unstable_NormalPriority,Zb=s.unstable_LowPriority,uh=s.unstable_IdlePriority,Jb=s.log,$b=s.unstable_setDisableYieldValue,gr=null,Ct=null;function Hn(e){if(typeof Jb=="function"&&$b(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(gr,e)}catch{}}var wt=Math.clz32?Math.clz32:nE,eE=Math.log,tE=Math.LN2;function nE(e){return e>>>=0,e===0?32:31-(eE(e)/tE|0)|0}var el=256,tl=4194304;function Ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nl(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=Ai(l):(p&=_,p!==0?c=Ai(p):r||(r=_&~e,r!==0&&(c=Ai(r))))):(_=l&~f,_!==0?c=Ai(_):p!==0?c=Ai(p):r||(r=l&~e,r!==0&&(c=Ai(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function _r(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function iE(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fh(){var e=el;return el<<=1,(el&4194048)===0&&(el=256),e}function dh(){var e=tl;return tl<<=1,(tl&62914560)===0&&(tl=4194304),e}function oc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sE(e,n,r,l,c,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,A=e.hiddenUpdates;for(r=p&~r;0<r;){var I=31-wt(r),k=1<<I;_[I]=0,v[I]=-1;var R=A[I];if(R!==null)for(A[I]=null,I=0;I<R.length;I++){var N=R[I];N!==null&&(N.lane&=-536870913)}r&=~k}l!==0&&hh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function hh(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-wt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&4194090}function ph(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-wt(r),c=1<<l;c&n|e[l]&n&&(e[l]|=n),r&=~c}}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mh(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Qg(e.type))}function rE(e,n){var r=H.p;try{return H.p=e,n()}finally{H.p=r}}var Pn=Math.random().toString(36).slice(2),at="__reactFiber$"+Pn,pt="__reactProps$"+Pn,rs="__reactContainer$"+Pn,fc="__reactEvents$"+Pn,aE="__reactListeners$"+Pn,lE="__reactHandles$"+Pn,gh="__reactResources$"+Pn,vr="__reactMarker$"+Pn;function dc(e){delete e[at],delete e[pt],delete e[fc],delete e[aE],delete e[lE]}function as(e){var n=e[at];if(n)return n;for(var r=e.parentNode;r;){if(n=r[rs]||r[at]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Mg(e);e!==null;){if(r=e[at])return r;e=Mg(e)}return n}e=r,r=e.parentNode}return null}function ls(e){if(e=e[at]||e[rs]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function br(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function os(e){var n=e[gh];return n||(n=e[gh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(e){e[vr]=!0}var _h=new Set,yh={};function Ri(e,n){cs(e,n),cs(e+"Capture",n)}function cs(e,n){for(yh[e]=n,e=0;e<n.length;e++)_h.add(n[e])}var oE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vh={},bh={};function cE(e){return rc.call(bh,e)?!0:rc.call(vh,e)?!1:oE.test(e)?bh[e]=!0:(vh[e]=!0,!1)}function il(e,n,r){if(cE(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function sl(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function hn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}var hc,Eh;function us(e){if(hc===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);hc=n&&n[1]||"",Eh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hc+e+Eh}var pc=!1;function mc(e,n){if(!e||pc)return"";pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(N){var R=N}Reflect.construct(e,[],k)}else{try{k.call()}catch(N){R=N}e.call(k.prototype)}}else{try{throw Error()}catch(N){R=N}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(N){if(N&&R&&typeof N.stack=="string")return[N.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var v=p.split(`
`),A=_.split(`
`);for(c=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(l===v.length||c===A.length)for(l=v.length-1,c=A.length-1;1<=l&&0<=c&&v[l]!==A[c];)c--;for(;1<=l&&0<=c;l--,c--)if(v[l]!==A[c]){if(l!==1||c!==1)do if(l--,c--,0>c||v[l]!==A[c]){var I=`
`+v[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{pc=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?us(r):""}function uE(e){switch(e.tag){case 26:case 27:case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return mc(e.type,!1);case 11:return mc(e.type.render,!1);case 1:return mc(e.type,!0);case 31:return us("Activity");default:return""}}function Sh(e){try{var n="";do n+=uE(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Th(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fE(e){var n=Th(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rl(e){e._valueTracker||(e._valueTracker=fE(e))}function Ch(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Th(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dE=/[\n"\\]/g;function zt(e){return e.replace(dE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gc(e,n,r,l,c,f,p,_){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ut(n)):e.value!==""+Ut(n)&&(e.value=""+Ut(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?_c(e,p,Ut(n)):r!=null?_c(e,p,Ut(r)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ut(_):e.removeAttribute("name")}function wh(e,n,r,l,c,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function _c(e,n,r){n==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function fs(e,n,r,l){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ah(e,n,r){if(n!=null&&(n=""+Ut(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ut(r):""}function Rh(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(qe(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l)}function ds(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||hE.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xh(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Nh(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Nh(e,f,n[f])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(e){return mE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vc=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,ps=null;function Oh(e){var n=ls(e);if(n&&(e=n.stateNode)){var r=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(gc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var c=l[pt]||null;if(!c)throw Error(a(90));gc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Ch(l)}break e;case"textarea":Ah(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&fs(e,!!r.multiple,n,!1)}}}var Ec=!1;function Ih(e,n,r){if(Ec)return e(n,r);Ec=!0;try{var l=e(n);return l}finally{if(Ec=!1,(hs!==null||ps!==null)&&(Fl(),hs&&(n=hs,e=ps,ps=hs=null,Oh(n),e)))for(n=0;n<e.length;n++)Oh(e[n])}}function Er(e,n){var r=e.stateNode;if(r===null)return null;var l=r[pt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(pn)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Sc=!1}var Bn=null,Tc=null,ol=null;function Dh(){if(ol)return ol;var e,n=Tc,r=n.length,l,c="value"in Bn?Bn.value:Bn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var p=r-e;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return ol=c.slice(e,1<l?1-l:void 0)}function cl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function Mh(){return!1}function mt(e){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ul:Mh,this.isPropagationStopped=Mh,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=mt(Ni),Tr=y({},Ni,{view:0,detail:0}),gE=mt(Tr),Cc,wc,Cr,dl=y({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(Cc=e.screenX-Cr.screenX,wc=e.screenY-Cr.screenY):wc=Cc=0,Cr=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),kh=mt(dl),_E=y({},dl,{dataTransfer:0}),yE=mt(_E),vE=y({},Tr,{relatedTarget:0}),Ac=mt(vE),bE=y({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),EE=mt(bE),SE=y({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TE=mt(SE),CE=y({},Ni,{data:0}),Lh=mt(CE),wE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NE(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=RE[e])?!!n[e]:!1}function Rc(){return NE}var xE=y({},Tr,{key:function(e){if(e.key){var n=wE[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OE=mt(xE),IE=y({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=mt(IE),DE=y({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),ME=mt(DE),kE=y({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),LE=mt(kE),UE=y({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zE=mt(UE),HE=y({},Ni,{newState:0,oldState:0}),PE=mt(HE),BE=[9,13,27,32],Nc=pn&&"CompositionEvent"in window,wr=null;pn&&"documentMode"in document&&(wr=document.documentMode);var jE=pn&&"TextEvent"in window&&!wr,zh=pn&&(!Nc||wr&&8<wr&&11>=wr),Hh=" ",Ph=!1;function Bh(e,n){switch(e){case"keyup":return BE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function VE(e,n){switch(e){case"compositionend":return jh(n);case"keypress":return n.which!==32?null:(Ph=!0,Hh);case"textInput":return e=n.data,e===Hh&&Ph?null:e;default:return null}}function qE(e,n){if(ms)return e==="compositionend"||!Nc&&Bh(e,n)?(e=Dh(),ol=Tc=Bn=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zh&&n.locale!=="ko"?null:n.data;default:return null}}var GE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GE[e.type]:n==="textarea"}function qh(e,n,r,l){hs?ps?ps.push(l):ps=[l]:hs=l,n=Jl(n,"onChange"),0<n.length&&(r=new fl("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ar=null,Rr=null;function YE(e){Tg(e,0)}function hl(e){var n=br(e);if(Ch(n))return e}function Gh(e,n){if(e==="change")return n}var Yh=!1;if(pn){var xc;if(pn){var Oc="oninput"in document;if(!Oc){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),Oc=typeof Fh.oninput=="function"}xc=Oc}else xc=!1;Yh=xc&&(!document.documentMode||9<document.documentMode)}function Kh(){Ar&&(Ar.detachEvent("onpropertychange",Qh),Rr=Ar=null)}function Qh(e){if(e.propertyName==="value"&&hl(Rr)){var n=[];qh(n,Rr,e,bc(e)),Ih(YE,n)}}function FE(e,n,r){e==="focusin"?(Kh(),Ar=n,Rr=r,Ar.attachEvent("onpropertychange",Qh)):e==="focusout"&&Kh()}function KE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Rr)}function QE(e,n){if(e==="click")return hl(n)}function XE(e,n){if(e==="input"||e==="change")return hl(n)}function WE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:WE;function Nr(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!rc.call(n,c)||!At(e[c],n[c]))return!1}return!0}function Xh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wh(e,n){var r=Xh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xh(r)}}function Zh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Jh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=al(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=al(e.document)}return n}function Ic(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ZE=pn&&"documentMode"in document&&11>=document.documentMode,gs=null,Dc=null,xr=null,Mc=!1;function $h(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mc||gs==null||gs!==al(l)||(l=gs,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xr&&Nr(xr,l)||(xr=l,l=Jl(Dc,"onSelect"),0<l.length&&(n=new fl("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=gs)))}function xi(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var _s={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},kc={},ep={};pn&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Oi(e){if(kc[e])return kc[e];if(!_s[e])return e;var n=_s[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ep)return kc[e]=n[r];return e}var tp=Oi("animationend"),np=Oi("animationiteration"),ip=Oi("animationstart"),JE=Oi("transitionrun"),$E=Oi("transitionstart"),e0=Oi("transitioncancel"),sp=Oi("transitionend"),rp=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Yt(e,n){rp.set(e,n),Ri(n,[e])}var ap=new WeakMap;function Ht(e,n){if(typeof e=="object"&&e!==null){var r=ap.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Sh(n)},ap.set(e,n),n)}return{value:e,source:n,stack:Sh(n)}}var Pt=[],ys=0,Uc=0;function pl(){for(var e=ys,n=Uc=ys=0;n<e;){var r=Pt[n];Pt[n++]=null;var l=Pt[n];Pt[n++]=null;var c=Pt[n];Pt[n++]=null;var f=Pt[n];if(Pt[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&lp(r,c,f)}}function ml(e,n,r,l){Pt[ys++]=e,Pt[ys++]=n,Pt[ys++]=r,Pt[ys++]=l,Uc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zc(e,n,r,l){return ml(e,n,r,l),gl(e)}function vs(e,n){return ml(e,null,null,n),gl(e)}function lp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-wt(r),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function gl(e){if(50<ea)throw ea=0,qu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bs={};function t0(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,r,l){return new t0(e,n,r,l)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,n){var r=e.alternate;return r===null?(r=Rt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function op(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _l(e,n,r,l,c,f){var p=0;if(l=e,typeof e=="function")Hc(e)&&(p=1);else if(typeof e=="string")p=iS(e,r,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ht:return e=Rt(31,r,n,c),e.elementType=ht,e.lanes=f,e;case U:return Ii(r.children,c,f,n);case B:p=8,c|=24;break;case V:return e=Rt(12,r,n,c|2),e.elementType=V,e.lanes=f,e;case se:return e=Rt(13,r,n,c),e.elementType=se,e.lanes=f,e;case it:return e=Rt(19,r,n,c),e.elementType=it,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case me:p=10;break e;case ie:p=9;break e;case be:p=11;break e;case st:p=14;break e;case rt:p=16,l=null;break e}p=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Rt(p,r,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Ii(e,n,r,l){return e=Rt(7,e,l,n),e.lanes=r,e}function Pc(e,n,r){return e=Rt(6,e,null,n),e.lanes=r,e}function Bc(e,n,r){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Es=[],Ss=0,yl=null,vl=0,Bt=[],jt=0,Di=null,gn=1,_n="";function Mi(e,n){Es[Ss++]=vl,Es[Ss++]=yl,yl=e,vl=n}function cp(e,n,r){Bt[jt++]=gn,Bt[jt++]=_n,Bt[jt++]=Di,Di=e;var l=gn;e=_n;var c=32-wt(l)-1;l&=~(1<<c),r+=1;var f=32-wt(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,gn=1<<32-wt(n)+c|r<<c|l,_n=f+e}else gn=1<<f|r<<c|l,_n=e}function jc(e){e.return!==null&&(Mi(e,1),cp(e,1,0))}function Vc(e){for(;e===yl;)yl=Es[--Ss],Es[Ss]=null,vl=Es[--Ss],Es[Ss]=null;for(;e===Di;)Di=Bt[--jt],Bt[jt]=null,_n=Bt[--jt],Bt[jt]=null,gn=Bt[--jt],Bt[jt]=null}var ft=null,Ue=null,ye=!1,ki=null,rn=!1,qc=Error(a(519));function Li(e){var n=Error(a(418,""));throw Dr(Ht(n,e)),qc}function up(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[at]=e,n[pt]=l,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(r=0;r<na.length;r++)ue(na[r],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":ue("invalid",n),wh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),rl(n);break;case"select":ue("invalid",n);break;case"textarea":ue("invalid",n),Rh(n,l.value,l.defaultValue,l.children),rl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Rg(n.textContent,r)?(l.popover!=null&&(ue("beforetoggle",n),ue("toggle",n)),l.onScroll!=null&&ue("scroll",n),l.onScrollEnd!=null&&ue("scrollend",n),l.onClick!=null&&(n.onclick=$l),n=!0):n=!1,n||Li(e)}function fp(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:ft=ft.return}}function Or(e){if(e!==ft)return!1;if(!ye)return fp(e),ye=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||af(e.type,e.memoizedProps)),r=!r),r&&Ue&&Li(e),fp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Ue=Kt(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Ue=null}}else n===27?(n=Ue,ni(e.type)?(e=uf,uf=null,Ue=e):Ue=n):Ue=ft?Kt(e.stateNode.nextSibling):null;return!0}function Ir(){Ue=ft=null,ye=!1}function dp(){var e=ki;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),ki=null),e}function Dr(e){ki===null?ki=[e]:ki.push(e)}var Gc=M(null),Ui=null,yn=null;function jn(e,n,r){P(Gc,n._currentValue),n._currentValue=r}function vn(e){e._currentValue=Gc.current,j(Gc)}function Yc(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Fc(e,n,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),Yc(f.return,r,e),l||(p=null);break e}f=_.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Yc(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Mr(e,n,r,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var _=c.type;At(c.pendingProps.value,p.value)||(e!==null?e.push(_):e=[_])}}else if(c===Tt.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(oa):e=[oa])}c=c.return}e!==null&&Fc(n,e,r,l),n.flags|=262144}function bl(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zi(e){Ui=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return hp(Ui,e)}function El(e,n){return Ui===null&&zi(e),hp(e,n)}function hp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},yn===null){if(e===null)throw Error(a(308));yn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yn=yn.next=n;return r}var n0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},i0=s.unstable_scheduleCallback,s0=s.unstable_NormalPriority,Ge={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new n0,data:new Map,refCount:0}}function kr(e){e.refCount--,e.refCount===0&&i0(s0,function(){e.controller.abort()})}var Lr=null,Qc=0,Ts=0,Cs=null;function r0(e,n){if(Lr===null){var r=Lr=[];Qc=0,Ts=Wu(),Cs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Qc++,n.then(pp,pp),n}function pp(){if(--Qc===0&&Lr!==null){Cs!==null&&(Cs.status="fulfilled");var e=Lr;Lr=null,Ts=0,Cs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function a0(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var mp=O.S;O.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&r0(e,n),mp!==null&&mp(e,n)};var Hi=M(null);function Xc(){var e=Hi.current;return e!==null?e:xe.pooledCache}function Sl(e,n){n===null?P(Hi,Hi.current):P(Hi,n.pool)}function gp(){var e=Xc();return e===null?null:{parent:Ge._currentValue,pool:e}}var Ur=Error(a(460)),_p=Error(a(474)),Tl=Error(a(542)),Wc={then:function(){}};function yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cl(){}function vp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Cl,Cl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ep(e),e;default:if(typeof n.status=="string")n.then(Cl,Cl);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ep(e),e}throw zr=n,Ur}}var zr=null;function bp(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Ep(e){if(e===Ur||e===Tl)throw Error(a(483))}var Vn=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=gl(e),lp(e,null,r),n}return ml(e,l,n,r),gl(e)}function Hr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,ph(e,r)}}function $c(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var eu=!1;function Pr(){if(eu){var e=Cs;if(e!==null)throw e}}function Br(e,n,r,l){eu=!1;var c=e.updateQueue;Vn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,A=v.next;v.next=null,p===null?f=A:p.next=A,p=v;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==p&&(_===null?I.firstBaseUpdate=A:_.next=A,I.lastBaseUpdate=v))}if(f!==null){var k=c.baseState;p=0,I=A=v=null,_=f;do{var R=_.lane&-536870913,N=R!==_.lane;if(N?(he&R)===R:(l&R)===R){R!==0&&R===Ts&&(eu=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Z=e,Q=_;R=n;var we=r;switch(Q.tag){case 1:if(Z=Q.payload,typeof Z=="function"){k=Z.call(we,k,R);break e}k=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=Q.payload,R=typeof Z=="function"?Z.call(we,k,R):Z,R==null)break e;k=y({},k,R);break e;case 2:Vn=!0}}R=_.callback,R!==null&&(e.flags|=64,N&&(e.flags|=8192),N=c.callbacks,N===null?c.callbacks=[R]:N.push(R))}else N={lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(A=I=N,v=k):I=I.next=N,p|=R;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;N=_,_=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);I===null&&(v=k),c.baseState=v,c.firstBaseUpdate=A,c.lastBaseUpdate=I,f===null&&(c.shared.lanes=0),Jn|=p,e.lanes=p,e.memoizedState=k}}function Sp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Tp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Sp(r[e],n)}var ws=M(null),wl=M(0);function Cp(e,n){e=An,P(wl,e),P(ws,n),An=e|n.baseLanes}function tu(){P(wl,An),P(ws,ws.current)}function nu(){An=wl.current,j(ws),j(wl)}var Yn=0,re=null,Te=null,je=null,Al=!1,As=!1,Pi=!1,Rl=0,jr=0,Rs=null,l0=0;function Pe(){throw Error(a(321))}function iu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!At(e[r],n[r]))return!1;return!0}function su(e,n,r,l,c,f){return Yn=f,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?lm:om,Pi=!1,f=r(l,c),Pi=!1,As&&(f=Ap(n,r,l,c)),wp(e),f}function wp(e){O.H=Ml;var n=Te!==null&&Te.next!==null;if(Yn=0,je=Te=re=null,Al=!1,jr=0,Rs=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&bl(e)&&(Qe=!0))}function Ap(e,n,r,l){re=e;var c=0;do{if(As&&(Rs=null),jr=0,As=!1,25<=c)throw Error(a(301));if(c+=1,je=Te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=p0,f=n(r,l)}while(As);return f}function o0(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Vr(n):n,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(re.flags|=1024),n}function ru(){var e=Rl!==0;return Rl=0,e}function au(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function lu(e){if(Al){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Al=!1}Yn=0,je=Te=re=null,As=!1,jr=Rl=0,Rs=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?re.memoizedState=je=e:je=je.next=e,je}function Ve(){if(Te===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=je===null?re.memoizedState:je.next;if(n!==null)je=n,Te=e;else{if(e===null)throw re.alternate===null?Error(a(467)):Error(a(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},je===null?re.memoizedState=je=e:je=je.next=e}return je}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vr(e){var n=jr;return jr+=1,Rs===null&&(Rs=[]),e=vp(Rs,e,n),n=re,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?lm:om),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vr(e);if(e.$$typeof===me)return lt(e)}throw Error(a(438,String(e)))}function cu(e){var n=null,r=re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ou(),re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=tn;return n.index++,r}function bn(e,n){return typeof n=="function"?n(e):n}function xl(e){var n=Ve();return uu(n,Te,e)}function uu(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=p=null,v=null,A=n,I=!1;do{var k=A.lane&-536870913;if(k!==A.lane?(he&k)===k:(Yn&k)===k){var R=A.revertLane;if(R===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),k===Ts&&(I=!0);else if((Yn&R)===R){A=A.next,R===Ts&&(I=!0);continue}else k={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=k,p=f):v=v.next=k,re.lanes|=R,Jn|=R;k=A.action,Pi&&r(f,k),f=A.hasEagerState?A.eagerState:r(f,k)}else R={lane:k,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=R,p=f):v=v.next=R,re.lanes|=k,Jn|=k;A=A.next}while(A!==null&&A!==n);if(v===null?p=f:v.next=_,!At(f,e.memoizedState)&&(Qe=!0,I&&(r=Cs,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=v,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function fu(e){var n=Ve(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);At(f,n.memoizedState)||(Qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Rp(e,n,r){var l=re,c=Ve(),f=ye;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!At((Te||c).memoizedState,r);p&&(c.memoizedState=r,Qe=!0),c=c.queue;var _=Op.bind(null,l,c,e);if(qr(2048,8,_,[e]),c.getSnapshot!==n||p||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Ns(9,Ol(),xp.bind(null,l,c,r,n),null),xe===null)throw Error(a(349));f||(Yn&124)!==0||Np(l,n,r)}return r}function Np(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=re.updateQueue,n===null?(n=ou(),re.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function xp(e,n,r,l){n.value=r,n.getSnapshot=l,Ip(n)&&Dp(e)}function Op(e,n,r){return r(function(){Ip(n)&&Dp(e)})}function Ip(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!At(e,r)}catch{return!0}}function Dp(e){var n=vs(e,2);n!==null&&Dt(n,e,2)}function du(e){var n=gt();if(typeof e=="function"){var r=e;if(e=r(),Pi){Hn(!0);try{r()}finally{Hn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},n}function Mp(e,n,r,l){return e.baseState=r,uu(e,Te,typeof l=="function"?l:bn)}function c0(e,n,r,l,c){if(Dl(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};O.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,kp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function kp(e,n){var r=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=O.T,p={};O.T=p;try{var _=r(c,l),v=O.S;v!==null&&v(p,_),Lp(e,n,_)}catch(A){hu(e,n,A)}finally{O.T=f}}else try{f=r(c,l),Lp(e,n,f)}catch(A){hu(e,n,A)}}function Lp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Up(e,n,l)},function(l){return hu(e,n,l)}):Up(e,n,r)}function Up(e,n,r){n.status="fulfilled",n.value=r,zp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,kp(e,r)))}function hu(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,zp(n),n=n.next;while(n!==l)}e.action=null}function zp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Hp(e,n){return n}function Pp(e,n){if(ye){var r=xe.formState;if(r!==null){e:{var l=re;if(ye){if(Ue){t:{for(var c=Ue,f=rn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Kt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=Kt(c.nextSibling),l=c.data==="F!";break e}}Li(l)}l=!1}l&&(n=r[0])}}return r=gt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:n},r.queue=l,r=sm.bind(null,re,l),l.dispatch=r,l=du(!1),f=yu.bind(null,re,!1,l.queue),l=gt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,r=c0.bind(null,re,c,f,r),c.dispatch=r,l.memoizedState=e,[n,r,!1]}function Bp(e){var n=Ve();return jp(n,Te,e)}function jp(e,n,r){if(n=uu(e,n,Hp)[0],e=xl(bn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vr(n)}catch(p){throw p===Ur?Tl:p}else l=n;n=Ve();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(re.flags|=2048,Ns(9,Ol(),u0.bind(null,c,r),null)),[l,f,e]}function u0(e,n){e.action=n}function Vp(e){var n=Ve(),r=Te;if(r!==null)return jp(n,r,e);Ve(),n=n.memoizedState,r=Ve();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ns(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=re.updateQueue,n===null&&(n=ou(),re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Ol(){return{destroy:void 0,resource:void 0}}function qp(){return Ve().memoizedState}function Il(e,n,r,l){var c=gt();l=l===void 0?null:l,re.flags|=e,c.memoizedState=Ns(1|n,Ol(),r,l)}function qr(e,n,r,l){var c=Ve();l=l===void 0?null:l;var f=c.memoizedState.inst;Te!==null&&l!==null&&iu(l,Te.memoizedState.deps)?c.memoizedState=Ns(n,f,r,l):(re.flags|=e,c.memoizedState=Ns(1|n,f,r,l))}function Gp(e,n){Il(8390656,8,e,n)}function Yp(e,n){qr(2048,8,e,n)}function Fp(e,n){return qr(4,2,e,n)}function Kp(e,n){return qr(4,4,e,n)}function Qp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Xp(e,n,r){r=r!=null?r.concat([e]):null,qr(4,4,Qp.bind(null,n,e),r)}function pu(){}function Wp(e,n){var r=Ve();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&iu(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Zp(e,n){var r=Ve();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&iu(n,l[1]))return l[0];if(l=e(),Pi){Hn(!0);try{e()}finally{Hn(!1)}}return r.memoizedState=[l,n],l}function mu(e,n,r){return r===void 0||(Yn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=eg(),re.lanes|=e,Jn|=e,r)}function Jp(e,n,r,l){return At(r,n)?r:ws.current!==null?(e=mu(e,r,l),At(e,n)||(Qe=!0),e):(Yn&42)===0?(Qe=!0,e.memoizedState=r):(e=eg(),re.lanes|=e,Jn|=e,n)}function $p(e,n,r,l,c){var f=H.p;H.p=f!==0&&8>f?f:8;var p=O.T,_={};O.T=_,yu(e,!1,n,r);try{var v=c(),A=O.S;if(A!==null&&A(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=a0(v,l);Gr(e,n,I,It(e))}else Gr(e,n,l,It(e))}catch(k){Gr(e,n,{then:function(){},status:"rejected",reason:k},It())}finally{H.p=f,O.T=p}}function f0(){}function gu(e,n,r,l){if(e.tag!==5)throw Error(a(476));var c=em(e).queue;$p(e,c,n,Y,r===null?f0:function(){return tm(e),r(l)})}function em(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:Y},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tm(e){var n=em(e).next.queue;Gr(e,n,{},It())}function _u(){return lt(oa)}function nm(){return Ve().memoizedState}function im(){return Ve().memoizedState}function d0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=It();e=qn(r);var l=Gn(n,e,r);l!==null&&(Dt(l,n,r),Hr(l,n,r)),n={cache:Kc()},e.payload=n;return}n=n.return}}function h0(e,n,r){var l=It();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Dl(e)?rm(n,r):(r=zc(e,n,r,l),r!==null&&(Dt(r,e,l),am(r,n,l)))}function sm(e,n,r){var l=It();Gr(e,n,r,l)}function Gr(e,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dl(e))rm(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,_=f(p,r);if(c.hasEagerState=!0,c.eagerState=_,At(_,p))return ml(e,n,c,0),xe===null&&pl(),!1}catch{}finally{}if(r=zc(e,n,c,l),r!==null)return Dt(r,e,l),am(r,n,l),!0}return!1}function yu(e,n,r,l){if(l={lane:2,revertLane:Wu(),action:l,hasEagerState:!1,eagerState:null,next:null},Dl(e)){if(n)throw Error(a(479))}else n=zc(e,r,l,2),n!==null&&Dt(n,e,2)}function Dl(e){var n=e.alternate;return e===re||n!==null&&n===re}function rm(e,n){As=Al=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function am(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,ph(e,r)}}var Ml={readContext:lt,use:Nl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},lm={readContext:lt,use:Nl,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:lt,useEffect:Gp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Il(4194308,4,Qp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Il(4194308,4,e,n)},useInsertionEffect:function(e,n){Il(4,2,e,n)},useMemo:function(e,n){var r=gt();n=n===void 0?null:n;var l=e();if(Pi){Hn(!0);try{e()}finally{Hn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=gt();if(r!==void 0){var c=r(n);if(Pi){Hn(!0);try{r(n)}finally{Hn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=h0.bind(null,re,e),[l.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=du(e);var n=e.queue,r=sm.bind(null,re,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:pu,useDeferredValue:function(e,n){var r=gt();return mu(r,e,n)},useTransition:function(){var e=du(!1);return e=$p.bind(null,re,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=re,c=gt();if(ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),xe===null)throw Error(a(349));(he&124)!==0||Np(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Gp(Op.bind(null,l,f,e),[e]),l.flags|=2048,Ns(9,Ol(),xp.bind(null,l,f,r,n),null),r},useId:function(){var e=gt(),n=xe.identifierPrefix;if(ye){var r=_n,l=gn;r=(l&~(1<<32-wt(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Rl++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=l0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:_u,useFormState:Pp,useActionState:Pp,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yu.bind(null,re,!0,r),r.dispatch=n,[e,n]},useMemoCache:cu,useCacheRefresh:function(){return gt().memoizedState=d0.bind(null,re)}},om={readContext:lt,use:Nl,useCallback:Wp,useContext:lt,useEffect:Yp,useImperativeHandle:Xp,useInsertionEffect:Fp,useLayoutEffect:Kp,useMemo:Zp,useReducer:xl,useRef:qp,useState:function(){return xl(bn)},useDebugValue:pu,useDeferredValue:function(e,n){var r=Ve();return Jp(r,Te.memoizedState,e,n)},useTransition:function(){var e=xl(bn)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:Vr(e),n]},useSyncExternalStore:Rp,useId:nm,useHostTransitionStatus:_u,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,n){var r=Ve();return Mp(r,Te,e,n)},useMemoCache:cu,useCacheRefresh:im},p0={readContext:lt,use:Nl,useCallback:Wp,useContext:lt,useEffect:Yp,useImperativeHandle:Xp,useInsertionEffect:Fp,useLayoutEffect:Kp,useMemo:Zp,useReducer:fu,useRef:qp,useState:function(){return fu(bn)},useDebugValue:pu,useDeferredValue:function(e,n){var r=Ve();return Te===null?mu(r,e,n):Jp(r,Te.memoizedState,e,n)},useTransition:function(){var e=fu(bn)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:Vr(e),n]},useSyncExternalStore:Rp,useId:nm,useHostTransitionStatus:_u,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var r=Ve();return Te!==null?Mp(r,Te,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:cu,useCacheRefresh:im},xs=null,Yr=0;function kl(e){var n=Yr;return Yr+=1,xs===null&&(xs=[]),vp(xs,e,n)}function Fr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ll(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cm(e){var n=e._init;return n(e._payload)}function um(e){function n(C,T){if(e){var w=C.deletions;w===null?(C.deletions=[T],C.flags|=16):w.push(T)}}function r(C,T){if(!e)return null;for(;T!==null;)n(C,T),T=T.sibling;return null}function l(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function c(C,T){return C=mn(C,T),C.index=0,C.sibling=null,C}function f(C,T,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<T?(C.flags|=67108866,T):w):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function p(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,T,w,D){return T===null||T.tag!==6?(T=Pc(w,C.mode,D),T.return=C,T):(T=c(T,w),T.return=C,T)}function v(C,T,w,D){var q=w.type;return q===U?I(C,T,w.props.children,D,w.key):T!==null&&(T.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===rt&&cm(q)===T.type)?(T=c(T,w.props),Fr(T,w),T.return=C,T):(T=_l(w.type,w.key,w.props,null,C.mode,D),Fr(T,w),T.return=C,T)}function A(C,T,w,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=Bc(w,C.mode,D),T.return=C,T):(T=c(T,w.children||[]),T.return=C,T)}function I(C,T,w,D,q){return T===null||T.tag!==7?(T=Ii(w,C.mode,D,q),T.return=C,T):(T=c(T,w),T.return=C,T)}function k(C,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Pc(""+T,C.mode,w),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case b:return w=_l(T.type,T.key,T.props,null,C.mode,w),Fr(w,T),w.return=C,w;case L:return T=Bc(T,C.mode,w),T.return=C,T;case rt:var D=T._init;return T=D(T._payload),k(C,T,w)}if(qe(T)||ee(T))return T=Ii(T,C.mode,w,null),T.return=C,T;if(typeof T.then=="function")return k(C,kl(T),w);if(T.$$typeof===me)return k(C,El(C,T),w);Ll(C,T)}return null}function R(C,T,w,D){var q=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return q!==null?null:_(C,T,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b:return w.key===q?v(C,T,w,D):null;case L:return w.key===q?A(C,T,w,D):null;case rt:return q=w._init,w=q(w._payload),R(C,T,w,D)}if(qe(w)||ee(w))return q!==null?null:I(C,T,w,D,null);if(typeof w.then=="function")return R(C,T,kl(w),D);if(w.$$typeof===me)return R(C,T,El(C,w),D);Ll(C,w)}return null}function N(C,T,w,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return C=C.get(w)||null,_(T,C,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return C=C.get(D.key===null?w:D.key)||null,v(T,C,D,q);case L:return C=C.get(D.key===null?w:D.key)||null,A(T,C,D,q);case rt:var ae=D._init;return D=ae(D._payload),N(C,T,w,D,q)}if(qe(D)||ee(D))return C=C.get(w)||null,I(T,C,D,q,null);if(typeof D.then=="function")return N(C,T,w,kl(D),q);if(D.$$typeof===me)return N(C,T,w,El(T,D),q);Ll(T,D)}return null}function Z(C,T,w,D){for(var q=null,ae=null,G=T,X=T=0,We=null;G!==null&&X<w.length;X++){G.index>X?(We=G,G=null):We=G.sibling;var _e=R(C,G,w[X],D);if(_e===null){G===null&&(G=We);break}e&&G&&_e.alternate===null&&n(C,G),T=f(_e,T,X),ae===null?q=_e:ae.sibling=_e,ae=_e,G=We}if(X===w.length)return r(C,G),ye&&Mi(C,X),q;if(G===null){for(;X<w.length;X++)G=k(C,w[X],D),G!==null&&(T=f(G,T,X),ae===null?q=G:ae.sibling=G,ae=G);return ye&&Mi(C,X),q}for(G=l(G);X<w.length;X++)We=N(G,C,X,w[X],D),We!==null&&(e&&We.alternate!==null&&G.delete(We.key===null?X:We.key),T=f(We,T,X),ae===null?q=We:ae.sibling=We,ae=We);return e&&G.forEach(function(li){return n(C,li)}),ye&&Mi(C,X),q}function Q(C,T,w,D){if(w==null)throw Error(a(151));for(var q=null,ae=null,G=T,X=T=0,We=null,_e=w.next();G!==null&&!_e.done;X++,_e=w.next()){G.index>X?(We=G,G=null):We=G.sibling;var li=R(C,G,_e.value,D);if(li===null){G===null&&(G=We);break}e&&G&&li.alternate===null&&n(C,G),T=f(li,T,X),ae===null?q=li:ae.sibling=li,ae=li,G=We}if(_e.done)return r(C,G),ye&&Mi(C,X),q;if(G===null){for(;!_e.done;X++,_e=w.next())_e=k(C,_e.value,D),_e!==null&&(T=f(_e,T,X),ae===null?q=_e:ae.sibling=_e,ae=_e);return ye&&Mi(C,X),q}for(G=l(G);!_e.done;X++,_e=w.next())_e=N(G,C,X,_e.value,D),_e!==null&&(e&&_e.alternate!==null&&G.delete(_e.key===null?X:_e.key),T=f(_e,T,X),ae===null?q=_e:ae.sibling=_e,ae=_e);return e&&G.forEach(function(mS){return n(C,mS)}),ye&&Mi(C,X),q}function we(C,T,w,D){if(typeof w=="object"&&w!==null&&w.type===U&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case b:e:{for(var q=w.key;T!==null;){if(T.key===q){if(q=w.type,q===U){if(T.tag===7){r(C,T.sibling),D=c(T,w.props.children),D.return=C,C=D;break e}}else if(T.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===rt&&cm(q)===T.type){r(C,T.sibling),D=c(T,w.props),Fr(D,w),D.return=C,C=D;break e}r(C,T);break}else n(C,T);T=T.sibling}w.type===U?(D=Ii(w.props.children,C.mode,D,w.key),D.return=C,C=D):(D=_l(w.type,w.key,w.props,null,C.mode,D),Fr(D,w),D.return=C,C=D)}return p(C);case L:e:{for(q=w.key;T!==null;){if(T.key===q)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){r(C,T.sibling),D=c(T,w.children||[]),D.return=C,C=D;break e}else{r(C,T);break}else n(C,T);T=T.sibling}D=Bc(w,C.mode,D),D.return=C,C=D}return p(C);case rt:return q=w._init,w=q(w._payload),we(C,T,w,D)}if(qe(w))return Z(C,T,w,D);if(ee(w)){if(q=ee(w),typeof q!="function")throw Error(a(150));return w=q.call(w),Q(C,T,w,D)}if(typeof w.then=="function")return we(C,T,kl(w),D);if(w.$$typeof===me)return we(C,T,El(C,w),D);Ll(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(r(C,T.sibling),D=c(T,w),D.return=C,C=D):(r(C,T),D=Pc(w,C.mode,D),D.return=C,C=D),p(C)):r(C,T)}return function(C,T,w,D){try{Yr=0;var q=we(C,T,w,D);return xs=null,q}catch(G){if(G===Ur||G===Tl)throw G;var ae=Rt(29,G,null,C.mode);return ae.lanes=D,ae.return=C,ae}finally{}}}var Os=um(!0),fm=um(!1),Vt=M(null),an=null;function Fn(e){var n=e.alternate;P(Ye,Ye.current&1),P(Vt,e),an===null&&(n===null||ws.current!==null||n.memoizedState!==null)&&(an=e)}function dm(e){if(e.tag===22){if(P(Ye,Ye.current),P(Vt,e),an===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(an=e)}}else Kn()}function Kn(){P(Ye,Ye.current),P(Vt,Vt.current)}function En(e){j(Vt),an===e&&(an=null),j(Ye)}var Ye=M(0);function Ul(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||cf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function vu(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bu={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=It(),c=qn(l);c.payload=n,r!=null&&(c.callback=r),n=Gn(e,c,l),n!==null&&(Dt(n,e,l),Hr(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=It(),c=qn(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gn(e,c,l),n!==null&&(Dt(n,e,l),Hr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=It(),l=qn(r);l.tag=2,n!=null&&(l.callback=n),n=Gn(e,l,r),n!==null&&(Dt(n,e,r),Hr(n,e,r))}};function hm(e,n,r,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Nr(r,l)||!Nr(c,f):!0}function pm(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&bu.enqueueReplaceState(n,n.state,null)}function Bi(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=y({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mm(e){zl(e)}function gm(e){console.error(e)}function _m(e){zl(e)}function Hl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ym(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eu(e,n,r){return r=qn(r),r.tag=3,r.payload={element:null},r.callback=function(){Hl(e,n)},r}function vm(e){return e=qn(e),e.tag=3,e}function bm(e,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){ym(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ym(n,r,l),typeof c!="function"&&($n===null?$n=new Set([this]):$n.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function m0(e,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Mr(n,r,c,!0),r=Vt.current,r!==null){switch(r.tag){case 13:return an===null?Yu():r.alternate===null&&ze===0&&(ze=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Ku(e,l,c)),!1;case 22:return r.flags|=65536,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Ku(e,l,c)),!1}throw Error(a(435,r.tag))}return Ku(e,l,c),Yu(),!1}if(ye)return n=Vt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(e=Error(a(422),{cause:l}),Dr(Ht(e,r)))):(l!==qc&&(n=Error(a(423),{cause:l}),Dr(Ht(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ht(l,r),c=Eu(e.stateNode,l,c),$c(e,c),ze!==4&&(ze=2)),!1;var f=Error(a(520),{cause:l});if(f=Ht(f,r),$r===null?$r=[f]:$r.push(f),ze!==4&&(ze=2),n===null)return!0;l=Ht(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Eu(r.stateNode,l,e),$c(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($n===null||!$n.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=vm(c),bm(c,e,r,l),$c(r,c),!1}r=r.return}while(r!==null);return!1}var Em=Error(a(461)),Qe=!1;function et(e,n,r,l){n.child=e===null?fm(n,null,r,l):Os(n,e.child,r,l)}function Sm(e,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var _ in l)_!=="ref"&&(p[_]=l[_])}else p=l;return zi(n),l=su(e,n,r,p,f,c),_=ru(),e!==null&&!Qe?(au(e,n,c),Sn(e,n,c)):(ye&&_&&jc(n),n.flags|=1,et(e,n,l,c),n.child)}function Tm(e,n,r,l,c){if(e===null){var f=r.type;return typeof f=="function"&&!Hc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cm(e,n,f,l,c)):(e=_l(r.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xu(e,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Nr,r(p,l)&&e.ref===n.ref)return Sn(e,n,c)}return n.flags|=1,e=mn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Cm(e,n,r,l,c){if(e!==null){var f=e.memoizedProps;if(Nr(f,l)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=l=f,xu(e,c))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,Sn(e,n,c)}return Su(e,n,r,l,c)}function wm(e,n,r){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Am(e,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sl(n,f!==null?f.cachePool:null),f!==null?Cp(n,f):tu(),dm(n);else return n.lanes=n.childLanes=536870912,Am(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Sl(n,f.cachePool),Cp(n,f),Kn(),n.memoizedState=null):(e!==null&&Sl(n,null),tu(),Kn());return et(e,n,c,r),n.child}function Am(e,n,r,l){var c=Xc();return c=c===null?null:{parent:Ge._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&Sl(n,null),tu(),dm(n),e!==null&&Mr(e,n,l,!0),null}function Pl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Su(e,n,r,l,c){return zi(n),r=su(e,n,r,l,void 0,c),l=ru(),e!==null&&!Qe?(au(e,n,c),Sn(e,n,c)):(ye&&l&&jc(n),n.flags|=1,et(e,n,r,c),n.child)}function Rm(e,n,r,l,c,f){return zi(n),n.updateQueue=null,r=Ap(n,l,r,c),wp(e),l=ru(),e!==null&&!Qe?(au(e,n,f),Sn(e,n,f)):(ye&&l&&jc(n),n.flags|=1,et(e,n,r,f),n.child)}function Nm(e,n,r,l,c){if(zi(n),n.stateNode===null){var f=bs,p=r.contextType;typeof p=="object"&&p!==null&&(f=lt(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?lt(p):bs,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(vu(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&bu.enqueueReplaceState(f,f.state,null),Br(n,l,f,c),Pr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,v=Bi(r,_);f.props=v;var A=f.context,I=r.contextType;p=bs,typeof I=="object"&&I!==null&&(p=lt(I));var k=r.getDerivedStateFromProps;I=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||A!==p)&&pm(n,f,l,p),Vn=!1;var R=n.memoizedState;f.state=R,Br(n,l,f,c),Pr(),A=n.memoizedState,_||R!==A||Vn?(typeof k=="function"&&(vu(n,r,k,l),A=n.memoizedState),(v=Vn||hm(n,r,v,l,R,A,p))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),f.props=l,f.state=A,f.context=p,l=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Jc(e,n),p=n.memoizedProps,I=Bi(r,p),f.props=I,k=n.pendingProps,R=f.context,A=r.contextType,v=bs,typeof A=="object"&&A!==null&&(v=lt(A)),_=r.getDerivedStateFromProps,(A=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==k||R!==v)&&pm(n,f,l,v),Vn=!1,R=n.memoizedState,f.state=R,Br(n,l,f,c),Pr();var N=n.memoizedState;p!==k||R!==N||Vn||e!==null&&e.dependencies!==null&&bl(e.dependencies)?(typeof _=="function"&&(vu(n,r,_,l),N=n.memoizedState),(I=Vn||hm(n,r,I,l,R,N,v)||e!==null&&e.dependencies!==null&&bl(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=v,l=I):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Pl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Os(n,e.child,null,c),n.child=Os(n,null,r,c)):et(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Sn(e,n,c),e}function xm(e,n,r,l){return Ir(),n.flags|=256,et(e,n,r,l),n.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(e){return{baseLanes:e,cachePool:gp()}}function wu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=qt),e}function Om(e,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(ye){if(c?Fn(n):Kn(),ye){var _=Ue,v;if(v=_){e:{for(v=_,_=rn;v.nodeType!==8;){if(!_){_=null;break e}if(v=Kt(v.nextSibling),v===null){_=null;break e}}_=v}_!==null?(n.memoizedState={dehydrated:_,treeContext:Di!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},v=Rt(18,null,null,0),v.stateNode=_,v.return=n,n.child=v,ft=n,Ue=null,v=!0):v=!1}v||Li(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return cf(_)?n.lanes=32:n.lanes=536870912,null;En(n)}return _=l.children,l=l.fallback,c?(Kn(),c=n.mode,_=Bl({mode:"hidden",children:_},c),l=Ii(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Cu(r),c.childLanes=wu(e,p,r),n.memoizedState=Tu,l):(Fn(n),Au(n,_))}if(v=e.memoizedState,v!==null&&(_=v.dehydrated,_!==null)){if(f)n.flags&256?(Fn(n),n.flags&=-257,n=Ru(e,n,r)):n.memoizedState!==null?(Kn(),n.child=e.child,n.flags|=128,n=null):(Kn(),c=l.fallback,_=n.mode,l=Bl({mode:"visible",children:l.children},_),c=Ii(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Os(n,e.child,null,r),l=n.child,l.memoizedState=Cu(r),l.childLanes=wu(e,p,r),n.memoizedState=Tu,n=c);else if(Fn(n),cf(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var A=p.dgst;p=A,l=Error(a(419)),l.stack="",l.digest=p,Dr({value:l,source:null,stack:null}),n=Ru(e,n,r)}else if(Qe||Mr(e,n,r,!1),p=(r&e.childLanes)!==0,Qe||p){if(p=xe,p!==null&&(l=r&-r,l=(l&42)!==0?1:cc(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==v.retryLane))throw v.retryLane=l,vs(e,l),Dt(p,e,l),Em;_.data==="$?"||Yu(),n=Ru(e,n,r)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Ue=Kt(_.nextSibling),ft=n,ye=!0,ki=null,rn=!1,e!==null&&(Bt[jt++]=gn,Bt[jt++]=_n,Bt[jt++]=Di,gn=e.id,_n=e.overflow,Di=n),n=Au(n,l.children),n.flags|=4096);return n}return c?(Kn(),c=l.fallback,_=n.mode,v=e.child,A=v.sibling,l=mn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,A!==null?c=mn(A,c):(c=Ii(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=e.child.memoizedState,_===null?_=Cu(r):(v=_.cachePool,v!==null?(A=Ge._currentValue,v=v.parent!==A?{parent:A,pool:A}:v):v=gp(),_={baseLanes:_.baseLanes|r,cachePool:v}),c.memoizedState=_,c.childLanes=wu(e,p,r),n.memoizedState=Tu,l):(Fn(n),r=e.child,e=r.sibling,r=mn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Au(e,n){return n=Bl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bl(e,n){return e=Rt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ru(e,n,r){return Os(n,e.child,null,r),e=Au(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Im(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Yc(e.return,n,r)}function Nu(e,n,r,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Dm(e,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(et(e,n,l.children,r),l=Ye.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Im(e,r,n);else if(e.tag===19)Im(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(P(Ye,l),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Ul(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nu(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ul(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Nu(n,!0,r,null,f);break;case"together":Nu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Sn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Jn|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Mr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=mn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=mn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function xu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bl(e)))}function g0(e,n,r){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),jn(n,Ge,e.memoizedState.cache),Ir();break;case 27:case 5:sc(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:jn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fn(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Om(e,n,r):(Fn(n),e=Sn(e,n,r),e!==null?e.sibling:null);Fn(n);break;case 19:var c=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Mr(e,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Dm(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(Ye,Ye.current),l)break;return null;case 22:case 23:return n.lanes=0,wm(e,n,r);case 24:jn(n,Ge,e.memoizedState.cache)}return Sn(e,n,r)}function Mm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!xu(e,r)&&(n.flags&128)===0)return Qe=!1,g0(e,n,r);Qe=(e.flags&131072)!==0}else Qe=!1,ye&&(n.flags&1048576)!==0&&cp(n,vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Hc(l)?(e=Bi(l,e),n.tag=1,n=Nm(null,n,l,e,r)):(n.tag=0,n=Su(null,n,l,e,r));else{if(l!=null){if(c=l.$$typeof,c===be){n.tag=11,n=Sm(null,n,l,e,r);break e}else if(c===st){n.tag=14,n=Tm(null,n,l,e,r);break e}}throw n=Lt(l)||l,Error(a(306,n,""))}}return n;case 0:return Su(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Bi(l,n.pendingProps),Nm(e,n,l,c,r);case 3:e:{if(Me(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Jc(e,n),Br(n,l,null,r);var p=n.memoizedState;if(l=p.cache,jn(n,Ge,l),l!==f.cache&&Fc(n,[Ge],r,!0),Pr(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xm(e,n,l,r);break e}else if(l!==c){c=Ht(Error(a(424)),n),Dr(c),n=xm(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Kt(e.firstChild),ft=n,ye=!0,ki=null,rn=!0,r=fm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ir(),l===c){n=Sn(e,n,r);break e}et(e,n,l,r)}n=n.child}return n;case 26:return Pl(e,n),e===null?(r=zg(n.type,null,n.pendingProps,null))?n.memoizedState=r:ye||(r=n.type,e=n.pendingProps,l=eo($.current).createElement(r),l[at]=n,l[pt]=e,nt(l,r,e),Ke(l),n.stateNode=l):n.memoizedState=zg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sc(n),e===null&&ye&&(l=n.stateNode=kg(n.type,n.pendingProps,$.current),ft=n,rn=!0,c=Ue,ni(n.type)?(uf=c,Ue=Kt(l.firstChild)):Ue=c),et(e,n,n.pendingProps.children,r),Pl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ye&&((c=l=Ue)&&(l=G0(l,n.type,n.pendingProps,rn),l!==null?(n.stateNode=l,ft=n,Ue=Kt(l.firstChild),rn=!1,c=!0):c=!1),c||Li(n)),sc(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,af(c,f)?l=null:p!==null&&af(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=su(e,n,o0,null,null,r),oa._currentValue=c),Pl(e,n),et(e,n,l,r),n.child;case 6:return e===null&&ye&&((e=r=Ue)&&(r=Y0(r,n.pendingProps,rn),r!==null?(n.stateNode=r,ft=n,Ue=null,e=!0):e=!1),e||Li(n)),null;case 13:return Om(e,n,r);case 4:return Me(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Os(n,null,l,r):et(e,n,l,r),n.child;case 11:return Sm(e,n,n.type,n.pendingProps,r);case 7:return et(e,n,n.pendingProps,r),n.child;case 8:return et(e,n,n.pendingProps.children,r),n.child;case 12:return et(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,jn(n,n.type,l.value),et(e,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,zi(n),c=lt(c),l=l(c),n.flags|=1,et(e,n,l,r),n.child;case 14:return Tm(e,n,n.type,n.pendingProps,r);case 15:return Cm(e,n,n.type,n.pendingProps,r);case 19:return Dm(e,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},e===null?(r=Bl(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=mn(e.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return wm(e,n,r);case 24:return zi(n),l=lt(Ge),e===null?(c=Xc(),c===null&&(c=xe,f=Kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),jn(n,Ge,c)):((e.lanes&r)!==0&&(Jc(e,n),Br(n,null,null,r),Pr()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),jn(n,Ge,l)):(l=f.cache,jn(n,Ge,l),l!==c.cache&&Fc(n,[Ge],r,!0))),et(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Tn(e){e.flags|=4}function km(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vg(n)){if(n=Vt.current,n!==null&&((he&4194048)===he?an!==null:(he&62914560)!==he&&(he&536870912)===0||n!==an))throw zr=Wc,_p;e.flags|=8192}}function jl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?dh():536870912,e.lanes|=n,ks|=n)}function Kr(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Le(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function _0(e,n,r){var l=n.pendingProps;switch(Vc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(n),null;case 1:return Le(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vn(Ge),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Or(n)?Tn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dp())),Le(n),null;case 26:return r=n.memoizedState,e===null?(Tn(n),r!==null?(Le(n),km(n,r)):(Le(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Tn(n),Le(n),km(n,r)):(Le(n),n.flags&=-16777217):(e.memoizedProps!==l&&Tn(n),Le(n),n.flags&=-16777217),null;case 27:Ja(n),r=$.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Le(n),null}e=K.current,Or(n)?up(n):(e=kg(c,l,r),n.stateNode=e,Tn(n))}return Le(n),null;case 5:if(Ja(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Le(n),null}if(e=K.current,Or(n))up(n);else{switch(c=eo($.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}e[at]=n,e[pt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(nt(e,r,l),r){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Tn(n)}}return Le(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=$.current,Or(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,c=ft,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[at]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Rg(e.nodeValue,r)),e||Li(n)}else e=eo(e).createTextNode(l),e[at]=n,n.stateNode=e}return Le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Or(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[at]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Le(n),c=!1}else c=dp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(En(n),n):(En(n),null)}if(En(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,e=e!==null&&e.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),jl(n,n.updateQueue),Le(n),null;case 4:return zn(),e===null&&ef(n.stateNode.containerInfo),Le(n),null;case 10:return vn(n.type),Le(n),null;case 19:if(j(Ye),c=n.memoizedState,c===null)return Le(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Kr(c,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ul(e),f!==null){for(n.flags|=128,Kr(c,!1),e=f.updateQueue,n.updateQueue=e,jl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)op(r,e),r=r.sibling;return P(Ye,Ye.current&1|2),n.child}e=e.sibling}c.tail!==null&&sn()>Gl&&(n.flags|=128,l=!0,Kr(c,!1),n.lanes=4194304)}else{if(!l)if(e=Ul(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,jl(n,e),Kr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!ye)return Le(n),null}else 2*sn()-c.renderingStartTime>Gl&&r!==536870912&&(n.flags|=128,l=!0,Kr(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=sn(),n.sibling=null,e=Ye.current,P(Ye,l?e&1|2:e&1),n):(Le(n),null);case 22:case 23:return En(n),nu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Le(n),n.subtreeFlags&6&&(n.flags|=8192)):Le(n),r=n.updateQueue,r!==null&&jl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&j(Hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vn(Ge),Le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function y0(e,n){switch(Vc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vn(Ge),zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ja(n),null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(Ye),null;case 4:return zn(),null;case 10:return vn(n.type),null;case 22:case 23:return En(n),nu(),e!==null&&j(Hi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vn(Ge),null;case 25:return null;default:return null}}function Lm(e,n){switch(Vc(n),n.tag){case 3:vn(Ge),zn();break;case 26:case 27:case 5:Ja(n);break;case 4:zn();break;case 13:En(n);break;case 19:j(Ye);break;case 10:vn(n.type);break;case 22:case 23:En(n),nu(),e!==null&&j(Hi);break;case 24:vn(Ge)}}function Qr(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(_){Re(n,n.return,_)}}function Qn(e,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var p=l.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,c=n;var v=r,A=_;try{A()}catch(I){Re(c,v,I)}}}l=l.next}while(l!==f)}}catch(I){Re(n,n.return,I)}}function Um(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Tp(n,r)}catch(l){Re(e,e.return,l)}}}function zm(e,n,r){r.props=Bi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Re(e,n,l)}}function Xr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Re(e,n,c)}}function ln(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Re(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Re(e,n,c)}else r.current=null}function Hm(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Re(e,e.return,c)}}function Ou(e,n,r){try{var l=e.stateNode;P0(l,e.type,r,n),l[pt]=n}catch(c){Re(e,e.return,c)}}function Pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ni(e.type)||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$l));else if(l!==4&&(l===27&&ni(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Du(e,n,r),e=e.sibling;e!==null;)Du(e,n,r),e=e.sibling}function Vl(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&ni(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Vl(e,n,r),e=e.sibling;e!==null;)Vl(e,n,r),e=e.sibling}function Bm(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);nt(n,l,r),n[at]=e,n[pt]=r}catch(f){Re(e,e.return,f)}}var Cn=!1,Be=!1,Mu=!1,jm=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function v0(e,n){if(e=e.containerInfo,sf=ao,e=Jh(e),Ic(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,_=-1,v=-1,A=0,I=0,k=e,R=null;t:for(;;){for(var N;k!==r||c!==0&&k.nodeType!==3||(_=p+c),k!==f||l!==0&&k.nodeType!==3||(v=p+l),k.nodeType===3&&(p+=k.nodeValue.length),(N=k.firstChild)!==null;)R=k,k=N;for(;;){if(k===e)break t;if(R===r&&++A===c&&(_=p),R===f&&++I===l&&(v=p),(N=k.nextSibling)!==null)break;k=R,R=k.parentNode}k=N}r=_===-1||v===-1?null:{start:_,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:e,selectionRange:r},ao=!1,Xe=n;Xe!==null;)if(n=Xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Xe=e;else for(;Xe!==null;){switch(n=Xe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Z=Bi(r.type,c,r.elementType===r.type);e=l.getSnapshotBeforeUpdate(Z,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Q){Re(r,r.return,Q)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)of(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Xe=e;break}Xe=n.return}}function Vm(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(e,r),l&4&&Qr(5,r);break;case 1:if(Xn(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Re(r,r.return,p)}else{var c=Bi(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Re(r,r.return,p)}}l&64&&Um(r),l&512&&Xr(r,r.return);break;case 3:if(Xn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Tp(e,n)}catch(p){Re(r,r.return,p)}}break;case 27:n===null&&l&4&&Bm(r);case 26:case 5:Xn(e,r),n===null&&l&4&&Hm(r),l&512&&Xr(r,r.return);break;case 12:Xn(e,r);break;case 13:Xn(e,r),l&4&&Ym(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=N0.bind(null,r),F0(e,r))));break;case 22:if(l=r.memoizedState!==null||Cn,!l){n=n!==null&&n.memoizedState!==null||Be,c=Cn;var f=Be;Cn=l,(Be=n)&&!f?Wn(e,r,(r.subtreeFlags&8772)!==0):Xn(e,r),Cn=c,Be=f}break;case 30:break;default:Xn(e,r)}}function qm(e){var n=e.alternate;n!==null&&(e.alternate=null,qm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&dc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,_t=!1;function wn(e,n,r){for(r=r.child;r!==null;)Gm(e,n,r),r=r.sibling}function Gm(e,n,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(gr,r)}catch{}switch(r.tag){case 26:Be||ln(r,n),wn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Be||ln(r,n);var l=ke,c=_t;ni(r.type)&&(ke=r.stateNode,_t=!1),wn(e,n,r),sa(r.stateNode),ke=l,_t=c;break;case 5:Be||ln(r,n);case 6:if(l=ke,c=_t,ke=null,wn(e,n,r),ke=l,_t=c,ke!==null)if(_t)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(r.stateNode)}catch(f){Re(r,n,f)}else try{ke.removeChild(r.stateNode)}catch(f){Re(r,n,f)}break;case 18:ke!==null&&(_t?(e=ke,Dg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),da(e)):Dg(ke,r.stateNode));break;case 4:l=ke,c=_t,ke=r.stateNode.containerInfo,_t=!0,wn(e,n,r),ke=l,_t=c;break;case 0:case 11:case 14:case 15:Be||Qn(2,r,n),Be||Qn(4,r,n),wn(e,n,r);break;case 1:Be||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&zm(r,n,l)),wn(e,n,r);break;case 21:wn(e,n,r);break;case 22:Be=(l=Be)||r.memoizedState!==null,wn(e,n,r),Be=l;break;default:wn(e,n,r)}}function Ym(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{da(e)}catch(r){Re(n,n.return,r)}}function b0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new jm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new jm),n;default:throw Error(a(435,e.tag))}}function ku(e,n){var r=b0(e);n.forEach(function(l){var c=x0.bind(null,e,l);r.has(l)||(r.add(l),l.then(c,c))})}function Nt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 27:if(ni(_.type)){ke=_.stateNode,_t=!1;break e}break;case 5:ke=_.stateNode,_t=!1;break e;case 3:case 4:ke=_.stateNode.containerInfo,_t=!0;break e}_=_.return}if(ke===null)throw Error(a(160));Gm(f,p,c),ke=null,_t=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fm(n,e),n=n.sibling}var Ft=null;function Fm(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(n,e),xt(e),l&4&&(Qn(3,e,e.return),Qr(3,e),Qn(5,e,e.return));break;case 1:Nt(n,e),xt(e),l&512&&(Be||r===null||ln(r,r.return)),l&64&&Cn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ft;if(Nt(n,e),xt(e),l&512&&(Be||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[vr]||f[at]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),nt(f,l,r),f[at]=e,Ke(f),l=f;break e;case"link":var p=Bg("link","href",c).get(l+(r.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(_,1);break t}}f=c.createElement(l),nt(f,l,r),c.head.appendChild(f);break;case"meta":if(p=Bg("meta","content",c).get(l+(r.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(_,1);break t}}f=c.createElement(l),nt(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[at]=e,Ke(f),l=f}e.stateNode=l}else jg(c,e.type,e.stateNode);else e.stateNode=Pg(c,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?jg(c,e.type,e.stateNode):Pg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ou(e,e.memoizedProps,r.memoizedProps)}break;case 27:Nt(n,e),xt(e),l&512&&(Be||r===null||ln(r,r.return)),r!==null&&l&4&&Ou(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Nt(n,e),xt(e),l&512&&(Be||r===null||ln(r,r.return)),e.flags&32){c=e.stateNode;try{ds(c,"")}catch(N){Re(e,e.return,N)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Ou(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Mu=!0);break;case 6:if(Nt(n,e),xt(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(N){Re(e,e.return,N)}}break;case 3:if(io=null,c=Ft,Ft=to(n.containerInfo),Nt(n,e),Ft=c,xt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{da(n.containerInfo)}catch(N){Re(e,e.return,N)}Mu&&(Mu=!1,Km(e));break;case 4:l=Ft,Ft=to(e.stateNode.containerInfo),Nt(n,e),xt(e),Ft=l;break;case 12:Nt(n,e),xt(e);break;case 13:Nt(n,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bu=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ku(e,l)));break;case 22:c=e.memoizedState!==null;var v=r!==null&&r.memoizedState!==null,A=Cn,I=Be;if(Cn=A||c,Be=I||v,Nt(n,e),Be=I,Cn=A,xt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||v||Cn||Be||ji(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){v=r=n;try{if(f=v.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=v.stateNode;var k=v.memoizedProps.style,R=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(N){Re(v,v.return,N)}}}else if(n.tag===6){if(r===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(N){Re(v,v.return,N)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ku(e,r))));break;case 19:Nt(n,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ku(e,l)));break;case 30:break;case 21:break;default:Nt(n,e),xt(e)}}function xt(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Pm(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Iu(e);Vl(e,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(ds(p,""),r.flags&=-33);var _=Iu(e);Vl(e,_,p);break;case 3:case 4:var v=r.stateNode.containerInfo,A=Iu(e);Du(e,A,v);break;default:throw Error(a(161))}}catch(I){Re(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Km(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Km(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vm(e,n.alternate,n),n=n.sibling}function ji(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qn(4,n,n.return),ji(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&zm(n,n.return,r),ji(n);break;case 27:sa(n.stateNode);case 26:case 5:ln(n,n.return),ji(n);break;case 22:n.memoizedState===null&&ji(n);break;case 30:ji(n);break;default:ji(n)}e=e.sibling}}function Wn(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Wn(c,f,r),Qr(4,f);break;case 1:if(Wn(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Re(l,l.return,A)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)Sp(v[c],_)}catch(A){Re(l,l.return,A)}}r&&p&64&&Um(f),Xr(f,f.return);break;case 27:Bm(f);case 26:case 5:Wn(c,f,r),r&&l===null&&p&4&&Hm(f),Xr(f,f.return);break;case 12:Wn(c,f,r);break;case 13:Wn(c,f,r),r&&p&4&&Ym(c,f);break;case 22:f.memoizedState===null&&Wn(c,f,r),Xr(f,f.return);break;case 30:break;default:Wn(c,f,r)}n=n.sibling}}function Lu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&kr(r))}function Uu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kr(e))}function on(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qm(e,n,r,l),n=n.sibling}function Qm(e,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n,r,l),c&2048&&Qr(9,n);break;case 1:on(e,n,r,l);break;case 3:on(e,n,r,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kr(e)));break;case 12:if(c&2048){on(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Re(n,n.return,v)}}else on(e,n,r,l);break;case 13:on(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?on(e,n,r,l):Wr(e,n):f._visibility&2?on(e,n,r,l):(f._visibility|=2,Is(e,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Lu(p,n);break;case 24:on(e,n,r,l),c&2048&&Uu(n.alternate,n);break;default:on(e,n,r,l)}}function Is(e,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,p=n,_=r,v=l,A=p.flags;switch(p.tag){case 0:case 11:case 15:Is(f,p,_,v,c),Qr(8,p);break;case 23:break;case 22:var I=p.stateNode;p.memoizedState!==null?I._visibility&2?Is(f,p,_,v,c):Wr(f,p):(I._visibility|=2,Is(f,p,_,v,c)),c&&A&2048&&Lu(p.alternate,p);break;case 24:Is(f,p,_,v,c),c&&A&2048&&Uu(p.alternate,p);break;default:Is(f,p,_,v,c)}n=n.sibling}}function Wr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,c=l.flags;switch(l.tag){case 22:Wr(r,l),c&2048&&Lu(l.alternate,l);break;case 24:Wr(r,l),c&2048&&Uu(l.alternate,l);break;default:Wr(r,l)}n=n.sibling}}var Zr=8192;function Ds(e){if(e.subtreeFlags&Zr)for(e=e.child;e!==null;)Xm(e),e=e.sibling}function Xm(e){switch(e.tag){case 26:Ds(e),e.flags&Zr&&e.memoizedState!==null&&rS(Ft,e.memoizedState,e.memoizedProps);break;case 5:Ds(e);break;case 3:case 4:var n=Ft;Ft=to(e.stateNode.containerInfo),Ds(e),Ft=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zr,Zr=16777216,Ds(e),Zr=n):Ds(e));break;default:Ds(e)}}function Wm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Xe=l,Jm(l,e)}Wm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zm(e),e=e.sibling}function Zm(e){switch(e.tag){case 0:case 11:case 15:Jr(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:Jr(e);break;case 12:Jr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ql(e)):Jr(e);break;default:Jr(e)}}function ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Xe=l,Jm(l,e)}Wm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qn(8,n,n.return),ql(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ql(n));break;default:ql(n)}e=e.sibling}}function Jm(e,n){for(;Xe!==null;){var r=Xe;switch(r.tag){case 0:case 11:case 15:Qn(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Xe=l;else e:for(r=e;Xe!==null;){l=Xe;var c=l.sibling,f=l.return;if(qm(l),l===r){Xe=null;break e}if(c!==null){c.return=f,Xe=c;break e}Xe=f}}}var E0={getCacheForType:function(e){var n=lt(Ge),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},S0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,xe=null,ce=null,he=0,Se=0,Ot=null,Zn=!1,Ms=!1,zu=!1,An=0,ze=0,Jn=0,Vi=0,Hu=0,qt=0,ks=0,$r=null,yt=null,Pu=!1,Bu=0,Gl=1/0,Yl=null,$n=null,tt=0,ei=null,Ls=null,Us=0,ju=0,Vu=null,$m=null,ea=0,qu=null;function It(){if((Ee&2)!==0&&he!==0)return he&-he;if(O.T!==null){var e=Ts;return e!==0?e:Wu()}return mh()}function eg(){qt===0&&(qt=(he&536870912)===0||ye?fh():536870912);var e=Vt.current;return e!==null&&(e.flags|=32),qt}function Dt(e,n,r){(e===xe&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(zs(e,0),ti(e,he,qt,!1)),yr(e,r),((Ee&2)===0||e!==xe)&&(e===xe&&((Ee&2)===0&&(Vi|=r),ze===4&&ti(e,he,qt,!1)),cn(e))}function tg(e,n,r){if((Ee&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&e.expiredLanes)===0||_r(e,n),c=l?w0(e,n):Fu(e,n,!0),f=l;do{if(c===0){Ms&&!l&&ti(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!T0(r)){c=Fu(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var _=e;c=$r;var v=_.current.memoizedState.isDehydrated;if(v&&(zs(_,p).flags|=256),p=Fu(_,p,!1),p!==2){if(zu&&!v){_.errorRecoveryDisabledLanes|=f,Vi|=f,c=4;break e}f=yt,yt=c,f!==null&&(yt===null?yt=f:yt.push.apply(yt,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){zs(e,0),ti(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ti(l,n,qt,!Zn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Bu+300-sn(),10<c)){if(ti(l,n,qt,!Zn),nl(l,0,!0)!==0)break e;l.timeoutHandle=Og(ng.bind(null,l,r,yt,Yl,Pu,n,qt,Vi,ks,Zn,f,2,-0,0),c);break e}ng(l,r,yt,Yl,Pu,n,qt,Vi,ks,Zn,f,0,-0,0)}}break}while(!0);cn(e)}function ng(e,n,r,l,c,f,p,_,v,A,I,k,R,N){if(e.timeoutHandle=-1,k=n.subtreeFlags,(k&8192||(k&16785408)===16785408)&&(la={stylesheets:null,count:0,unsuspend:sS},Xm(n),k=aS(),k!==null)){e.cancelPendingCommit=k(cg.bind(null,e,n,f,r,l,c,p,_,v,I,1,R,N)),ti(e,f,p,!A);return}cg(e,n,f,r,l,c,p,_,v)}function T0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!At(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ti(e,n,r,l){n&=~Hu,n&=~Vi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-wt(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&hh(e,r,n)}function Fl(){return(Ee&6)===0?(ta(0),!1):!0}function Gu(){if(ce!==null){if(Se===0)var e=ce.return;else e=ce,yn=Ui=null,lu(e),xs=null,Yr=0,e=ce;for(;e!==null;)Lm(e.alternate,e),e=e.return;ce=null}}function zs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,j0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gu(),xe=e,ce=r=mn(e.current,null),he=n,Se=0,Ot=null,Zn=!1,Ms=_r(e,n),zu=!1,ks=qt=Hu=Vi=Jn=ze=0,yt=$r=null,Pu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-wt(l),f=1<<c;n|=e[c],l&=~f}return An=n,pl(),r}function ig(e,n){re=null,O.H=Ml,n===Ur||n===Tl?(n=bp(),Se=3):n===_p?(n=bp(),Se=4):Se=n===Em?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ot=n,ce===null&&(ze=1,Hl(e,Ht(n,e.current)))}function sg(){var e=O.H;return O.H=Ml,e===null?Ml:e}function rg(){var e=O.A;return O.A=E0,e}function Yu(){ze=4,Zn||(he&4194048)!==he&&Vt.current!==null||(Ms=!0),(Jn&134217727)===0&&(Vi&134217727)===0||xe===null||ti(xe,he,qt,!1)}function Fu(e,n,r){var l=Ee;Ee|=2;var c=sg(),f=rg();(xe!==e||he!==n)&&(Yl=null,zs(e,n)),n=!1;var p=ze;e:do try{if(Se!==0&&ce!==null){var _=ce,v=Ot;switch(Se){case 8:Gu(),p=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(n=!0);var A=Se;if(Se=0,Ot=null,Hs(e,_,v,A),r&&Ms){p=0;break e}break;default:A=Se,Se=0,Ot=null,Hs(e,_,v,A)}}C0(),p=ze;break}catch(I){ig(e,I)}while(!0);return n&&e.shellSuspendCounter++,yn=Ui=null,Ee=l,O.H=c,O.A=f,ce===null&&(xe=null,he=0,pl()),p}function C0(){for(;ce!==null;)ag(ce)}function w0(e,n){var r=Ee;Ee|=2;var l=sg(),c=rg();xe!==e||he!==n?(Yl=null,Gl=sn()+500,zs(e,n)):Ms=_r(e,n);e:do try{if(Se!==0&&ce!==null){n=ce;var f=Ot;t:switch(Se){case 1:Se=0,Ot=null,Hs(e,n,f,1);break;case 2:case 9:if(yp(f)){Se=0,Ot=null,lg(n);break}n=function(){Se!==2&&Se!==9||xe!==e||(Se=7),cn(e)},f.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:yp(f)?(Se=0,Ot=null,lg(n)):(Se=0,Ot=null,Hs(e,n,f,7));break;case 5:var p=null;switch(ce.tag){case 26:p=ce.memoizedState;case 5:case 27:var _=ce;if(!p||Vg(p)){Se=0,Ot=null;var v=_.sibling;if(v!==null)ce=v;else{var A=_.return;A!==null?(ce=A,Kl(A)):ce=null}break t}}Se=0,Ot=null,Hs(e,n,f,5);break;case 6:Se=0,Ot=null,Hs(e,n,f,6);break;case 8:Gu(),ze=6;break e;default:throw Error(a(462))}}A0();break}catch(I){ig(e,I)}while(!0);return yn=Ui=null,O.H=l,O.A=c,Ee=r,ce!==null?0:(xe=null,he=0,pl(),ze)}function A0(){for(;ce!==null&&!Qb();)ag(ce)}function ag(e){var n=Mm(e.alternate,e,An);e.memoizedProps=e.pendingProps,n===null?Kl(e):ce=n}function lg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Rm(r,n,n.pendingProps,n.type,void 0,he);break;case 11:n=Rm(r,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:lu(n);default:Lm(r,n),n=ce=op(n,An),n=Mm(r,n,An)}e.memoizedProps=e.pendingProps,n===null?Kl(e):ce=n}function Hs(e,n,r,l){yn=Ui=null,lu(n),xs=null,Yr=0;var c=n.return;try{if(m0(e,c,n,r,he)){ze=1,Hl(e,Ht(r,e.current)),ce=null;return}}catch(f){if(c!==null)throw ce=c,f;ze=1,Hl(e,Ht(r,e.current)),ce=null;return}n.flags&32768?(ye||l===1?e=!0:Ms||(he&536870912)!==0?e=!1:(Zn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vt.current,l!==null&&l.tag===13&&(l.flags|=16384))),og(n,e)):Kl(n)}function Kl(e){var n=e;do{if((n.flags&32768)!==0){og(n,Zn);return}e=n.return;var r=_0(n.alternate,n,An);if(r!==null){ce=r;return}if(n=n.sibling,n!==null){ce=n;return}ce=n=e}while(n!==null);ze===0&&(ze=5)}function og(e,n){do{var r=y0(e.alternate,e);if(r!==null){r.flags&=32767,ce=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ce=e;return}ce=e=r}while(e!==null);ze=6,ce=null}function cg(e,n,r,l,c,f,p,_,v){e.cancelPendingCommit=null;do Ql();while(tt!==0);if((Ee&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uc,sE(e,r,f,p,_,v),e===xe&&(ce=xe=null,he=0),Ls=n,ei=e,Us=r,ju=f,Vu=c,$m=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O0($a,function(){return pg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=H.p,H.p=2,p=Ee,Ee|=4;try{v0(e,n,r)}finally{Ee=p,H.p=c,O.T=l}}tt=1,ug(),fg(),dg()}}function ug(){if(tt===1){tt=0;var e=ei,n=Ls,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var l=H.p;H.p=2;var c=Ee;Ee|=4;try{Fm(n,e);var f=rf,p=Jh(e.containerInfo),_=f.focusedElem,v=f.selectionRange;if(p!==_&&_&&_.ownerDocument&&Zh(_.ownerDocument.documentElement,_)){if(v!==null&&Ic(_)){var A=v.start,I=v.end;if(I===void 0&&(I=A),"selectionStart"in _)_.selectionStart=A,_.selectionEnd=Math.min(I,_.value.length);else{var k=_.ownerDocument||document,R=k&&k.defaultView||window;if(R.getSelection){var N=R.getSelection(),Z=_.textContent.length,Q=Math.min(v.start,Z),we=v.end===void 0?Q:Math.min(v.end,Z);!N.extend&&Q>we&&(p=we,we=Q,Q=p);var C=Wh(_,Q),T=Wh(_,we);if(C&&T&&(N.rangeCount!==1||N.anchorNode!==C.node||N.anchorOffset!==C.offset||N.focusNode!==T.node||N.focusOffset!==T.offset)){var w=k.createRange();w.setStart(C.node,C.offset),N.removeAllRanges(),Q>we?(N.addRange(w),N.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),N.addRange(w))}}}}for(k=[],N=_;N=N.parentNode;)N.nodeType===1&&k.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var D=k[_];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}ao=!!sf,rf=sf=null}finally{Ee=c,H.p=l,O.T=r}}e.current=n,tt=2}}function fg(){if(tt===2){tt=0;var e=ei,n=Ls,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var l=H.p;H.p=2;var c=Ee;Ee|=4;try{Vm(e,n.alternate,n)}finally{Ee=c,H.p=l,O.T=r}}tt=3}}function dg(){if(tt===4||tt===3){tt=0,Xb();var e=ei,n=Ls,r=Us,l=$m;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,Ls=ei=null,hg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&($n=null),uc(r),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(gr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=H.p,H.p=2,O.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var _=l[p];f(_.value,{componentStack:_.stack})}}finally{O.T=n,H.p=c}}(Us&3)!==0&&Ql(),cn(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===qu?ea++:(ea=0,qu=e):ea=0,ta(0)}}function hg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kr(n)))}function Ql(e){return ug(),fg(),dg(),pg()}function pg(){if(tt!==5)return!1;var e=ei,n=ju;ju=0;var r=uc(Us),l=O.T,c=H.p;try{H.p=32>r?32:r,O.T=null,r=Vu,Vu=null;var f=ei,p=Us;if(tt=0,Ls=ei=null,Us=0,(Ee&6)!==0)throw Error(a(331));var _=Ee;if(Ee|=4,Zm(f.current),Qm(f,f.current,p,r),Ee=_,ta(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(gr,f)}catch{}return!0}finally{H.p=c,O.T=l,hg(e,n)}}function mg(e,n,r){n=Ht(r,n),n=Eu(e.stateNode,n,2),e=Gn(e,n,2),e!==null&&(yr(e,2),cn(e))}function Re(e,n,r){if(e.tag===3)mg(e,e,r);else for(;n!==null;){if(n.tag===3){mg(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($n===null||!$n.has(l))){e=Ht(r,e),r=vm(2),l=Gn(n,r,2),l!==null&&(bm(r,l,n,e),yr(l,2),cn(l));break}}n=n.return}}function Ku(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new S0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(zu=!0,c.add(r),e=R0.bind(null,e,n,r),n.then(e,e))}function R0(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,xe===e&&(he&r)===r&&(ze===4||ze===3&&(he&62914560)===he&&300>sn()-Bu?(Ee&2)===0&&zs(e,0):Hu|=r,ks===he&&(ks=0)),cn(e)}function gg(e,n){n===0&&(n=dh()),e=vs(e,n),e!==null&&(yr(e,n),cn(e))}function N0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),gg(e,r)}function x0(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),gg(e,r)}function O0(e,n){return ac(e,n)}var Xl=null,Ps=null,Qu=!1,Wl=!1,Xu=!1,qi=0;function cn(e){e!==Ps&&e.next===null&&(Ps===null?Xl=Ps=e:Ps=Ps.next=e),Wl=!0,Qu||(Qu=!0,D0())}function ta(e,n){if(!Xu&&Wl){Xu=!0;do for(var r=!1,l=Xl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-wt(42|e)+1)-1,f&=c&~(p&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,bg(l,f))}else f=he,f=nl(l,l===xe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||_r(l,f)||(r=!0,bg(l,f));l=l.next}while(r);Xu=!1}}function I0(){_g()}function _g(){Wl=Qu=!1;var e=0;qi!==0&&(B0()&&(e=qi),qi=0);for(var n=sn(),r=null,l=Xl;l!==null;){var c=l.next,f=yg(l,n);f===0?(l.next=null,r===null?Xl=c:r.next=c,c===null&&(Ps=r)):(r=l,(e!==0||(f&3)!==0)&&(Wl=!0)),l=c}ta(e)}function yg(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-wt(f),_=1<<p,v=c[p];v===-1?((_&r)===0||(_&l)!==0)&&(c[p]=iE(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}if(n=xe,r=he,r=nl(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lc(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||_r(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&lc(l),uc(r)){case 2:case 8:r=ch;break;case 32:r=$a;break;case 268435456:r=uh;break;default:r=$a}return l=vg.bind(null,e),r=ac(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&lc(l),e.callbackPriority=2,e.callbackNode=null,2}function vg(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ql()&&e.callbackNode!==r)return null;var l=he;return l=nl(e,e===xe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(tg(e,l,n),yg(e,sn()),e.callbackNode!=null&&e.callbackNode===r?vg.bind(null,e):null)}function bg(e,n){if(Ql())return null;tg(e,n,!0)}function D0(){V0(function(){(Ee&6)!==0?ac(oh,I0):_g()})}function Wu(){return qi===0&&(qi=fh()),qi}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ll(""+e)}function Sg(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function M0(e,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Eg((c[pt]||null).action),p=l.submitter;p&&(n=(n=p[pt]||null)?Eg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var _=new fl("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qi!==0){var v=p?Sg(c,p):new FormData(c);gu(r,{pending:!0,data:v,method:c.method,action:f},null,v)}}else typeof f=="function"&&(_.preventDefault(),v=p?Sg(c,p):new FormData(c),gu(r,{pending:!0,data:v,method:c.method,action:f},f,v))},currentTarget:c}]})}}for(var Zu=0;Zu<Lc.length;Zu++){var Ju=Lc[Zu],k0=Ju.toLowerCase(),L0=Ju[0].toUpperCase()+Ju.slice(1);Yt(k0,"on"+L0)}Yt(tp,"onAnimationEnd"),Yt(np,"onAnimationIteration"),Yt(ip,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(JE,"onTransitionRun"),Yt($E,"onTransitionStart"),Yt(e0,"onTransitionCancel"),Yt(sp,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(na));function Tg(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var _=l[p],v=_.instance,A=_.currentTarget;if(_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=A;try{f(c)}catch(I){zl(I)}c.currentTarget=null,f=v}else for(p=0;p<l.length;p++){if(_=l[p],v=_.instance,A=_.currentTarget,_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=A;try{f(c)}catch(I){zl(I)}c.currentTarget=null,f=v}}}}function ue(e,n){var r=n[fc];r===void 0&&(r=n[fc]=new Set);var l=e+"__bubble";r.has(l)||(Cg(n,e,2,!1),r.add(l))}function $u(e,n,r){var l=0;n&&(l|=4),Cg(r,e,l,n)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function ef(e){if(!e[Zl]){e[Zl]=!0,_h.forEach(function(r){r!=="selectionchange"&&(U0.has(r)||$u(r,!1,e),$u(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zl]||(n[Zl]=!0,$u("selectionchange",!1,n))}}function Cg(e,n,r,l){switch(Qg(n)){case 2:var c=cS;break;case 8:c=uS;break;default:c=mf}r=c.bind(null,n,r,e),c=void 0,!Sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function tf(e,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var _=l.stateNode.containerInfo;if(_===c)break;if(p===4)for(p=l.return;p!==null;){var v=p.tag;if((v===3||v===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;_!==null;){if(p=as(_),p===null)return;if(v=p.tag,v===5||v===6||v===26||v===27){l=f=p;continue e}_=_.parentNode}}l=l.return}Ih(function(){var A=f,I=bc(r),k=[];e:{var R=rp.get(e);if(R!==void 0){var N=fl,Z=e;switch(e){case"keypress":if(cl(r)===0)break e;case"keydown":case"keyup":N=OE;break;case"focusin":Z="focus",N=Ac;break;case"focusout":Z="blur",N=Ac;break;case"beforeblur":case"afterblur":N=Ac;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=yE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=ME;break;case tp:case np:case ip:N=EE;break;case sp:N=LE;break;case"scroll":case"scrollend":N=gE;break;case"wheel":N=zE;break;case"copy":case"cut":case"paste":N=TE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Uh;break;case"toggle":case"beforetoggle":N=PE}var Q=(n&4)!==0,we=!Q&&(e==="scroll"||e==="scrollend"),C=Q?R!==null?R+"Capture":null:R;Q=[];for(var T=A,w;T!==null;){var D=T;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||C===null||(D=Er(T,C),D!=null&&Q.push(ia(T,D,w))),we)break;T=T.return}0<Q.length&&(R=new N(R,Z,null,r,I),k.push({event:R,listeners:Q}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",R&&r!==vc&&(Z=r.relatedTarget||r.fromElement)&&(as(Z)||Z[rs]))break e;if((N||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,N?(Z=r.relatedTarget||r.toElement,N=A,Z=Z?as(Z):null,Z!==null&&(we=u(Z),Q=Z.tag,Z!==we||Q!==5&&Q!==27&&Q!==6)&&(Z=null)):(N=null,Z=A),N!==Z)){if(Q=kh,D="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Uh,D="onPointerLeave",C="onPointerEnter",T="pointer"),we=N==null?R:br(N),w=Z==null?R:br(Z),R=new Q(D,T+"leave",N,r,I),R.target=we,R.relatedTarget=w,D=null,as(I)===A&&(Q=new Q(C,T+"enter",Z,r,I),Q.target=w,Q.relatedTarget=we,D=Q),we=D,N&&Z)t:{for(Q=N,C=Z,T=0,w=Q;w;w=Bs(w))T++;for(w=0,D=C;D;D=Bs(D))w++;for(;0<T-w;)Q=Bs(Q),T--;for(;0<w-T;)C=Bs(C),w--;for(;T--;){if(Q===C||C!==null&&Q===C.alternate)break t;Q=Bs(Q),C=Bs(C)}Q=null}else Q=null;N!==null&&wg(k,R,N,Q,!1),Z!==null&&we!==null&&wg(k,we,Z,Q,!0)}}e:{if(R=A?br(A):window,N=R.nodeName&&R.nodeName.toLowerCase(),N==="select"||N==="input"&&R.type==="file")var q=Gh;else if(Vh(R))if(Yh)q=XE;else{q=KE;var ae=FE}else N=R.nodeName,!N||N.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&yc(A.elementType)&&(q=Gh):q=QE;if(q&&(q=q(e,A))){qh(k,q,r,I);break e}ae&&ae(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&_c(R,"number",R.value)}switch(ae=A?br(A):window,e){case"focusin":(Vh(ae)||ae.contentEditable==="true")&&(gs=ae,Dc=A,xr=null);break;case"focusout":xr=Dc=gs=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,$h(k,r,I);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":$h(k,r,I)}var G;if(Nc)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else ms?Bh(e,r)&&(X="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(zh&&r.locale!=="ko"&&(ms||X!=="onCompositionStart"?X==="onCompositionEnd"&&ms&&(G=Dh()):(Bn=I,Tc="value"in Bn?Bn.value:Bn.textContent,ms=!0)),ae=Jl(A,X),0<ae.length&&(X=new Lh(X,e,null,r,I),k.push({event:X,listeners:ae}),G?X.data=G:(G=jh(r),G!==null&&(X.data=G)))),(G=jE?VE(e,r):qE(e,r))&&(X=Jl(A,"onBeforeInput"),0<X.length&&(ae=new Lh("onBeforeInput","beforeinput",null,r,I),k.push({event:ae,listeners:X}),ae.data=G)),M0(k,e,A,r,I)}Tg(k,n)})}function ia(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Jl(e,n){for(var r=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Er(e,r),c!=null&&l.unshift(ia(e,c,f)),c=Er(e,n),c!=null&&l.push(ia(e,c,f))),e.tag===3)return l;e=e.return}return[]}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wg(e,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var _=r,v=_.alternate,A=_.stateNode;if(_=_.tag,v!==null&&v===l)break;_!==5&&_!==26&&_!==27||A===null||(v=A,c?(A=Er(r,f),A!=null&&p.unshift(ia(r,A,v))):c||(A=Er(r,f),A!=null&&p.push(ia(r,A,v)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var z0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(H0,"")}function Rg(e,n){return n=Ag(n),Ag(e)===n}function $l(){}function Ce(e,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ds(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ds(e,""+l);break;case"className":sl(e,"class",l);break;case"tabIndex":sl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(e,r,l);break;case"style":xh(e,l,f);break;case"data":if(n!=="object"){sl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ll(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ce(e,n,"name",c.name,c,null),Ce(e,n,"formEncType",c.formEncType,c,null),Ce(e,n,"formMethod",c.formMethod,c,null),Ce(e,n,"formTarget",c.formTarget,c,null)):(Ce(e,n,"encType",c.encType,c,null),Ce(e,n,"method",c.method,c,null),Ce(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ll(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=$l);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ll(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":ue("beforetoggle",e),ue("toggle",e),il(e,"popover",l);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":il(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pE.get(r)||r,il(e,r,l))}}function nf(e,n,r,l,c,f){switch(r){case"style":xh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ds(e,l):(typeof l=="number"||typeof l=="bigint")&&ds(e,""+l);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[pt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):il(e,r,l)}}}function nt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ce(e,n,f,p,r,null)}}c&&Ce(e,n,"srcSet",r.srcSet,r,null),l&&Ce(e,n,"src",r.src,r,null);return;case"input":ue("invalid",e);var _=f=p=c=null,v=null,A=null;for(l in r)if(r.hasOwnProperty(l)){var I=r[l];if(I!=null)switch(l){case"name":c=I;break;case"type":p=I;break;case"checked":v=I;break;case"defaultChecked":A=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:Ce(e,n,l,I,r,null)}}wh(e,f,_,v,A,p,c,!1),rl(e);return;case"select":ue("invalid",e),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":l=_;default:Ce(e,n,c,_,r,null)}n=f,r=p,e.multiple=!!l,n!=null?fs(e,!!l,n,!1):r!=null&&fs(e,!!l,r,!0);return;case"textarea":ue("invalid",e),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(_=r[p],_!=null))switch(p){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ce(e,n,p,_,r,null)}Rh(e,l,c,f),rl(e);return;case"option":for(v in r)if(r.hasOwnProperty(v)&&(l=r[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ce(e,n,v,l,r,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(l=0;l<na.length;l++)ue(na[l],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ce(e,n,A,l,r,null)}return;default:if(yc(n)){for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!==void 0&&nf(e,n,I,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ce(e,n,_,l,r,null))}function P0(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,_=null,v=null,A=null,I=null;for(N in r){var k=r[N];if(r.hasOwnProperty(N)&&k!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":v=k;default:l.hasOwnProperty(N)||Ce(e,n,N,null,l,k)}}for(var R in l){var N=l[R];if(k=r[R],l.hasOwnProperty(R)&&(N!=null||k!=null))switch(R){case"type":f=N;break;case"name":c=N;break;case"checked":A=N;break;case"defaultChecked":I=N;break;case"value":p=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,n));break;default:N!==k&&Ce(e,n,R,N,l,k)}}gc(e,p,_,v,A,I,f,c);return;case"select":N=p=_=R=null;for(f in r)if(v=r[f],r.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":N=v;default:l.hasOwnProperty(f)||Ce(e,n,f,null,l,v)}for(c in l)if(f=l[c],v=r[c],l.hasOwnProperty(c)&&(f!=null||v!=null))switch(c){case"value":R=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==v&&Ce(e,n,c,f,l,v)}n=_,r=p,l=N,R!=null?fs(e,!!r,R,!1):!!l!=!!r&&(n!=null?fs(e,!!r,n,!0):fs(e,!!r,r?[]:"",!1));return;case"textarea":N=R=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ce(e,n,_,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":R=c;break;case"defaultValue":N=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ce(e,n,p,c,l,f)}Ah(e,R,N);return;case"option":for(var Z in r)if(R=r[Z],r.hasOwnProperty(Z)&&R!=null&&!l.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Ce(e,n,Z,null,l,R)}for(v in l)if(R=l[v],N=r[v],l.hasOwnProperty(v)&&R!==N&&(R!=null||N!=null))switch(v){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Ce(e,n,v,R,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in r)R=r[Q],r.hasOwnProperty(Q)&&R!=null&&!l.hasOwnProperty(Q)&&Ce(e,n,Q,null,l,R);for(A in l)if(R=l[A],N=r[A],l.hasOwnProperty(A)&&R!==N&&(R!=null||N!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(137,n));break;default:Ce(e,n,A,R,l,N)}return;default:if(yc(n)){for(var we in r)R=r[we],r.hasOwnProperty(we)&&R!==void 0&&!l.hasOwnProperty(we)&&nf(e,n,we,void 0,l,R);for(I in l)R=l[I],N=r[I],!l.hasOwnProperty(I)||R===N||R===void 0&&N===void 0||nf(e,n,I,R,l,N);return}}for(var C in r)R=r[C],r.hasOwnProperty(C)&&R!=null&&!l.hasOwnProperty(C)&&Ce(e,n,C,null,l,R);for(k in l)R=l[k],N=r[k],!l.hasOwnProperty(k)||R===N||R==null&&N==null||Ce(e,n,k,R,l,N)}var sf=null,rf=null;function eo(e){return e.nodeType===9?e:e.ownerDocument}function Ng(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function af(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lf=null;function B0(){var e=window.event;return e&&e.type==="popstate"?e===lf?!1:(lf=e,!0):(lf=null,!1)}var Og=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(e){return Ig.resolve(null).then(e).catch(q0)}:Og;function q0(e){setTimeout(function(){throw e})}function ni(e){return e==="head"}function Dg(e,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=e.ownerDocument;if(r&1&&sa(p.documentElement),r&2&&sa(p.body),r&4)for(r=p.head,sa(r),p=r.firstChild;p;){var _=p.nextSibling,v=p.nodeName;p[vr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=_}}if(c===0){e.removeChild(f),da(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);da(n)}function of(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),dc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function G0(e,n,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Y0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Kt(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function F0(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var uf=null;function Mg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function kg(e,n,r){switch(n=eo(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function sa(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);dc(e)}var Gt=new Map,Lg=new Set;function to(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rn=H.d;H.d={f:K0,r:Q0,D:X0,C:W0,L:Z0,m:J0,X:eS,S:$0,M:tS};function K0(){var e=Rn.f(),n=Fl();return e||n}function Q0(e){var n=ls(e);n!==null&&n.tag===5&&n.type==="form"?tm(n):Rn.r(e)}var js=typeof document>"u"?null:document;function Ug(e,n,r){var l=js;if(l&&typeof n=="string"&&n){var c=zt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Lg.has(c)||(Lg.add(c),e={rel:e,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),nt(n,"link",e),Ke(n),l.head.appendChild(n)))}}function X0(e){Rn.D(e),Ug("dns-prefetch",e,null)}function W0(e,n){Rn.C(e,n),Ug("preconnect",e,n)}function Z0(e,n,r){Rn.L(e,n,r);var l=js;if(l&&e&&n){var c='link[rel="preload"][as="'+zt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+zt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+zt(r.imageSizes)+'"]')):c+='[href="'+zt(e)+'"]';var f=c;switch(n){case"style":f=Vs(e);break;case"script":f=qs(e)}Gt.has(f)||(e=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Gt.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(ra(f))||n==="script"&&l.querySelector(aa(f))||(n=l.createElement("link"),nt(n,"link",e),Ke(n),l.head.appendChild(n)))}}function J0(e,n){Rn.m(e,n);var r=js;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+zt(l)+'"][href="'+zt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qs(e)}if(!Gt.has(f)&&(e=y({rel:"modulepreload",href:e},n),Gt.set(f,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(aa(f)))return}l=r.createElement("link"),nt(l,"link",e),Ke(l),r.head.appendChild(l)}}}function $0(e,n,r){Rn.S(e,n,r);var l=js;if(l&&e){var c=os(l).hoistableStyles,f=Vs(e);n=n||"default";var p=c.get(f);if(!p){var _={loading:0,preload:null};if(p=l.querySelector(ra(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Gt.get(f))&&ff(e,r);var v=p=l.createElement("link");Ke(v),nt(v,"link",e),v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,no(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:_},c.set(f,p)}}}function eS(e,n){Rn.X(e,n);var r=js;if(r&&e){var l=os(r).hoistableScripts,c=qs(e),f=l.get(c);f||(f=r.querySelector(aa(c)),f||(e=y({src:e,async:!0},n),(n=Gt.get(c))&&df(e,n),f=r.createElement("script"),Ke(f),nt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tS(e,n){Rn.M(e,n);var r=js;if(r&&e){var l=os(r).hoistableScripts,c=qs(e),f=l.get(c);f||(f=r.querySelector(aa(c)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Gt.get(c))&&df(e,n),f=r.createElement("script"),Ke(f),nt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function zg(e,n,r,l){var c=(c=$.current)?to(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Vs(r.href),r=os(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Vs(r.href);var f=os(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(ra(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Gt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gt.set(e,r),f||nS(c,e,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qs(r),r=os(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vs(e){return'href="'+zt(e)+'"'}function ra(e){return'link[rel="stylesheet"]['+e+"]"}function Hg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nt(n,"link",r),Ke(n),e.head.appendChild(n))}function qs(e){return'[src="'+zt(e)+'"]'}function aa(e){return"script[async]"+e}function Pg(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+zt(r.href)+'"]');if(l)return n.instance=l,Ke(l),l;var c=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ke(l),nt(l,"style",c),no(l,r.precedence,e),n.instance=l;case"stylesheet":c=Vs(r.href);var f=e.querySelector(ra(c));if(f)return n.state.loading|=4,n.instance=f,Ke(f),f;l=Hg(r),(c=Gt.get(c))&&ff(l,c),f=(e.ownerDocument||e).createElement("link"),Ke(f);var p=f;return p._p=new Promise(function(_,v){p.onload=_,p.onerror=v}),nt(f,"link",l),n.state.loading|=4,no(f,r.precedence,e),n.instance=f;case"script":return f=qs(r.src),(c=e.querySelector(aa(f)))?(n.instance=c,Ke(c),c):(l=r,(c=Gt.get(f))&&(l=y({},r),df(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ke(c),nt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,r.precedence,e));return n.instance}function no(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var _=l[p];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ff(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var io=null;function Bg(e,n,r){if(io===null){var l=new Map,c=io=new Map;c.set(r,l)}else c=io,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[vr]||f[at]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var _=l.get(p);_?_.push(f):l.set(p,[f])}}return l}function jg(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function iS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var la=null;function sS(){}function rS(e,n,r){if(la===null)throw Error(a(475));var l=la;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Vs(r.href),f=e.querySelector(ra(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=so.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,Ke(f);return}f=e.ownerDocument||e,r=Hg(r),(c=Gt.get(c))&&ff(r,c),f=f.createElement("link"),Ke(f);var p=f;p._p=new Promise(function(_,v){p.onload=_,p.onerror=v}),nt(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=so.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function aS(){if(la===null)throw Error(a(475));var e=la;return e.stylesheets&&e.count===0&&hf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&hf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function so(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ro=null;function hf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ro=new Map,n.forEach(lS,e),ro=null,so.call(e))}function lS(e,n){if(!(n.state.loading&4)){var r=ro.get(e);if(r)var l=r.get(null);else{r=new Map,ro.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=so.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var oa={$$typeof:me,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function oS(e,n,r,l,c,f,p,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qg(e,n,r,l,c,f,p,_,v,A,I,k){return e=new oS(e,n,r,p,_,v,A,k),n=1,f===!0&&(n|=24),f=Rt(3,null,null,n),e.current=f,f.stateNode=e,n=Kc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),e}function Gg(e){return e?(e=bs,e):bs}function Yg(e,n,r,l,c,f){c=Gg(c),l.context===null?l.context=c:l.pendingContext=c,l=qn(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Gn(e,l,n),r!==null&&(Dt(r,e,n),Hr(r,e,n))}function Fg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function pf(e,n){Fg(e,n),(e=e.alternate)&&Fg(e,n)}function Kg(e){if(e.tag===13){var n=vs(e,67108864);n!==null&&Dt(n,e,67108864),pf(e,67108864)}}var ao=!0;function cS(e,n,r,l){var c=O.T;O.T=null;var f=H.p;try{H.p=2,mf(e,n,r,l)}finally{H.p=f,O.T=c}}function uS(e,n,r,l){var c=O.T;O.T=null;var f=H.p;try{H.p=8,mf(e,n,r,l)}finally{H.p=f,O.T=c}}function mf(e,n,r,l){if(ao){var c=gf(l);if(c===null)tf(e,n,l,lo,r),Xg(e,l);else if(dS(c,e,n,r,l))l.stopPropagation();else if(Xg(e,l),n&4&&-1<fS.indexOf(e)){for(;c!==null;){var f=ls(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ai(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var v=1<<31-wt(p);_.entanglements[1]|=v,p&=~v}cn(f),(Ee&6)===0&&(Gl=sn()+500,ta(0))}}break;case 13:_=vs(f,2),_!==null&&Dt(_,f,2),Fl(),pf(f,2)}if(f=gf(l),f===null&&tf(e,n,l,lo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(e,n,l,null,r)}}function gf(e){return e=bc(e),_f(e)}var lo=null;function _f(e){if(lo=null,e=as(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lo=e,null}function Qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wb()){case oh:return 2;case ch:return 8;case $a:case Zb:return 32;case uh:return 268435456;default:return 32}default:return 32}}var yf=!1,ii=null,si=null,ri=null,ca=new Map,ua=new Map,ai=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xg(e,n){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":ca.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(n.pointerId)}}function fa(e,n,r,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ls(n),n!==null&&Kg(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function dS(e,n,r,l,c){switch(n){case"focusin":return ii=fa(ii,e,n,r,l,c),!0;case"dragenter":return si=fa(si,e,n,r,l,c),!0;case"mouseover":return ri=fa(ri,e,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return ca.set(f,fa(ca.get(f)||null,e,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ua.set(f,fa(ua.get(f)||null,e,n,r,l,c)),!0}return!1}function Wg(e){var n=as(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,rE(e.priority,function(){if(r.tag===13){var l=It();l=cc(l);var c=vs(r,l);c!==null&&Dt(c,r,l),pf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);vc=l,r.target.dispatchEvent(l),vc=null}else return n=ls(r),n!==null&&Kg(n),e.blockedOn=r,!1;n.shift()}return!0}function Zg(e,n,r){oo(e)&&r.delete(n)}function hS(){yf=!1,ii!==null&&oo(ii)&&(ii=null),si!==null&&oo(si)&&(si=null),ri!==null&&oo(ri)&&(ri=null),ca.forEach(Zg),ua.forEach(Zg)}function co(e,n){e.blockedOn===n&&(e.blockedOn=null,yf||(yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hS)))}var uo=null;function Jg(e){uo!==e&&(uo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(_f(l||r)===null)continue;break}var f=ls(r);f!==null&&(e.splice(n,3),n-=3,gu(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function da(e){function n(v){return co(v,e)}ii!==null&&co(ii,e),si!==null&&co(si,e),ri!==null&&co(ri,e),ca.forEach(n),ua.forEach(n);for(var r=0;r<ai.length;r++){var l=ai[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ai.length&&(r=ai[0],r.blockedOn===null);)Wg(r),r.blockedOn===null&&ai.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[pt]||null;if(typeof f=="function")p||Jg(r);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[pt]||null)_=p.formAction;else if(_f(c)!==null)continue}else _=p.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),Jg(r)}}}function vf(e){this._internalRoot=e}fo.prototype.render=vf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=It();Yg(r,l,e,n,null,null)},fo.prototype.unmount=vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Yg(e.current,2,null,e,null,null),Fl(),n[rs]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var n=mh();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ai.length&&n!==0&&n<ai[r].priority;r++);ai.splice(r,0,e),r===0&&Wg(e)}};var $g=t.version;if($g!=="19.1.1")throw Error(a(527,$g,"19.1.1"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var pS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{gr=ho.inject(pS),Ct=ho}catch{}}return pa.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",c=mm,f=gm,p=_m,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=qg(e,1,!1,null,null,r,l,c,f,p,_,null),e[rs]=n.current,ef(e),new vf(n)},pa.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,c="",f=mm,p=gm,_=_m,v=null,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks),r.formState!==void 0&&(A=r.formState)),n=qg(e,1,!0,n,r??null,l,c,f,p,_,v,A),n.context=Gg(null),r=n.current,l=It(),l=cc(l),c=qn(l),c.callback=null,Gn(r,c,l),r=l,n.current.lanes=r,yr(n,r),cn(n),e[rs]=n.current,ef(e),new fo(n)},pa.version="19.1.1",pa}var c_;function CS(){if(c_)return Sf.exports;c_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sf.exports=TS(),Sf.exports}var wS=CS();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oy=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=le.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...h},g)=>le.createElement("svg",{ref:g,...RS,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:Oy("lucide",o),...h},[...d.map(([m,y])=>le.createElement(m,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=(s,t)=>{const i=le.forwardRef(({className:a,...o},u)=>le.createElement(NS,{ref:u,iconNode:t,className:Oy(`lucide-${AS(s)}`,a),...o}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Yo("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Yo("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Yo("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Yo("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function h_(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function OS(...s){return t=>{let i=!1;const a=s.map(o=>{const u=h_(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<a.length;o++){const u=a[o];typeof u=="function"?u():h_(s[o],null)}}}}function IS(s){const t=MS(s),i=le.forwardRef((a,o)=>{const{children:u,...d}=a,h=le.Children.toArray(u),g=h.find(LS);if(g){const m=g.props.children,y=h.map(E=>E===g?le.Children.count(m)>1?le.Children.only(null):le.isValidElement(m)?m.props.children:null:E);return x.jsx(t,{...d,ref:o,children:le.isValidElement(m)?le.cloneElement(m,void 0,y):null})}return x.jsx(t,{...d,ref:o,children:u})});return i.displayName=`${s}.Slot`,i}var DS=IS("Slot");function MS(s){const t=le.forwardRef((i,a)=>{const{children:o,...u}=i;if(le.isValidElement(o)){const d=zS(o),h=US(u,o.props);return o.type!==le.Fragment&&(h.ref=a?OS(a,d):d),le.cloneElement(o,h)}return le.Children.count(o)>1?le.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var kS=Symbol("radix.slottable");function LS(s){return le.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===kS}function US(s,t){const i={...t};for(const a in t){const o=s[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...h)=>{const g=u(...h);return o(...h),g}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...s,...i}}function zS(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?s.props.ref:s.props.ref||s.ref)}function Iy(s){var t,i,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(t=0;t<o;t++)s[t]&&(i=Iy(s[t]))&&(a&&(a+=" "),a+=i)}else for(i in s)s[i]&&(a&&(a+=" "),a+=i);return a}function Dy(){for(var s,t,i=0,a="",o=arguments.length;i<o;i++)(s=arguments[i])&&(t=Iy(s))&&(a&&(a+=" "),a+=t);return a}const p_=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,m_=Dy,HS=(s,t)=>i=>{var a;if(t?.variants==null)return m_(s,i?.class,i?.className);const{variants:o,defaultVariants:u}=t,d=Object.keys(o).map(m=>{const y=i?.[m],E=u?.[m];if(y===null)return null;const b=p_(y)||p_(E);return o[m][b]}),h=i&&Object.entries(i).reduce((m,y)=>{let[E,b]=y;return b===void 0||(m[E]=b),m},{}),g=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((m,y)=>{let{class:E,className:b,...L}=y;return Object.entries(L).every(U=>{let[B,V]=U;return Array.isArray(V)?V.includes({...u,...h}[B]):{...u,...h}[B]===V})?[...m,E,b]:m},[]);return m_(s,d,g,i?.class,i?.className)},gd="-",PS=s=>{const t=jS(s),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=s;return{getClassGroupId:d=>{const h=d.split(gd);return h[0]===""&&h.length!==1&&h.shift(),My(h,t)||BS(d)},getConflictingClassGroupIds:(d,h)=>{const g=i[d]||[];return h&&a[d]?[...g,...a[d]]:g}}},My=(s,t)=>{if(s.length===0)return t.classGroupId;const i=s[0],a=t.nextPart.get(i),o=a?My(s.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const u=s.join(gd);return t.validators.find(({validator:d})=>d(u))?.classGroupId},g_=/^\[(.+)\]$/,BS=s=>{if(g_.test(s)){const t=g_.exec(s)[1],i=t?.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}},jS=s=>{const{theme:t,prefix:i}=s,a={nextPart:new Map,validators:[]};return qS(Object.entries(s.classGroups),i).forEach(([u,d])=>{Vf(d,a,u,t)}),a},Vf=(s,t,i,a)=>{s.forEach(o=>{if(typeof o=="string"){const u=o===""?t:__(t,o);u.classGroupId=i;return}if(typeof o=="function"){if(VS(o)){Vf(o(a),t,i,a);return}t.validators.push({validator:o,classGroupId:i});return}Object.entries(o).forEach(([u,d])=>{Vf(d,__(t,u),i,a)})})},__=(s,t)=>{let i=s;return t.split(gd).forEach(a=>{i.nextPart.has(a)||i.nextPart.set(a,{nextPart:new Map,validators:[]}),i=i.nextPart.get(a)}),i},VS=s=>s.isThemeGetter,qS=(s,t)=>t?s.map(([i,a])=>{const o=a.map(u=>typeof u=="string"?t+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([d,h])=>[t+d,h])):u);return[i,o]}):s,GS=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,i=new Map,a=new Map;const o=(u,d)=>{i.set(u,d),t++,t>s&&(t=0,a=i,i=new Map)};return{get(u){let d=i.get(u);if(d!==void 0)return d;if((d=a.get(u))!==void 0)return o(u,d),d},set(u,d){i.has(u)?i.set(u,d):o(u,d)}}},ky="!",YS=s=>{const{separator:t,experimentalParseClassName:i}=s,a=t.length===1,o=t[0],u=t.length,d=h=>{const g=[];let m=0,y=0,E;for(let V=0;V<h.length;V++){let F=h[V];if(m===0){if(F===o&&(a||h.slice(V,V+u)===t)){g.push(h.slice(y,V)),y=V+u;continue}if(F==="/"){E=V;continue}}F==="["?m++:F==="]"&&m--}const b=g.length===0?h:h.substring(y),L=b.startsWith(ky),U=L?b.substring(1):b,B=E&&E>y?E-y:void 0;return{modifiers:g,hasImportantModifier:L,baseClassName:U,maybePostfixModifierPosition:B}};return i?h=>i({className:h,parseClassName:d}):d},FS=s=>{if(s.length<=1)return s;const t=[];let i=[];return s.forEach(a=>{a[0]==="["?(t.push(...i.sort(),a),i=[]):i.push(a)}),t.push(...i.sort()),t},KS=s=>({cache:GS(s.cacheSize),parseClassName:YS(s),...PS(s)}),QS=/\s+/,XS=(s,t)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o}=t,u=[],d=s.trim().split(QS);let h="";for(let g=d.length-1;g>=0;g-=1){const m=d[g],{modifiers:y,hasImportantModifier:E,baseClassName:b,maybePostfixModifierPosition:L}=i(m);let U=!!L,B=a(U?b.substring(0,L):b);if(!B){if(!U){h=m+(h.length>0?" "+h:h);continue}if(B=a(b),!B){h=m+(h.length>0?" "+h:h);continue}U=!1}const V=FS(y).join(":"),F=E?V+ky:V,ie=F+B;if(u.includes(ie))continue;u.push(ie);const me=o(B,U);for(let be=0;be<me.length;++be){const se=me[be];u.push(F+se)}h=m+(h.length>0?" "+h:h)}return h};function WS(){let s=0,t,i,a="";for(;s<arguments.length;)(t=arguments[s++])&&(i=Ly(t))&&(a&&(a+=" "),a+=i);return a}const Ly=s=>{if(typeof s=="string")return s;let t,i="";for(let a=0;a<s.length;a++)s[a]&&(t=Ly(s[a]))&&(i&&(i+=" "),i+=t);return i};function ZS(s,...t){let i,a,o,u=d;function d(g){const m=t.reduce((y,E)=>E(y),s());return i=KS(m),a=i.cache.get,o=i.cache.set,u=h,h(g)}function h(g){const m=a(g);if(m)return m;const y=XS(g,i);return o(g,y),y}return function(){return u(WS.apply(null,arguments))}}const Ie=s=>{const t=i=>i[s]||[];return t.isThemeGetter=!0,t},Uy=/^\[(?:([a-z-]+):)?(.+)\]$/i,JS=/^\d+\/\d+$/,$S=new Set(["px","full","screen"]),eT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nn=s=>Qs(s)||$S.has(s)||JS.test(s),oi=s=>lr(s,"length",dT),Qs=s=>!!s&&!Number.isNaN(Number(s)),Af=s=>lr(s,"number",Qs),ma=s=>!!s&&Number.isInteger(Number(s)),rT=s=>s.endsWith("%")&&Qs(s.slice(0,-1)),ne=s=>Uy.test(s),ci=s=>eT.test(s),aT=new Set(["length","size","percentage"]),lT=s=>lr(s,aT,zy),oT=s=>lr(s,"position",zy),cT=new Set(["image","url"]),uT=s=>lr(s,cT,pT),fT=s=>lr(s,"",hT),ga=()=>!0,lr=(s,t,i)=>{const a=Uy.exec(s);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):i(a[2]):!1},dT=s=>tT.test(s)&&!nT.test(s),zy=()=>!1,hT=s=>iT.test(s),pT=s=>sT.test(s),mT=()=>{const s=Ie("colors"),t=Ie("spacing"),i=Ie("blur"),a=Ie("brightness"),o=Ie("borderColor"),u=Ie("borderRadius"),d=Ie("borderSpacing"),h=Ie("borderWidth"),g=Ie("contrast"),m=Ie("grayscale"),y=Ie("hueRotate"),E=Ie("invert"),b=Ie("gap"),L=Ie("gradientColorStops"),U=Ie("gradientColorStopPositions"),B=Ie("inset"),V=Ie("margin"),F=Ie("opacity"),ie=Ie("padding"),me=Ie("saturate"),be=Ie("scale"),se=Ie("sepia"),it=Ie("skew"),st=Ie("space"),rt=Ie("translate"),ht=()=>["auto","contain","none"],tn=()=>["auto","hidden","clip","visible","scroll"],St=()=>["auto",ne,t],ee=()=>[ne,t],nn=()=>["",Nn,oi],Lt=()=>["auto",Qs,ne],qe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",ne],S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Qs,ne];return{cacheSize:500,separator:":",theme:{colors:[ga],spacing:[Nn,oi],blur:["none","",ci,ne],brightness:M(),borderColor:[s],borderRadius:["none","","full",ci,ne],borderSpacing:ee(),borderWidth:nn(),contrast:M(),grayscale:pe(),hueRotate:M(),invert:pe(),gap:ee(),gradientColorStops:[s],gradientColorStopPositions:[rT,oi],inset:St(),margin:St(),opacity:M(),padding:ee(),saturate:M(),scale:M(),sepia:pe(),skew:M(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[ci]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...qe(),ne]}],overflow:[{overflow:tn()}],"overflow-x":[{"overflow-x":tn()}],"overflow-y":[{"overflow-y":tn()}],overscroll:[{overscroll:ht()}],"overscroll-x":[{"overscroll-x":ht()}],"overscroll-y":[{"overscroll-y":ht()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[B]}],"inset-x":[{"inset-x":[B]}],"inset-y":[{"inset-y":[B]}],start:[{start:[B]}],end:[{end:[B]}],top:[{top:[B]}],right:[{right:[B]}],bottom:[{bottom:[B]}],left:[{left:[B]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ma,ne]}],basis:[{basis:St()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",ma,ne]}],"grid-cols":[{"grid-cols":[ga]}],"col-start-end":[{col:["auto",{span:["full",ma,ne]},ne]}],"col-start":[{"col-start":Lt()}],"col-end":[{"col-end":Lt()}],"grid-rows":[{"grid-rows":[ga]}],"row-start-end":[{row:["auto",{span:[ma,ne]},ne]}],"row-start":[{"row-start":Lt()}],"row-end":[{"row-end":Lt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ie]}],px:[{px:[ie]}],py:[{py:[ie]}],ps:[{ps:[ie]}],pe:[{pe:[ie]}],pt:[{pt:[ie]}],pr:[{pr:[ie]}],pb:[{pb:[ie]}],pl:[{pl:[ie]}],m:[{m:[V]}],mx:[{mx:[V]}],my:[{my:[V]}],ms:[{ms:[V]}],me:[{me:[V]}],mt:[{mt:[V]}],mr:[{mr:[V]}],mb:[{mb:[V]}],ml:[{ml:[V]}],"space-x":[{"space-x":[st]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[st]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,t]}],"min-w":[{"min-w":[ne,t,"min","max","fit"]}],"max-w":[{"max-w":[ne,t,"none","full","min","max","fit","prose",{screen:[ci]},ci]}],h:[{h:[ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ci,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Af]}],"font-family":[{font:[ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",Qs,Af]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nn,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nn,oi]}],"underline-offset":[{"underline-offset":["auto",Nn,ne]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...qe(),oT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uT]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[L]}],"gradient-via":[{via:[L]}],"gradient-to":[{to:[L]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:O()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Nn,ne]}],"outline-w":[{outline:[Nn,oi]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:nn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[Nn,oi]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",ci,fT]}],"shadow-color":[{shadow:[ga]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",ci,ne]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[E]}],saturate:[{saturate:[me]}],sepia:[{sepia:[se]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[me]}],"backdrop-sepia":[{"backdrop-sepia":[se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[be]}],"scale-x":[{"scale-x":[be]}],"scale-y":[{"scale-y":[be]}],rotate:[{rotate:[ma,ne]}],"translate-x":[{"translate-x":[rt]}],"translate-y":[{"translate-y":[rt]}],"skew-x":[{"skew-x":[it]}],"skew-y":[{"skew-y":[it]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Nn,oi,Af]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gT=ZS(mT);function Si(...s){return gT(Dy(s))}const _T=HS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),un=le.forwardRef(({className:s,variant:t,size:i,asChild:a=!1,...o},u)=>{const d=a?DS:"button";return x.jsx(d,{className:Si(_T({variant:t,size:i,className:s})),ref:u,...o})});un.displayName="Button";const qf=le.forwardRef(({className:s,...t},i)=>x.jsx("div",{ref:i,className:Si("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));qf.displayName="Card";const Gf=le.forwardRef(({className:s,...t},i)=>x.jsx("div",{ref:i,className:Si("flex flex-col space-y-1.5 p-6",s),...t}));Gf.displayName="CardHeader";const Yf=le.forwardRef(({className:s,...t},i)=>x.jsx("div",{ref:i,className:Si("text-2xl font-semibold leading-none tracking-tight",s),...t}));Yf.displayName="CardTitle";const yT=le.forwardRef(({className:s,...t},i)=>x.jsx("div",{ref:i,className:Si("text-sm text-muted-foreground",s),...t}));yT.displayName="CardDescription";const Ff=le.forwardRef(({className:s,...t},i)=>x.jsx("div",{ref:i,className:Si("p-6 pt-0",s),...t}));Ff.displayName="CardContent";const vT=le.forwardRef(({className:s,...t},i)=>x.jsx("div",{ref:i,className:Si("flex items-center p-6 pt-0",s),...t}));vT.displayName="CardFooter";const Ea=le.forwardRef(({className:s,type:t,...i},a)=>x.jsx("input",{type:t,className:Si("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...i}));Ea.displayName="Input";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(s,t){if(!s)throw or(t)},or=function(s){return new Error("Firebase Database ("+Hy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},ET=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],h=s[i++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},_d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,h=d?s[o+1]:0,g=o+2<s.length,m=g?s[o+2]:0,y=u>>2,E=(u&3)<<4|h>>4;let b=(h&15)<<2|m>>6,L=m&63;g||(L=64,d||(b=64)),a.push(i[y],i[E],i[b],i[L])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Py(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ET(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],h=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const E=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||h==null||m==null||E==null)throw new ST;const b=u<<2|h>>4;if(a.push(b),m!==64){const L=h<<4&240|m>>2;if(a.push(L),E!==64){const U=m<<6&192|E;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ST extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const By=function(s){const t=Py(s);return _d.encodeByteArray(t,!0)},So=function(s){return By(s).replace(/\./g,"")},To=function(s){try{return _d.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(s){return jy(void 0,s)}function jy(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!CT(i)||(s[i]=jy(s[i],t[i]));return s}function CT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=()=>wT().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof y_>"u")return;const s=y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&To(s[1]);return t&&JSON.parse(t)},yd=()=>{try{return bT()||AT()||RT()||NT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vy=s=>yd()?.emulatorHosts?.[s],xT=s=>{const t=Vy(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},qy=()=>yd()?.config,Gy=s=>yd()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yy(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[So(JSON.stringify(i)),So(JSON.stringify(d)),""].join(".")}const Ca={};function IT(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ca))Ca[t]?s.emulator.push(t):s.prod.push(t);return s}function DT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let v_=!1;function Fy(s,t){if(typeof window>"u"||typeof document>"u"||!cr(window.location.host)||Ca[s]===t||Ca[s]||v_)return;Ca[s]=t;function i(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=IT().prod.length>0;function d(){const b=document.getElementById(a);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{v_=!0,d()},b}function y(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=DT(a),L=i("text"),U=document.getElementById(L)||document.createElement("span"),B=i("learnmore"),V=document.getElementById(B)||document.createElement("a"),F=i("preprendIcon"),ie=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const me=b.element;h(me),y(V,B);const be=m();g(ie,F),me.append(ie,U,V,be),document.body.appendChild(me)}u?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function MT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ky(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LT(){const s=dt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function UT(){return Hy.NODE_ADMIN===!0}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="FirebaseError";class Ti extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=PT,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?BT(u,a):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new Ti(o,h,a)}}function BT(s,t){return s.replace(jT,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const jT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(s){return JSON.parse(s)}function $e(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(s){let t={},i={},a={},o="";try{const u=s.split(".");t=Ia(To(u[0])||""),i=Ia(To(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:o}},VT=function(s){const t=Qy(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},qT=function(s){const t=Qy(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function tr(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Kf(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Co(s,t,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=t.call(i,s[o],o,s));return a}function Xi(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const u=s[o],d=t[o];if(b_(u)&&b_(d)){if(!Xi(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function b_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Sa(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ta(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let E=0;E<16;E++)a[E]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)a[E]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let E=16;E<80;E++){const b=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],g=this.chain_[4],m,y;for(let E=0;E<80;E++){E<40?E<20?(m=h^u&(d^h),y=1518500249):(m=u^d^h,y=1859775393):E<60?(m=u&d|h&(u|d),y=2400959708):(m=u^d^h,y=3395469782);const b=(o<<5|o>>>27)+m+g+y+a[E]&4294967295;g=h,h=d,d=(u<<30|u>>>2)&4294967295,u=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=a;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}else for(;o<i;)if(u[d]=t[o],++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[a]=this.chain_[o]>>u&255,++a;return t}}function YT(s,t){const i=new FT(s,t);return i.subscribe.bind(i)}class FT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");KT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KT(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Rf(){}function Xy(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,z(a<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(a)-56320;o=65536+(u<<10)+d}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Fo=function(s){let t=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(s){return s&&s._delegate?s._delegate:s}class Wi{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new vd;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZT(t))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Fi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fi){return this.instances.has(t)}getOptions(t=Fi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);a===h&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:WT(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fi){return this.component?this.component.multipleInstances?t:Fi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WT(s){return s===Fi?void 0:s}function ZT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new XT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ae||(Ae={}));const $T={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},e1=Ae.INFO,t1={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},n1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=t1[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ed{constructor(t){this.name=t,this._logLevel=e1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$T[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const i1=(s,t)=>t.some(i=>s instanceof i);let E_,S_;function s1(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r1(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wy=new WeakMap,Qf=new WeakMap,Zy=new WeakMap,Nf=new WeakMap,Sd=new WeakMap;function a1(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(mi(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Wy.set(i,s)}).catch(()=>{}),Sd.set(t,s),t}function l1(s){if(Qf.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Qf.set(s,t)}let Xf={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Zy.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mi(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function o1(s){Xf=s(Xf)}function c1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(xf(this),t,...i);return Zy.set(a,t.sort?t.sort():[t]),mi(a)}:r1().includes(s)?function(...t){return s.apply(xf(this),t),mi(Wy.get(this))}:function(...t){return mi(s.apply(xf(this),t))}}function u1(s){return typeof s=="function"?c1(s):(s instanceof IDBTransaction&&l1(s),i1(s,s1())?new Proxy(s,Xf):s)}function mi(s){if(s instanceof IDBRequest)return a1(s);if(Nf.has(s))return Nf.get(s);const t=u1(s);return t!==s&&(Nf.set(s,t),Sd.set(t,s)),t}const xf=s=>Sd.get(s);function f1(s,t,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(s,t),h=mi(d);return a&&d.addEventListener("upgradeneeded",g=>{a(mi(d.result),g.oldVersion,g.newVersion,mi(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),h.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const d1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],Of=new Map;function T_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Of.get(t))return Of.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=h1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||d1.includes(i)))return;const u=async function(d,...h){const g=this.transaction(d,o?"readwrite":"readonly");let m=g.store;return a&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),o&&g.done]))[0]};return Of.set(t,u),u}o1(s=>({...s,get:(t,i,a)=>T_(t,i)||s.get(t,i,a),has:(t,i)=>!!T_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(m1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function m1(s){return s.getComponent()?.type==="VERSION"}const Wf="@firebase/app",C_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Ed("@firebase/app"),g1="@firebase/app-compat",_1="@firebase/analytics-compat",y1="@firebase/analytics",v1="@firebase/app-check-compat",b1="@firebase/app-check",E1="@firebase/auth",S1="@firebase/auth-compat",T1="@firebase/database",C1="@firebase/data-connect",w1="@firebase/database-compat",A1="@firebase/functions",R1="@firebase/functions-compat",N1="@firebase/installations",x1="@firebase/installations-compat",O1="@firebase/messaging",I1="@firebase/messaging-compat",D1="@firebase/performance",M1="@firebase/performance-compat",k1="@firebase/remote-config",L1="@firebase/remote-config-compat",U1="@firebase/storage",z1="@firebase/storage-compat",H1="@firebase/firestore",P1="@firebase/ai",B1="@firebase/firestore-compat",j1="firebase",V1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",q1={[Wf]:"fire-core",[g1]:"fire-core-compat",[y1]:"fire-analytics",[_1]:"fire-analytics-compat",[b1]:"fire-app-check",[v1]:"fire-app-check-compat",[E1]:"fire-auth",[S1]:"fire-auth-compat",[T1]:"fire-rtdb",[C1]:"fire-data-connect",[w1]:"fire-rtdb-compat",[A1]:"fire-fn",[R1]:"fire-fn-compat",[N1]:"fire-iid",[x1]:"fire-iid-compat",[O1]:"fire-fcm",[I1]:"fire-fcm-compat",[D1]:"fire-perf",[M1]:"fire-perf-compat",[k1]:"fire-rc",[L1]:"fire-rc-compat",[U1]:"fire-gcs",[z1]:"fire-gcs-compat",[H1]:"fire-fst",[B1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map,G1=new Map,Jf=new Map;function w_(s,t){try{s.container.addComponent(t)}catch(i){Mn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function nr(s){const t=s.name;if(Jf.has(t))return Mn.debug(`There were multiple attempts to register component ${t}.`),!1;Jf.set(t,s);for(const i of Da.values())w_(i,s);for(const i of G1.values())w_(i,s);return!0}function Td(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Qt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Va("app","Firebase",Y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=V1;function Jy(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Zf,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(i||(i=qy()),!i)throw gi.create("no-options");const u=Da.get(o);if(u){if(Xi(i,u.options)&&Xi(a,u.config))return u;throw gi.create("duplicate-app",{appName:o})}const d=new JT(o);for(const g of Jf.values())d.addComponent(g);const h=new F1(i,a,d);return Da.set(o,h),h}function Cd(s=Zf){const t=Da.get(s);if(!t&&s===Zf&&qy())return Jy();if(!t)throw gi.create("no-app",{appName:s});return t}function K1(){return Array.from(Da.values())}function _i(s,t,i){let a=q1[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mn.warn(d.join(" "));return}nr(new Wi(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebase-heartbeat-database",X1=1,Ma="firebase-heartbeat-store";let If=null;function $y(){return If||(If=f1(Q1,X1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ma)}catch(i){console.warn(i)}}}}).catch(s=>{throw gi.create("idb-open",{originalErrorMessage:s.message})})),If}async function W1(s){try{const i=(await $y()).transaction(Ma),a=await i.objectStore(Ma).get(ev(s));return await i.done,a}catch(t){if(t instanceof Ti)Mn.warn(t.message);else{const i=gi.create("idb-get",{originalErrorMessage:t?.message});Mn.warn(i.message)}}}async function A_(s,t){try{const a=(await $y()).transaction(Ma,"readwrite");await a.objectStore(Ma).put(t,ev(s)),await a.done}catch(i){if(i instanceof Ti)Mn.warn(i.message);else{const a=gi.create("idb-set",{originalErrorMessage:i?.message});Mn.warn(a.message)}}}function ev(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,J1=30;class $1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tC(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=R_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>J1){const o=nC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Mn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R_(),{heartbeatsToSend:i,unsentEntries:a}=eC(this._heartbeatsCache.heartbeats),o=So(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Mn.warn(t),""}}}function R_(){return new Date().toISOString().substring(0,10)}function eC(s,t=Z1){const i=[];let a=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),N_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),N_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class tC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await W1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function N_(s){return So(JSON.stringify({version:2,heartbeats:s})).length}function nC(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(s){nr(new Wi("platform-logger",t=>new p1(t),"PRIVATE")),nr(new Wi("heartbeat",t=>new $1(t),"PRIVATE")),_i(Wf,C_,s),_i(Wf,C_,"esm2020"),_i("fire-js","")}iC("");var sC="firebase",rC="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(sC,rC,"app");function tv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=tv,nv=new Va("auth","Firebase",tv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Ed("@firebase/auth");function lC(s,...t){wo.logLevel<=Ae.WARN&&wo.warn(`Auth (${fr}): ${s}`,...t)}function _o(s,...t){wo.logLevel<=Ae.ERROR&&wo.error(`Auth (${fr}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(s,...t){throw wd(s,...t)}function fn(s,...t){return wd(s,...t)}function iv(s,t,i){const a={...aC(),[t]:i};return new Va("auth","Firebase",a).create(t,{appName:s.name})}function yi(s){return iv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wd(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return nv.create(s,...t)}function W(s,t,...i){if(!s)throw wd(t,...i)}function xn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw _o(t),new Error(t)}function kn(s,t){s||xn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(){return typeof self<"u"&&self.location?.href||""}function oC(){return x_()==="http:"||x_()==="https:"}function x_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oC()||kT()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,i){this.shortDelay=t,this.longDelay=i,kn(i>t,"Short delay should be less than long delay!"),this.isMobile=bd()||Ky()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(s,t){kn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hC=new qa(3e4,6e4);function ns(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ci(s,t,i,a,o={}){return rv(s,o,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const h=ur({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const m={method:t,headers:g,...u};return MT()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&cr(s.emulatorConfig.host)&&(m.credentials="include"),sv.fetch()(await av(s,s.config.apiHost,i,h),m)})}async function rv(s,t,i){s._canInitEmulator=!1;const a={...fC,...t};try{const o=new mC(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw po(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const h=u.ok?d.errorMessage:d.error.message,[g,m]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw po(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw po(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw po(s,"user-disabled",d);const y=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw iv(s,y,m);en(s,y)}}catch(o){if(o instanceof Ti)throw o;en(s,"network-request-failed",{message:String(o)})}}async function Ko(s,t,i,a,o={}){const u=await Ci(s,t,i,a,o);return"mfaPendingCredential"in u&&en(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function av(s,t,i,a){const o=`${t}${i}?${a}`,u=s,d=u.config.emulator?Ad(s.config,o):`${s.config.apiScheme}://${o}`;return dC.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function pC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(fn(this.auth,"network-request-failed")),hC.get())})}}function po(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=fn(s,t,a);return o.customData._tokenResponse=i,o}function O_(s){return s!==void 0&&s.enterprise!==void 0}class gC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return pC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _C(s,t){return Ci(s,"GET","/v2/recaptchaConfig",ns(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(s,t){return Ci(s,"POST","/v1/accounts:delete",t)}async function Ao(s,t){return Ci(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vC(s,t=!1){const i=kt(s),a=await i.getIdToken(t),o=Rd(a);W(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:wa(Df(o.auth_time)),issuedAtTime:wa(Df(o.iat)),expirationTime:wa(Df(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Df(s){return Number(s)*1e3}function Rd(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return _o("JWT malformed, contained fewer than 3 sections"),null;try{const o=To(i);return o?JSON.parse(o):(_o("Failed to decode base64 JWT payload"),null)}catch(o){return _o("Caught error parsing JWT payload as JSON",o?.toString()),null}}function I_(s){const t=Rd(s);return W(t,"internal-error"),W(typeof t.exp<"u","internal-error"),W(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ti&&bC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function bC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(s){const t=s.auth,i=await s.getIdToken(),a=await ka(s,Ao(t,{idToken:i}));W(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?lv(o.providerUserInfo):[],d=TC(s.providerData,u),h=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,m=h?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ed(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(s,y)}async function SC(s){const t=kt(s);await Ro(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TC(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function lv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(s,t){const i=await rv(s,{},async()=>{const a=ur({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await av(s,o,"/v1/token",`key=${u}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:h,body:a};return s.emulatorConfig&&cr(s.emulatorConfig.host)&&(g.credentials="include"),sv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wC(s,t){return Ci(s,"POST","/v2/accounts:revokeToken",ns(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){W(t.idToken,"internal-error"),W(typeof t.idToken<"u","internal-error"),W(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){W(t.length!==0,"internal-error");const i=I_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await CC(t,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,d=new Xs;return a&&(W(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(W(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&(W(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(s,t){W(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wt{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ed(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await ka(this,this.stsTokenManager.getToken(this.auth,t));return W(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vC(this,t)}reload(){return SC(this)}_assign(t){this!==t&&(W(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Ro(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(yi(this.auth));const t=await this.getIdToken();return await ka(this,yC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,h=i.tenantId??void 0,g=i._redirectEventId??void 0,m=i.createdAt??void 0,y=i.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:L,providerData:U,stsTokenManager:B}=i;W(E&&B,t,"internal-error");const V=Xs.fromJSON(this.name,B);W(typeof E=="string",t,"internal-error"),ui(a,t.name),ui(o,t.name),W(typeof b=="boolean",t,"internal-error"),W(typeof L=="boolean",t,"internal-error"),ui(u,t.name),ui(d,t.name),ui(h,t.name),ui(g,t.name),ui(m,t.name),ui(y,t.name);const F=new Wt({uid:E,auth:t,email:o,emailVerified:b,displayName:a,isAnonymous:L,photoURL:d,phoneNumber:u,tenantId:h,stsTokenManager:V,createdAt:m,lastLoginAt:y});return U&&Array.isArray(U)&&(F.providerData=U.map(ie=>({...ie}))),g&&(F._redirectEventId=g),F}static async _fromIdTokenResponse(t,i,a=!1){const o=new Xs;o.updateFromServerResponse(i);const u=new Wt({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Ro(u),u}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];W(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,h=new Xs;h.updateFromIdToken(a);const g=new Wt({uid:o.localId,auth:t,stsTokenManager:h,isAnonymous:d}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ed(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function On(s){kn(s instanceof Function,"Expected a class definition");let t=D_.get(s);return t?(kn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,D_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ov.type="NONE";const M_=ov;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(s,t,i){return`firebase:${s}:${t}:${i}`}class Ws{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=yo(this.userKey,o.apiKey,u),this.fullPersistenceKey=yo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Ao(this.auth,{idToken:t}).catch(()=>{});return i?Wt._fromGetAccountInfoResponse(this.auth,i,t):null}return Wt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ws(On(M_),t,a);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||On(M_);const d=yo(a,t.config.apiKey,t.name);let h=null;for(const m of i)try{const y=await m._get(d);if(y){let E;if(typeof y=="string"){const b=await Ao(t,{idToken:y}).catch(()=>{});if(!b)break;E=await Wt._fromGetAccountInfoResponse(t,b,y)}else E=Wt._fromJSON(t,y);m!==u&&(h=E),u=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ws(u,t,a):(u=g[0],h&&await u._set(d,h.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(d)}catch{}})),new Ws(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pv(t))return"Blackberry";if(mv(t))return"Webos";if(uv(t))return"Safari";if((t.includes("chrome/")||fv(t))&&!t.includes("edge/"))return"Chrome";if(hv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function cv(s=dt()){return/firefox\//i.test(s)}function uv(s=dt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fv(s=dt()){return/crios\//i.test(s)}function dv(s=dt()){return/iemobile/i.test(s)}function hv(s=dt()){return/android/i.test(s)}function pv(s=dt()){return/blackberry/i.test(s)}function mv(s=dt()){return/webos/i.test(s)}function Nd(s=dt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function AC(s=dt()){return Nd(s)&&!!window.navigator?.standalone}function RC(){return LT()&&document.documentMode===10}function gv(s=dt()){return Nd(s)||hv(s)||mv(s)||pv(s)||/windows phone/i.test(s)||dv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s,t=[]){let i;switch(s){case"Browser":i=k_(dt());break;case"Worker":i=`${k_(dt())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${fr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=u=>new Promise((d,h)=>{try{const g=t(u);d(g)}catch(g){h(g)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(s,t={}){return Ci(s,"GET","/v2/passwordPolicy",ns(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6;class IC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??OC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=On(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ws.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Ao(this,{idToken:t}),a=await Wt._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,h=await this.tryRedirectSignIn(t);(!u||u===d)&&h?.user&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Ro(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qt(this.app))return Promise.reject(yi(this));const i=t?kt(t):null;return i&&W(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&W(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qt(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(On(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xC(this),i=new IC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Va("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await wC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&On(t)||this._popupRedirectResolver;W(i,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[On(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(h,this,"internal-error"),h.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,o);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_v(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dr(s){return kt(s)}class L_{constructor(t){this.auth=t,this.observer=null,this.addObserver=YT(i=>this.observer=i)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MC(s){Qo=s}function yv(s){return Qo.loadJS(s)}function kC(){return Qo.recaptchaEnterpriseScript}function LC(){return Qo.gapiScript}function UC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class zC{constructor(){this.enterprise=new HC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class HC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const PC="recaptcha-enterprise",vv="NO_RECAPTCHA";class BC{constructor(t){this.type=PC,this.auth=dr(t)}async verify(t="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,h)=>{_C(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new gC(g);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,d(m.siteKey)}}).catch(g=>{h(g)})})}function o(u,d,h){const g=window.grecaptcha;O_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(m=>{d(m)}).catch(()=>{d(vv)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(h=>{if(!i&&O_(window.grecaptcha))o(h,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kC();g.length!==0&&(g+=h),yv(g).then(()=>{o(h,u,d)}).catch(m=>{d(m)})}}).catch(h=>{d(h)})})}}async function U_(s,t,i,a=!1,o=!1){const u=new BC(s);let d;if(o)d=vv;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const h={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const g=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const g=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return a?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function z_(s,t,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await U_(s,t,i,i==="getOobCode");return a(s,u)}else return a(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await U_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(s,t){const i=Td(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Xi(u,t??{}))return o;en(o,"already-initialized")}return i.initialize({options:t})}function VC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(On);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function qC(s,t,i){const a=dr(s);W(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,u=bv(t),{host:d,port:h}=GC(t),g=h===null?"":`:${h}`,m={url:`${u}//${d}${g}/`},y=Object.freeze({host:d,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){W(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),W(Xi(m,a.config.emulator)&&Xi(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,cr(d)?(Yy(`${u}//${d}${g}`),Fy("Auth",!0)):YC()}function bv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function GC(s){const t=bv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:H_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:H_(d)}}}function H_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function YC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xn("not implemented")}_getIdTokenResponse(t){return xn("not implemented")}_linkToIdToken(t,i){return xn("not implemented")}_getReauthenticationResolver(t){return xn("not implemented")}}async function FC(s,t){return Ci(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(s,t){return Ko(s,"POST","/v1/accounts:signInWithPassword",ns(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(s,t){return Ko(s,"POST","/v1/accounts:signInWithEmailLink",ns(s,t))}async function XC(s,t){return Ko(s,"POST","/v1/accounts:signInWithEmailLink",ns(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends xd{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new La(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new La(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(t,i,"signInWithPassword",KC);case"emailLink":return QC(t,{email:this._email,oobCode:this._password});default:en(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(t,a,"signUpPassword",FC);case"emailLink":return XC(t,{idToken:i,email:this._email,oobCode:this._password});default:en(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(s,t){return Ko(s,"POST","/v1/accounts:signInWithIdp",ns(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="http://localhost";class Zi extends xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):en("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...u}=i;if(!a||!o)return null;const d=new Zi(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Zs(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Zs(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Zs(t,i)}buildRequest(){const t={requestUri:WC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ur(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JC(s){const t=Sa(Ta(s)).link,i=t?Sa(Ta(t)).deep_link_id:null,a=Sa(Ta(s)).deep_link_id;return(a?Sa(Ta(a)).link:null)||a||i||t||s}class Od{constructor(t){const i=Sa(Ta(t)),a=i.apiKey??null,o=i.oobCode??null,u=ZC(i.mode??null);W(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=JC(t);try{return new Od(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.providerId=hr.PROVIDER_ID}static credential(t,i){return La._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Od.parseLink(i);return W(a,"argument-error"),La._fromEmailAndCode(t,a.code,a.tenantId)}}hr.PROVIDER_ID="password";hr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Ev{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Ga{constructor(){super("facebook.com")}static credential(t){return Zi._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Ga{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zi._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return di.credential(i,a)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Ga{constructor(){super("github.com")}static credential(t){return Zi._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Ga{constructor(){super("twitter.com")}static credential(t,i){return Zi._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return pi.credential(i,a)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const u=await Wt._fromIdTokenResponse(t,a,o),d=P_(a);return new ir({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=P_(a);return new ir({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function P_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Ti{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,No.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new No(t,i,a,o)}}function Sv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?No._fromErrorAndOperation(s,u,t,a):u})}async function $C(s,t,i=!1){const a=await ka(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ir._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(s,t,i=!1){const{auth:a}=s;if(Qt(a.app))return Promise.reject(yi(a));const o="reauthenticate";try{const u=await ka(s,Sv(a,o,t,s),i);W(u.idToken,a,"internal-error");const d=Rd(u.idToken);W(d,a,"internal-error");const{sub:h}=d;return W(s.uid===h,a,"user-mismatch"),ir._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&en(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(s,t,i=!1){if(Qt(s.app))return Promise.reject(yi(s));const a="signIn",o=await Sv(s,a,t),u=await ir._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function tw(s,t){return Tv(dr(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(s){const t=dr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function iw(s,t,i){return Qt(s.app)?Promise.reject(yi(s)):tw(kt(s),hr.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&nw(s),a})}function sw(s,t,i,a){return kt(s).onIdTokenChanged(t,i,a)}function rw(s,t,i){return kt(s).beforeAuthStateChanged(t,i)}function aw(s,t,i,a){return kt(s).onAuthStateChanged(t,i,a)}function lw(s){return kt(s).signOut()}const xo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(xo,"1"),this.storage.removeItem(xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1e3,cw=10;class wv extends Cv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,h,g)=>{this.notifyListeners(d,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);RC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,cw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}wv.type="LOCAL";const uw=wv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Cv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Av.type="SESSION";const Rv=Av;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Xo(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const h=Array.from(d).map(async m=>m(i.origin,u)),g=await fw(h);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((h,g)=>{const m=Id("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(b.data.response);break;default:clearTimeout(y),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:m,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function hw(s){dn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function pw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){return navigator?.serviceWorker?.controller||null}function gw(){return Nv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="firebaseLocalStorageDb",_w=1,Oo="firebaseLocalStorage",Ov="fbase_key";class Ya{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Wo(s,t){return s.transaction([Oo],t?"readwrite":"readonly").objectStore(Oo)}function yw(){const s=indexedDB.deleteDatabase(xv);return new Ya(s).toPromise()}function td(){const s=indexedDB.open(xv,_w);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Oo,{keyPath:Ov})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Oo)?t(a):(a.close(),await yw(),t(await td()))})})}async function B_(s,t,i){const a=Wo(s,!0).put({[Ov]:t,value:i});return new Ya(a).toPromise()}async function vw(s,t){const i=Wo(s,!1).get(t),a=await new Ya(i).toPromise();return a===void 0?null:a.value}function j_(s,t){const i=Wo(s,!0).delete(t);return new Ya(i).toPromise()}const bw=800,Ew=3;class Iv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await td(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xo._getInstance(gw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pw(),!this.activeServiceWorker)return;this.sender=new dw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await td();return await B_(t,xo,"1"),await j_(t,xo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>B_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>vw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>j_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Wo(o,!1).getAll();return new Ya(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iv.type="LOCAL";const Sw=Iv;new qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(s,t){return t?On(t):(W(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends xd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zs(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Zs(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Zs(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(s){return Tv(s.auth,new Dd(s),s.bypassAuthState)}function ww(s){const{auth:t,user:i}=s;return W(i,t,"internal-error"),ew(i,new Dd(s),s.bypassAuthState)}async function Aw(s){const{auth:t,user:i}=s;return W(i,t,"internal-error"),$C(i,new Dd(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,i,a,o,u=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:d,type:h}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return Aw;case"reauthViaPopup":case"reauthViaRedirect":return ww;default:en(this.auth,"internal-error")}}resolve(t){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new qa(2e3,1e4);class Ys extends Dv{constructor(t,i,a,o,u){super(t,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return W(t,this.auth,"internal-error"),t}async onExecution(){kn(this.filter.length===1,"Popup operations only handle one event");const t=Id();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="pendingRedirect",vo=new Map;class xw extends Dv{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=vo.get(this.auth._key());if(!t){try{const a=await Ow(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}vo.set(this.auth._key(),t)}return this.bypassAuthState||vo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ow(s,t){const i=Mw(t),a=Dw(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Iw(s,t){vo.set(s._key(),t)}function Dw(s){return On(s._redirectPersistence)}function Mw(s){return yo(Nw,s.config.apiKey,s.name)}async function kw(s,t,i=!1){if(Qt(s.app))return Promise.reject(yi(s));const a=dr(s),o=Tw(a,t),d=await new xw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=600*1e3;class Uw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Mv(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(fn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lw&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(t))}saveEventToCache(t){this.cachedEventUids.add(V_(t)),this.lastProcessedEventTime=Date.now()}}function V_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Mv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function zw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(s,t={}){return Ci(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function jw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Hw(s);for(const i of t)try{if(Vw(i))return}catch{}en(s,"unauthorized-domain")}function Vw(s){const t=$f(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Bw.test(i))return!1;if(Pw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new qa(3e4,6e4);function q_(){const s=dn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Gw(s){return new Promise((t,i)=>{function a(){q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{q_(),i(fn(s,"network-request-failed"))},timeout:qw.get()})}if(dn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dn().gapi?.load)a();else{const o=UC("iframefcb");return dn()[o]=()=>{gapi.load?a():i(fn(s,"network-request-failed"))},yv(`${LC()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw bo=null,t})}let bo=null;function Yw(s){return bo=bo||Gw(s),bo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new qa(5e3,15e3),Kw="__/auth/iframe",Qw="emulator/auth/iframe",Xw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zw(s){const t=s.config;W(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ad(t,Qw):`https://${s.config.authDomain}/${Kw}`,a={apiKey:t.apiKey,appName:s.name,v:fr},o=Ww.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${ur(a).slice(1)}`}async function Jw(s){const t=await Yw(s),i=dn().gapi;return W(i,s,"internal-error"),t.open({where:document.body,url:Zw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xw,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=fn(s,"network-request-failed"),h=dn().setTimeout(()=>{u(d)},Fw.get());function g(){dn().clearTimeout(h),o(a)}a.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eA=500,tA=600,nA="_blank",iA="http://localhost";class G_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sA(s,t,i,a=eA,o=tA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let h="";const g={...$w,width:a.toString(),height:o.toString(),top:u,left:d},m=dt().toLowerCase();i&&(h=fv(m)?nA:i),cv(m)&&(t=t||iA,g.scrollbars="yes");const y=Object.entries(g).reduce((b,[L,U])=>`${b}${L}=${U},`,"");if(AC(m)&&h!=="_self")return rA(t||"",h),new G_(null);const E=window.open(t||"",h,y);W(E,s,"popup-blocked");try{E.focus()}catch{}return new G_(E)}function rA(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="__/auth/handler",lA="emulator/auth/handler",oA=encodeURIComponent("fac");async function Y_(s,t,i,a,o,u){W(s.config.authDomain,s,"auth-domain-config-required"),W(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:fr,eventId:o};if(t instanceof Ev){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Kf(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,E]of Object.entries({}))d[y]=E}if(t instanceof Ga){const y=t.getScopes().filter(E=>E!=="");y.length>0&&(d.scopes=y.join(","))}s.tenantId&&(d.tid=s.tenantId);const h=d;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const g=await s._getAppCheckToken(),m=g?`#${oA}=${encodeURIComponent(g)}`:"";return`${cA(s)}?${ur(h).slice(1)}${m}`}function cA({config:s}){return s.emulator?Ad(s,lA):`https://${s.authDomain}/${aA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="webStorageSupport";class uA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rv,this._completeRedirectFn=kw,this._overrideRedirectResult=Iw}async _openPopup(t,i,a,o){kn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Y_(t,i,a,$f(),o);return sA(t,u,Id())}async _openRedirect(t,i,a,o){await this._originValidation(t);const u=await Y_(t,i,a,$f(),o);return hw(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(kn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Jw(t),a=new Uw(t);return i.register("authEvent",o=>(W(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Mf,{type:Mf},o=>{const u=o?.[0]?.[Mf];u!==void 0&&i(!!u),en(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return gv()||uv()||Nd()}}const fA=uA;var F_="@firebase/auth",K_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pA(s){nr(new Wi("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=a.options;W(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_v(s)},m=new DC(a,o,u,g);return VC(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),nr(new Wi("auth-internal",t=>{const i=dr(t.getProvider("auth").getImmediate());return(a=>new dA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(F_,K_,hA(s)),_i(F_,K_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=300,gA=Gy("authIdTokenMaxAge")||mA;let Q_=null;const _A=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>gA)return;const o=i?.token;Q_!==o&&(Q_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yA(s=Cd()){const t=Td(s,"auth");if(t.isInitialized())return t.getImmediate();const i=jC(s,{popupRedirectResolver:fA,persistence:[Sw,uw,Rv]}),a=Gy("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=_A(u.toString());rw(i,d,()=>d(i.currentUser)),sw(i,h=>d(h))}}const o=Vy("auth");return o&&qC(i,`http://${o}`),i}function vA(){return document.getElementsByTagName("head")?.[0]??document}MC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const u=fn("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",vA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pA("Browser");var X_={};const W_="@firebase/database",Z_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv="";function bA(s){kv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$e(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ia(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Un(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new EA(t)}}catch{}return new SA},Qi=Lv("localStorage"),TA=Lv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Ed("@firebase/database"),CA=(function(){let s=1;return function(){return s++}})(),Uv=function(s){const t=QT(s),i=new GT;i.update(t);const a=i.digest();return _d.encodeByteArray(a)},Fa=function(...s){let t="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=Fa.apply(null,a):typeof a=="object"?t+=$e(a):t+=a,t+=" "}return t};let Aa=null,J_=!0;const wA=function(s,t){z(!0,"Can't turn on custom loggers persistently."),Js.logLevel=Ae.VERBOSE,Aa=Js.log.bind(Js)},ct=function(...s){if(J_===!0&&(J_=!1,Aa===null&&TA.get("logging_enabled")===!0&&wA()),Aa){const t=Fa.apply(null,s);Aa(t)}},Ka=function(s){return function(...t){ct(s,...t)}},nd=function(...s){const t="FIREBASE INTERNAL ERROR: "+Fa(...s);Js.error(t)},Ln=function(...s){const t=`FIREBASE FATAL ERROR: ${Fa(...s)}`;throw Js.error(t),new Error(t)},Mt=function(...s){const t="FIREBASE WARNING: "+Fa(...s);Js.warn(t)},AA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},RA=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sr="[MIN_NAME]",Ji="[MAX_NAME]",pr=function(s,t){if(s===t)return 0;if(s===sr||t===Ji)return-1;if(t===sr||s===Ji)return 1;{const i=$_(s),a=$_(t);return i!==null?a!==null?i-a===0?s.length-t.length:i-a:-1:a!==null?1:s<t?-1:1}},NA=function(s,t){return s===t?0:s<t?-1:1},_a=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+$e(t))},Md=function(s){if(typeof s!="object"||s===null)return $e(s);const t=[];for(const a in s)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=$e(t[a]),i+=":",i+=Md(s[t[a]]);return i+="}",i},Hv=function(s,t){const i=s.length;if(i<=t)return[s];const a=[];for(let o=0;o<i;o+=t)o+t>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+t));return a};function Et(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Pv=function(s){z(!zv(s),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let o,u,d,h,g;s===0?(u=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(h=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=h+a,d=Math.round(s*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,d=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(g=i;g;g-=1)m.push(d%2?1:0),d=Math.floor(d/2);for(g=t;g;g-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(o?1:0),m.reverse();const y=m.join("");let E="";for(g=0;g<64;g+=8){let b=parseInt(y.substr(g,8),2).toString(16);b.length===1&&(b="0"+b),E=E+b}return E.toLowerCase()},xA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},OA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IA(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+t._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const DA=new RegExp("^-?(0*)\\d{1,10}$"),MA=-2147483648,kA=2147483647,$_=function(s){if(DA.test(s)){const t=Number(s);if(t>=MA&&t<=kA)return t}return null},Qa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Mt("Exception was thrown by user callback.",i),t},Math.floor(0))}},LA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ra=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Qt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(t)}}class Eo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Eo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="5",Bv="v",jv="s",Vv="r",qv="f",Gv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yv="ls",Fv="p",id="ac",Kv="websocket",Qv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t,i,a,o,u=!1,d="",h=!1,g=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=g,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function HA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Wv(s,t,i){z(typeof t=="string","typeof type must == string"),z(typeof i=="object","typeof params must == object");let a;if(t===Kv)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Qv)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);HA(s)&&(i.ns=s.namespace);const o=[];return Et(i,(u,d)=>{o.push(u+"="+d)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.counters_={}}incrementCounter(t,i=1){Un(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return TT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf={},Lf={};function Ld(s){const t=s.toString();return kf[t]||(kf[t]=new PA),kf[t]}function BA(s,t){const i=s.toString();return Lf[i]||(Lf[i]=t()),Lf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Qa(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="start",VA="close",qA="pLPCommand",GA="pRTLPCB",Zv="id",Jv="pw",$v="ser",YA="cb",FA="seg",KA="ts",QA="d",XA="dframe",eb=1870,tb=30,WA=eb-tb,ZA=25e3,JA=3e4;class Fs{constructor(t,i,a,o,u,d,h){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ka(t),this.stats_=Ld(i),this.urlFn=g=>(this.appCheckToken&&(g[id]=this.appCheckToken),Wv(i,Qv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new jA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(JA)),RA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ud((...u)=>{const[d,h,g,m,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ey)this.id=h,this.password=g;else if(d===VA)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const a={};a[ey]="t",a[$v]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[YA]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Bv]=kd,this.transportSessionId&&(a[jv]=this.transportSessionId),this.lastSessionId&&(a[Yv]=this.lastSessionId),this.applicationId&&(a[Fv]=this.applicationId),this.appCheckToken&&(a[id]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gv.test(location.hostname)&&(a[Vv]=qv);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fs.forceAllow_=!0}static forceDisallow(){Fs.forceDisallow_=!0}static isAvailable(){return Fs.forceAllow_?!0:!Fs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xA()&&!OA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=$e(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=By(i),o=Hv(a,WA);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[XA]="t",a[Zv]=t,a[Jv]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=$e(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ud{constructor(t,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=CA(),window[qA+this.uniqueCallbackIdentifier]=t,window[GA+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ud.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){ct("frame writing exception"),h.stack&&ct(h.stack),ct(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ct("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Zv]=this.myID,t[Jv]=this.myPW,t[$v]=this.currentSerial;let i=this.urlFn(t),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tb+a.length<=eb;){const d=this.pendingSegs.shift();a=a+"&"+FA+o+"="+d.seg+"&"+KA+o+"="+d.ts+"&"+QA+o+"="+d.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(ZA)),u=()=>{clearTimeout(o),a()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ct("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=16384,eR=45e3;let Io=null;typeof MozWebSocket<"u"?Io=MozWebSocket:typeof WebSocket<"u"&&(Io=WebSocket);class Xt{constructor(t,i,a,o,u,d,h){this.connId=t,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ka(this.connId),this.stats_=Ld(i),this.connURL=Xt.connectionURL_(i,d,h,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,o,u){const d={};return d[Bv]=kd,typeof location<"u"&&location.hostname&&Gv.test(location.hostname)&&(d[Vv]=qv),i&&(d[jv]=i),a&&(d[Yv]=a),o&&(d[id]=o),u&&(d[Fv]=u),Wv(t,Kv,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let a;UT(),this.mySock=new Io(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&Io!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ia(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=$e(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Hv(i,$A);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eR))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static get ALL_TRANSPORTS(){return[Fs,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Xt&&Xt.isAvailable();let a=i&&!Xt.previouslyFailed();if(t.webSocketOnly&&(i||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Xt];else{const o=this.transports_=[];for(const u of Ua.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Ua.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ua.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=6e4,nR=5e3,iR=10*1024,sR=100*1024,Uf="t",ty="d",rR="s",ny="r",aR="e",iy="o",sy="a",ry="n",ay="p",lR="h";class oR{constructor(t,i,a,o,u,d,h,g,m,y){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=g,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ka("c:"+this.id+":"),this.transportManager_=new Ua(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Uf in t){const i=t[Uf];i===sy?this.upgradeIfSecondaryHealthy_():i===ny?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===iy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=_a("t",t),a=_a("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ry,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=_a("t",t),a=_a("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=_a(Uf,t);if(ty in t){const a=t[ty];if(i===lR){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ry){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===rR?this.onConnectionShutdown_(a):i===ny?this.onReset_(a):i===aR?nd("Server Error: "+a):i===iy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nd("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),kd!==a&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tR))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ay,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{put(t,i,a,o){}merge(t,i,a,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const o=this.getInitialEvent(t);o&&i.apply(a,o)}off(t,i,a){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(t){z(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends ib{static getInstance(){return new Do}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=32,oy=768;class Ne{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ve(){return new Ne("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function bi(s){return s.pieces_.length-s.pieceNum_}function Oe(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Ne(s.pieces_,t)}function sb(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function cR(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function rb(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function ab(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Ne(t,0)}function Fe(s,t){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(t instanceof Ne)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Ne(i,0)}function de(s){return s.pieceNum_>=s.pieces_.length}function vt(s,t){const i=fe(s),a=fe(t);if(i===null)return t;if(i===a)return vt(Oe(s),Oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function zd(s,t){if(bi(s)!==bi(t))return!1;for(let i=s.pieceNum_,a=t.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==t.pieces_[a])return!1;return!0}function Zt(s,t){let i=s.pieceNum_,a=t.pieceNum_;if(bi(s)>bi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class uR{constructor(t,i){this.errorPrefix_=i,this.parts_=rb(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Fo(this.parts_[a]);lb(this)}}function fR(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Fo(t),lb(s)}function dR(s){const t=s.parts_.pop();s.byteLength_-=Fo(t),s.parts_.length>0&&(s.byteLength_-=1)}function lb(s){if(s.byteLength_>oy)throw new Error(s.errorPrefix_+"has a key path longer than "+oy+" bytes ("+s.byteLength_+").");if(s.parts_.length>ly)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ly+") or object contains a cycle "+Ki(s))}function Ki(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends ib{static getInstance(){return new Hd}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=1e3,hR=300*1e3,cy=30*1e3,pR=1.3,mR=3e4,gR="server_kill",uy=3;class Dn extends nb{constructor(t,i,a,o,u,d,h,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=g,this.id=Dn.nextPersistentConnectionId_++,this.log_=Ka("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ya,this.maxReconnectDelay_=hR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Do.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_($e(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(t){this.initConnection_();const i=new vd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,a,o){this.initConnection_();const u=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:t,tag:a};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},d="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(d,u,h=>{const g=h.d,m=h.s;Dn.warnOnListenWarnings_(g,i),(this.listens.get(a)&&this.listens.get(a).get(o))===t&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(a,o),t.onComplete&&t.onComplete(m,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Un(t,"w")){const a=tr(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||qT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=VT(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,d=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,t._queryObject,i)}sendUnlisten_(t,i,a,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},d="n";o&&(u.q=a,u.t=o),this.sendRequest(d,u)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,a,o){this.putInternal("p",t,i,a,o)}merge(t,i,a,o){this.putInternal("m",t,i,a,o)}putInternal(t,i,a,o,u){this.initConnection_();const d={p:i,d:a};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$e(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):nd("Unrecognized action received from server: "+$e(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ya,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ya,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mR&&(this.reconnectDelay_=ya),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Dn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const g=function(){h?h.close():(d=!0,a())},m=function(E){z(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(E)};this.realtime_={close:g,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,h=new oR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,L=>{Mt(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(gR)},u))}catch(E){this.log_("Failed to get token: "+E),d||(this.repoInfo_.nodeAdmin&&Mt(E),g())}}}interrupt(t){ct("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ct("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Kf(this.interruptReasons_)&&(this.reconnectDelay_=ya,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(u=>Md(u)).join("$"):a="default";const o=this.removeListen_(t,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const a=new Ne(t).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(t,i){ct("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uy&&(this.reconnectDelay_=cy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ct("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+kv.replace(/\./g,"-")]=1,bd()?t["framework.cordova"]=1:Ky()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Do.getInstance().currentlyOnline();return Kf(this.interruptReasons_)&&t}}Dn.nextPersistentConnectionId_=0;Dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new oe(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new oe(sr,t),o=new oe(sr,i);return this.compare(a,o)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class ob extends Zo{static get __EMPTY_NODE(){return mo}static set __EMPTY_NODE(t){mo=t}compare(t,i){return pr(t.name,i.name)}isDefinedOn(t){throw or("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return oe.MIN}maxPost(){return new oe(Ji,mo)}makePost(t,i){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,mo)}toString(){return".key"}}const $s=new ob;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?a(t.key,i):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Je{constructor(t,i,a,o,u){this.key=t,this.value=i,this.color=a??Je.RED,this.left=o??bt.EMPTY_NODE,this.right=u??bt.EMPTY_NODE}copy(t,i,a,o,u){return new Je(t??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const u=a(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,o;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return bt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class _R{copy(t,i,a,o,u){return this}insert(t,i,a){return new Je(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bt{constructor(t,i=bt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new bt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(t){return new bt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new go(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new go(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new go(this.root_,null,this.comparator_,!0,t)}}bt.EMPTY_NODE=new _R;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(s,t){return pr(s.name,t.name)}function Pd(s,t){return pr(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;function vR(s){sd=s}const cb=function(s){return typeof s=="number"?"number:"+Pv(s):"string:"+s},ub=function(s){if(s.isLeafNode()){const t=s.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Un(t,".sv"),"Priority must be a string or number.")}else z(s===sd||s.isEmpty(),"priority of unexpected type.");z(s===sd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy;class Ze{static set __childrenNodeConstructor(t){fy=t}static get __childrenNodeConstructor(){return fy}constructor(t,i=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ub(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ze(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return de(t)?this:fe(t)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=fe(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(z(a!==".priority"||bi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+cb(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Pv(this.value_):t+=this.value_,this.lazyHash_=Uv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ze.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ze.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,o=Ze.VALUE_TYPE_ORDER.indexOf(i),u=Ze.VALUE_TYPE_ORDER.indexOf(a);return z(o>=0,"Unknown leaf type: "+i),z(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fb,db;function bR(s){fb=s}function ER(s){db=s}class SR extends Zo{compare(t,i){const a=t.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?pr(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(Ji,new Ze("[PRIORITY-POST]",db))}makePost(t,i){const a=fb(t);return new oe(i,new Ze("[PRIORITY-POST]",a))}toString(){return".priority"}}const He=new SR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=Math.log(2);class CR{constructor(t){const i=u=>parseInt(Math.log(u)/TR,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=a(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Mo=function(s,t,i,a){s.sort(t);const o=function(g,m){const y=m-g;let E,b;if(y===0)return null;if(y===1)return E=s[g],b=i?i(E):E,new Je(b,E.node,Je.BLACK,null,null);{const L=parseInt(y/2,10)+g,U=o(g,L),B=o(L+1,m);return E=s[L],b=i?i(E):E,new Je(b,E.node,Je.BLACK,U,B)}},u=function(g){let m=null,y=null,E=s.length;const b=function(U,B){const V=E-U,F=E;E-=U;const ie=o(V+1,F),me=s[V],be=i?i(me):me;L(new Je(be,me.node,B,null,ie))},L=function(U){m?(m.left=U,m=U):(y=U,m=U)};for(let U=0;U<g.count;++U){const B=g.nextBitIsOne(),V=Math.pow(2,g.count-(U+1));B?b(V,Je.BLACK):(b(V,Je.BLACK),b(V,Je.RED))}return y},d=new CR(s.length),h=u(d);return new bt(a||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf;const Gs={};class In{static get Default(){return z(Gs&&He,"ChildrenNode.ts has not been loaded"),zf=zf||new In({".priority":Gs},{".priority":He}),zf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=tr(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof bt?i:null}hasIndex(t){return Un(this.indexSet_,t.toString())}addIndex(t,i){z(t!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(oe.Wrap);let d=u.getNext();for(;d;)o=o||t.isDefinedOn(d.node),a.push(d),d=u.getNext();let h;o?h=Mo(a,t.getCompare()):h=Gs;const g=t.toString(),m={...this.indexSet_};m[g]=t;const y={...this.indexes_};return y[g]=h,new In(y,m)}addToIndexes(t,i){const a=Co(this.indexes_,(o,u)=>{const d=tr(this.indexSet_,u);if(z(d,"Missing index implementation for "+u),o===Gs)if(d.isDefinedOn(t.node)){const h=[],g=i.getIterator(oe.Wrap);let m=g.getNext();for(;m;)m.name!==t.name&&h.push(m),m=g.getNext();return h.push(t),Mo(h,d.getCompare())}else return Gs;else{const h=i.get(t.name);let g=o;return h&&(g=g.remove(new oe(t.name,h))),g.insert(t,t.node)}});return new In(a,this.indexSet_)}removeFromIndexes(t,i){const a=Co(this.indexes_,o=>{if(o===Gs)return o;{const u=i.get(t.name);return u?o.remove(new oe(t.name,u)):o}});return new In(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va;class J{static get EMPTY_NODE(){return va||(va=new J(new bt(Pd),null,In.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&ub(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||va}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?va:i}}getChild(t){const i=fe(t);return i===null?this:this.getImmediateChild(i).getChild(Oe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(z(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new oe(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?va:this.priorityNode_;return new J(o,d,u)}}updateChild(t,i){const a=fe(t);if(a===null)return i;{z(fe(t)!==".priority"||bi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Oe(t),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(He,(d,h)=>{i[d]=h.val(t),a++,u&&J.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):u=!1}),!t&&u&&o<2*a){const d=[];for(const h in i)d[h]=i[h];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+cb(this.getPriority().val())+":"),this.forEachChild(He,(i,a)=>{const o=a.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Uv(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new oe(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new oe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new oe(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xa?-1:0}withIndex(t){if(t===$s||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===$s||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(He),o=i.getIterator(He);let u=a.getNext(),d=o.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=a.getNext(),d=o.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===$s?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wR extends J{constructor(){super(new bt(Pd),J.EMPTY_NODE,In.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const Xa=new wR;Object.defineProperties(oe,{MIN:{value:new oe(sr,J.EMPTY_NODE)},MAX:{value:new oe(Ji,Xa)}});ob.__EMPTY_NODE=J.EMPTY_NODE;Ze.__childrenNodeConstructor=J;vR(Xa);ER(Xa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=!0;function ut(s,t=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Ze(i,ut(t))}if(!(s instanceof Array)&&AR){const i=[];let a=!1;if(Et(s,(d,h)=>{if(d.substring(0,1)!=="."){const g=ut(h);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),i.push(new oe(d,g)))}}),i.length===0)return J.EMPTY_NODE;const u=Mo(i,yR,d=>d.name,Pd);if(a){const d=Mo(i,He.getCompare());return new J(u,ut(t),new In({".priority":d},{".priority":He}))}else return new J(u,ut(t),In.Default)}else{let i=J.EMPTY_NODE;return Et(s,(a,o)=>{if(Un(s,a)&&a.substring(0,1)!=="."){const u=ut(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(ut(t))}}bR(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR extends Zo{constructor(t){super(),this.indexPath_=t,z(!de(t)&&fe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?pr(t.name,i.name):u}makePost(t,i){const a=ut(t),o=J.EMPTY_NODE.updateChild(this.indexPath_,a);return new oe(i,o)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,Xa);return new oe(Ji,t)}toString(){return rb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR extends Zo{compare(t,i){const a=t.node.compareTo(i.node);return a===0?pr(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,i){const a=ut(t);return new oe(i,a)}toString(){return".value"}}const xR=new NR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s){return{type:"value",snapshotNode:s}}function rr(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function za(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Ha(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function OR(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t){this.index_=t}updateChild(t,i,a,o,u,d){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(i);return h.getChild(o).equals(a.getChild(o))&&h.isEmpty()===a.isEmpty()||(d!=null&&(a.isEmpty()?t.hasChild(i)?d.trackChildChange(za(i,h)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(rr(i,a)):d.trackChildChange(Ha(i,a,h))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(He,(o,u)=>{i.hasChild(o)||a.trackChildChange(za(o,u))}),i.isLeafNode()||i.forEachChild(He,(o,u)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(u)||a.trackChildChange(Ha(o,u,d))}else a.trackChildChange(rr(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.indexedFilter_=new Bd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pa.getStartPost_(t),this.endPost_=Pa.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,o,u,d){return this.matches(new oe(i,a))||(a=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,o,u,d)}updateFullNode(t,i,a){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const u=this;return i.forEachChild(He,(d,h)=>{u.matches(new oe(d,h))||(o=o.updateImmediateChild(d,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Pa(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,o,u,d){return this.rangedFilter_.matches(new oe(i,a))||(a=J.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,o,u,d):this.fullLimitUpdateChild_(t,i,a,u,d)}updateFullNode(t,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:o=o.updateImmediateChild(h.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,o,u){let d;if(this.reverse_){const E=this.index_.getCompare();d=(b,L)=>E(L,b)}else d=this.index_.getCompare();const h=t;z(h.numChildren()===this.limit_,"");const g=new oe(i,a),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(g);if(h.hasChild(i)){const E=h.getImmediateChild(i);let b=o.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===i||h.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const L=b==null?1:d(b,g);if(y&&!a.isEmpty()&&L>=0)return u?.trackChildChange(Ha(i,a,E)),h.updateImmediateChild(i,a);{u?.trackChildChange(za(i,E));const B=h.updateImmediateChild(i,J.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u?.trackChildChange(rr(b.name,b.node)),B.updateImmediateChild(b.name,b.node)):B}}else return a.isEmpty()?t:y&&d(m,g)>=0?(u!=null&&(u.trackChildChange(za(m.name,m.node)),u.trackChildChange(rr(i,a))),h.updateImmediateChild(i,a).updateImmediateChild(m.name,J.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sr}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const t=new jd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function DR(s){return s.loadsAllData()?new Bd(s.getIndex()):s.hasLimit()?new IR(s):new Pa(s)}function dy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===He?i="$priority":s.index_===xR?i="$value":s.index_===$s?i="$key":(z(s.index_ instanceof RR,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=$e(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";t[a]=$e(s.indexStartValue_),s.startNameSet_&&(t[a]+=","+$e(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";t[a]=$e(s.indexEndValue_),s.endNameSet_&&(t[a]+=","+$e(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function hy(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==He&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends nb{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Ka("p:rest:"),this.listens_={}}listen(t,i,a,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const d=ko.getListenId_(t,a),h={};this.listens_[d]=h;const g=dy(t._queryParams);this.restRequest_(u+".json",g,(m,y)=>{let E=y;if(m===404&&(E=null,m=null),m===null&&this.onDataUpdate_(u,E,!1,a),tr(this.listens_,d)===h){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",o(b,null)}})}unlisten(t,i){const a=ko.getListenId_(t,i);delete this.listens_[a]}get(t){const i=dy(t._queryParams),a=t._path.toString(),o=new vd;return this.restRequest_(a+".json",i,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(a,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ur(i);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(a&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let g=null;if(h.status>=200&&h.status<300){try{g=Ia(h.responseText)}catch{Mt("Failed to parse JSON response for "+d+": "+h.responseText)}a(null,g)}else h.status!==401&&h.status!==404&&Mt("Got unsuccessful REST response for "+d+" Status: "+h.status),a(h.status);a=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(){return{value:null,children:new Map}}function pb(s,t,i){if(de(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const a=fe(t);s.children.has(a)||s.children.set(a,Lo());const o=s.children.get(a);t=Oe(t),pb(o,t,i)}}function rd(s,t,i){s.value!==null?i(t,s.value):kR(s,(a,o)=>{const u=new Ne(t.toString()+"/"+a);rd(o,u,i)})}function kR(s,t){s.children.forEach((i,a)=>{t(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Et(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=10*1e3,UR=30*1e3,zR=300*1e3;class HR{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new LR(t);const a=py+(UR-py)*Math.random();Ra(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;Et(t,(o,u)=>{u>0&&Un(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),Ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*zR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function mb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=Jt.ACK_USER_WRITE,this.source=mb()}operationForChild(t){if(de(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ne(t));return new Uo(ve(),i,this.revert)}}else return z(fe(this.path)===t,"operationForChild called for unrelated child."),new Uo(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,i){this.source=t,this.path=i,this.type=Jt.LISTEN_COMPLETE}operationForChild(t){return de(this.path)?new Ba(this.source,ve()):new Ba(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=Jt.OVERWRITE}operationForChild(t){return de(this.path)?new $i(this.source,ve(),this.snap.getImmediateChild(t)):new $i(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=Jt.MERGE}operationForChild(t){if(de(this.path)){const i=this.children.subtree(new Ne(t));return i.isEmpty()?null:i.value?new $i(this.source,ve(),i.value):new ja(this.source,ve(),i)}else return z(fe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ja(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(de(t))return this.isFullyInitialized()&&!this.filtered_;const i=fe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function BR(s,t,i,a){const o=[],u=[];return t.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(OR(d.childName,d.snapshotNode))}),ba(s,o,"child_removed",t,a,i),ba(s,o,"child_added",t,a,i),ba(s,o,"child_moved",u,a,i),ba(s,o,"child_changed",t,a,i),ba(s,o,"value",t,a,i),o}function ba(s,t,i,a,o,u){const d=a.filter(h=>h.type===i);d.sort((h,g)=>VR(s,h,g)),d.forEach(h=>{const g=jR(s,h,u);o.forEach(m=>{m.respondsTo(h.type)&&t.push(m.createEvent(g,s.query_))})})}function jR(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function VR(s,t,i){if(t.childName==null||i.childName==null)throw or("Should only compare child_ events.");const a=new oe(t.childName,t.snapshotNode),o=new oe(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(s,t){return{eventCache:s,serverCache:t}}function Na(s,t,i,a){return Jo(new es(t,i,a),s.serverCache)}function gb(s,t,i,a){return Jo(s.eventCache,new es(t,i,a))}function ad(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ts(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;const qR=()=>(Hf||(Hf=new bt(NA)),Hf);class De{static fromObject(t){let i=new De(null);return Et(t,(a,o)=>{i=i.set(new Ne(a),o)}),i}constructor(t,i=qR()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ve(),value:this.value};if(de(t))return null;{const a=fe(t),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Oe(t),i);return u!=null?{path:Fe(new Ne(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(de(t))return this;{const i=fe(t),a=this.children.get(i);return a!==null?a.subtree(Oe(t)):new De(null)}}set(t,i){if(de(t))return new De(i,this.children);{const a=fe(t),u=(this.children.get(a)||new De(null)).set(Oe(t),i),d=this.children.insert(a,u);return new De(this.value,d)}}remove(t){if(de(t))return this.children.isEmpty()?new De(null):new De(null,this.children);{const i=fe(t),a=this.children.get(i);if(a){const o=a.remove(Oe(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new De(null):new De(this.value,u)}else return this}}get(t){if(de(t))return this.value;{const i=fe(t),a=this.children.get(i);return a?a.get(Oe(t)):null}}setTree(t,i){if(de(t))return i;{const a=fe(t),u=(this.children.get(a)||new De(null)).setTree(Oe(t),i);let d;return u.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,u),new De(this.value,d)}}fold(t){return this.fold_(ve(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(Fe(t,o),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,ve(),i)}findOnPath_(t,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(de(t))return null;{const u=fe(t),d=this.children.get(u);return d?d.findOnPath_(Oe(t),Fe(i,u),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ve(),i)}foreachOnPath_(t,i,a){if(de(t))return this;{this.value&&a(i,this.value);const o=fe(t),u=this.children.get(o);return u?u.foreachOnPath_(Oe(t),Fe(i,o),a):new De(null)}}foreach(t){this.foreach_(ve(),t)}foreach_(t,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Fe(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.writeTree_=t}static empty(){return new $t(new De(null))}}function xa(s,t,i){if(de(t))return new $t(new De(i));{const a=s.writeTree_.findRootMostValueAndPath(t);if(a!=null){const o=a.path;let u=a.value;const d=vt(o,t);return u=u.updateChild(d,i),new $t(s.writeTree_.set(o,u))}else{const o=new De(i),u=s.writeTree_.setTree(t,o);return new $t(u)}}}function my(s,t,i){let a=s;return Et(i,(o,u)=>{a=xa(a,Fe(t,o),u)}),a}function gy(s,t){if(de(t))return $t.empty();{const i=s.writeTree_.setTree(t,new De(null));return new $t(i)}}function ld(s,t){return is(s,t)!=null}function is(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(vt(i.path,t)):null}function _y(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(He,(a,o)=>{t.push(new oe(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&t.push(new oe(a,o.value))}),t}function vi(s,t){if(de(t))return s;{const i=is(s,t);return i!=null?new $t(new De(i)):new $t(s.writeTree_.subtree(t))}}function od(s){return s.writeTree_.isEmpty()}function ar(s,t){return _b(ve(),s.writeTree_,t)}function _b(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let a=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=_b(Fe(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Fe(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(s,t){return Eb(t,s)}function GR(s,t,i,a,o){z(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=xa(s.visibleWrites,t,i)),s.lastWriteId=a}function YR(s,t){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===t)return a}return null}function FR(s,t){const i=s.allWrites.findIndex(h=>h.writeId===t);z(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const h=s.allWrites[d];h.visible&&(d>=i&&KR(h,a.path)?o=!1:Zt(a.path,h.path)&&(u=!0)),d--}if(o){if(u)return QR(s),!0;if(a.snap)s.visibleWrites=gy(s.visibleWrites,a.path);else{const h=a.children;Et(h,g=>{s.visibleWrites=gy(s.visibleWrites,Fe(a.path,g))})}return!0}else return!1}function KR(s,t){if(s.snap)return Zt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Zt(Fe(s.path,i),t))return!0;return!1}function QR(s){s.visibleWrites=yb(s.allWrites,XR,ve()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function XR(s){return s.visible}function yb(s,t,i){let a=$t.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const d=u.path;let h;if(u.snap)Zt(i,d)?(h=vt(i,d),a=xa(a,h,u.snap)):Zt(d,i)&&(h=vt(d,i),a=xa(a,ve(),u.snap.getChild(h)));else if(u.children){if(Zt(i,d))h=vt(i,d),a=my(a,h,u.children);else if(Zt(d,i))if(h=vt(d,i),de(h))a=my(a,ve(),u.children);else{const g=tr(u.children,fe(h));if(g){const m=g.getChild(Oe(h));a=xa(a,ve(),m)}}}else throw or("WriteRecord should have .snap or .children")}}return a}function vb(s,t,i,a,o){if(!a&&!o){const u=is(s.visibleWrites,t);if(u!=null)return u;{const d=vi(s.visibleWrites,t);if(od(d))return i;if(i==null&&!ld(d,ve()))return null;{const h=i||J.EMPTY_NODE;return ar(d,h)}}}else{const u=vi(s.visibleWrites,t);if(!o&&od(u))return i;if(!o&&i==null&&!ld(u,ve()))return null;{const d=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(Zt(m.path,t)||Zt(t,m.path))},h=yb(s.allWrites,d,t),g=i||J.EMPTY_NODE;return ar(h,g)}}}function WR(s,t,i){let a=J.EMPTY_NODE;const o=is(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(He,(u,d)=>{a=a.updateImmediateChild(u,d)}),a;if(i){const u=vi(s.visibleWrites,t);return i.forEachChild(He,(d,h)=>{const g=ar(vi(u,new Ne(d)),h);a=a.updateImmediateChild(d,g)}),_y(u).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const u=vi(s.visibleWrites,t);return _y(u).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function ZR(s,t,i,a,o){z(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=Fe(t,i);if(ld(s.visibleWrites,u))return null;{const d=vi(s.visibleWrites,u);return od(d)?o.getChild(i):ar(d,o.getChild(i))}}function JR(s,t,i,a){const o=Fe(t,i),u=is(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const d=vi(s.visibleWrites,o);return ar(d,a.getNode().getImmediateChild(i))}else return null}function $R(s,t){return is(s.visibleWrites,t)}function eN(s,t,i,a,o,u,d){let h;const g=vi(s.visibleWrites,t),m=is(g,ve());if(m!=null)h=m;else if(i!=null)h=ar(g,i);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const y=[],E=d.getCompare(),b=u?h.getReverseIteratorFrom(a,d):h.getIteratorFrom(a,d);let L=b.getNext();for(;L&&y.length<o;)E(L,a)!==0&&y.push(L),L=b.getNext();return y}else return[]}function tN(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function zo(s,t,i,a){return vb(s.writeTree,s.treePath,t,i,a)}function Yd(s,t){return WR(s.writeTree,s.treePath,t)}function yy(s,t,i,a){return ZR(s.writeTree,s.treePath,t,i,a)}function Ho(s,t){return $R(s.writeTree,Fe(s.treePath,t))}function nN(s,t,i,a,o,u){return eN(s.writeTree,s.treePath,t,i,a,o,u)}function Fd(s,t,i){return JR(s.writeTree,s.treePath,t,i)}function bb(s,t){return Eb(Fe(s.treePath,t),s.writeTree)}function Eb(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;z(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),z(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,Ha(a,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,za(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,rr(a,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,Ha(a,t.snapshotNode,o.oldSnap));else throw or("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const Sb=new sN;class Kd{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new es(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fd(this.writes_,t,a)}}getChildAfterChild(t,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ts(this.viewCache_),u=nN(this.writes_,o,i,1,a,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(s){return{filter:s}}function aN(s,t){z(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function lN(s,t,i,a,o){const u=new iN;let d,h;if(i.type===Jt.OVERWRITE){const m=i;m.source.fromUser?d=cd(s,t,m.path,m.snap,a,o,u):(z(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered()&&!de(m.path),d=Po(s,t,m.path,m.snap,a,o,h,u))}else if(i.type===Jt.MERGE){const m=i;m.source.fromUser?d=cN(s,t,m.path,m.children,a,o,u):(z(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered(),d=ud(s,t,m.path,m.children,a,o,h,u))}else if(i.type===Jt.ACK_USER_WRITE){const m=i;m.revert?d=dN(s,t,m.path,a,o,u):d=uN(s,t,m.path,m.affectedTree,a,o,u)}else if(i.type===Jt.LISTEN_COMPLETE)d=fN(s,t,i.path,a,u);else throw or("Unknown operation type: "+i.type);const g=u.getChanges();return oN(t,d,g),{viewCache:d,changes:g}}function oN(s,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=ad(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(hb(ad(t)))}}function Tb(s,t,i,a,o,u){const d=t.eventCache;if(Ho(a,i)!=null)return t;{let h,g;if(de(i))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=ts(t),y=m instanceof J?m:J.EMPTY_NODE,E=Yd(a,y);h=s.filter.updateFullNode(t.eventCache.getNode(),E,u)}else{const m=zo(a,ts(t));h=s.filter.updateFullNode(t.eventCache.getNode(),m,u)}else{const m=fe(i);if(m===".priority"){z(bi(i)===1,"Can't have a priority with additional path components");const y=d.getNode();g=t.serverCache.getNode();const E=yy(a,i,y,g);E!=null?h=s.filter.updatePriority(y,E):h=d.getNode()}else{const y=Oe(i);let E;if(d.isCompleteForChild(m)){g=t.serverCache.getNode();const b=yy(a,i,d.getNode(),g);b!=null?E=d.getNode().getImmediateChild(m).updateChild(y,b):E=d.getNode().getImmediateChild(m)}else E=Fd(a,m,t.serverCache);E!=null?h=s.filter.updateChild(d.getNode(),m,E,y,o,u):h=d.getNode()}}return Na(t,h,d.isFullyInitialized()||de(i),s.filter.filtersNodes())}}function Po(s,t,i,a,o,u,d,h){const g=t.serverCache;let m;const y=d?s.filter:s.filter.getIndexedFilter();if(de(i))m=y.updateFullNode(g.getNode(),a,null);else if(y.filtersNodes()&&!g.isFiltered()){const L=g.getNode().updateChild(i,a);m=y.updateFullNode(g.getNode(),L,null)}else{const L=fe(i);if(!g.isCompleteForPath(i)&&bi(i)>1)return t;const U=Oe(i),V=g.getNode().getImmediateChild(L).updateChild(U,a);L===".priority"?m=y.updatePriority(g.getNode(),V):m=y.updateChild(g.getNode(),L,V,U,Sb,null)}const E=gb(t,m,g.isFullyInitialized()||de(i),y.filtersNodes()),b=new Kd(o,E,u);return Tb(s,E,i,o,b,h)}function cd(s,t,i,a,o,u,d){const h=t.eventCache;let g,m;const y=new Kd(o,t,u);if(de(i))m=s.filter.updateFullNode(t.eventCache.getNode(),a,d),g=Na(t,m,!0,s.filter.filtersNodes());else{const E=fe(i);if(E===".priority")m=s.filter.updatePriority(t.eventCache.getNode(),a),g=Na(t,m,h.isFullyInitialized(),h.isFiltered());else{const b=Oe(i),L=h.getNode().getImmediateChild(E);let U;if(de(b))U=a;else{const B=y.getCompleteChild(E);B!=null?sb(b)===".priority"&&B.getChild(ab(b)).isEmpty()?U=B:U=B.updateChild(b,a):U=J.EMPTY_NODE}if(L.equals(U))g=t;else{const B=s.filter.updateChild(h.getNode(),E,U,b,y,d);g=Na(t,B,h.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function vy(s,t){return s.eventCache.isCompleteForChild(t)}function cN(s,t,i,a,o,u,d){let h=t;return a.foreach((g,m)=>{const y=Fe(i,g);vy(t,fe(y))&&(h=cd(s,h,y,m,o,u,d))}),a.foreach((g,m)=>{const y=Fe(i,g);vy(t,fe(y))||(h=cd(s,h,y,m,o,u,d))}),h}function by(s,t,i){return i.foreach((a,o)=>{t=t.updateChild(a,o)}),t}function ud(s,t,i,a,o,u,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,m;de(i)?m=a:m=new De(null).setTree(i,a);const y=t.serverCache.getNode();return m.children.inorderTraversal((E,b)=>{if(y.hasChild(E)){const L=t.serverCache.getNode().getImmediateChild(E),U=by(s,L,b);g=Po(s,g,new Ne(E),U,o,u,d,h)}}),m.children.inorderTraversal((E,b)=>{const L=!t.serverCache.isCompleteForChild(E)&&b.value===null;if(!y.hasChild(E)&&!L){const U=t.serverCache.getNode().getImmediateChild(E),B=by(s,U,b);g=Po(s,g,new Ne(E),B,o,u,d,h)}}),g}function uN(s,t,i,a,o,u,d){if(Ho(o,i)!=null)return t;const h=t.serverCache.isFiltered(),g=t.serverCache;if(a.value!=null){if(de(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Po(s,t,i,g.getNode().getChild(i),o,u,h,d);if(de(i)){let m=new De(null);return g.getNode().forEachChild($s,(y,E)=>{m=m.set(new Ne(y),E)}),ud(s,t,i,m,o,u,h,d)}else return t}else{let m=new De(null);return a.foreach((y,E)=>{const b=Fe(i,y);g.isCompleteForPath(b)&&(m=m.set(y,g.getNode().getChild(b)))}),ud(s,t,i,m,o,u,h,d)}}function fN(s,t,i,a,o){const u=t.serverCache,d=gb(t,u.getNode(),u.isFullyInitialized()||de(i),u.isFiltered());return Tb(s,d,i,a,Sb,o)}function dN(s,t,i,a,o,u){let d;if(Ho(a,i)!=null)return t;{const h=new Kd(a,t,o),g=t.eventCache.getNode();let m;if(de(i)||fe(i)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=zo(a,ts(t));else{const E=t.serverCache.getNode();z(E instanceof J,"serverChildren would be complete if leaf node"),y=Yd(a,E)}y=y,m=s.filter.updateFullNode(g,y,u)}else{const y=fe(i);let E=Fd(a,y,t.serverCache);E==null&&t.serverCache.isCompleteForChild(y)&&(E=g.getImmediateChild(y)),E!=null?m=s.filter.updateChild(g,y,E,Oe(i),h,u):t.eventCache.getNode().hasChild(y)?m=s.filter.updateChild(g,y,J.EMPTY_NODE,Oe(i),h,u):m=g,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=zo(a,ts(t)),d.isLeafNode()&&(m=s.filter.updateFullNode(m,d,u)))}return d=t.serverCache.isFullyInitialized()||Ho(a,ve())!=null,Na(t,m,d,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Bd(a.getIndex()),u=DR(a);this.processor_=rN(u);const d=i.serverCache,h=i.eventCache,g=o.updateFullNode(J.EMPTY_NODE,d.getNode(),null),m=u.updateFullNode(J.EMPTY_NODE,h.getNode(),null),y=new es(g,d.isFullyInitialized(),o.filtersNodes()),E=new es(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Jo(E,y),this.eventGenerator_=new PR(this.query_)}get query(){return this.query_}}function pN(s){return s.viewCache_.serverCache.getNode()}function mN(s,t){const i=ts(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!de(t)&&!i.getImmediateChild(fe(t)).isEmpty())?i.getChild(t):null}function Ey(s){return s.eventRegistrations_.length===0}function gN(s,t){s.eventRegistrations_.push(t)}function Sy(s,t,i){const a=[];if(i){z(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(i,o);d&&a.push(d)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const d=s.eventRegistrations_[u];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Ty(s,t,i,a){t.type===Jt.MERGE&&t.source.queryId!==null&&(z(ts(s.viewCache_),"We should always have a full cache before handling merges"),z(ad(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=lN(s.processor_,o,t,i,a);return aN(s.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,Cb(s,u.changes,u.viewCache.eventCache.getNode(),null)}function _N(s,t){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(He,(u,d)=>{a.push(rr(u,d))}),i.isFullyInitialized()&&a.push(hb(i.getNode())),Cb(s,a,i.getNode(),t)}function Cb(s,t,i,a){const o=a?[a]:s.eventRegistrations_;return BR(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;class yN{constructor(){this.views=new Map}}function vN(s){z(!Bo,"__referenceConstructor has already been defined"),Bo=s}function bN(){return z(Bo,"Reference.ts has not been loaded"),Bo}function EN(s){return s.views.size===0}function Qd(s,t,i,a){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return z(u!=null,"SyncTree gave us an op for an invalid query."),Ty(u,t,i,a)}else{let u=[];for(const d of s.views.values())u=u.concat(Ty(d,t,i,a));return u}}function SN(s,t,i,a,o){const u=t._queryIdentifier,d=s.views.get(u);if(!d){let h=zo(i,o?a:null),g=!1;h?g=!0:a instanceof J?(h=Yd(i,a),g=!1):(h=J.EMPTY_NODE,g=!1);const m=Jo(new es(h,g,!1),new es(a,o,!1));return new hN(t,m)}return d}function TN(s,t,i,a,o,u){const d=SN(s,t,a,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,d),gN(d,i),_N(d,i)}function CN(s,t,i,a){const o=t._queryIdentifier,u=[];let d=[];const h=Ei(s);if(o==="default")for(const[g,m]of s.views.entries())d=d.concat(Sy(m,i,a)),Ey(m)&&(s.views.delete(g),m.query._queryParams.loadsAllData()||u.push(m.query));else{const g=s.views.get(o);g&&(d=d.concat(Sy(g,i,a)),Ey(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return h&&!Ei(s)&&u.push(new(bN())(t._repo,t._path)),{removed:u,events:d}}function wb(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function er(s,t){let i=null;for(const a of s.views.values())i=i||mN(a,t);return i}function Ab(s,t){if(t._queryParams.loadsAllData())return $o(s);{const a=t._queryIdentifier;return s.views.get(a)}}function Rb(s,t){return Ab(s,t)!=null}function Ei(s){return $o(s)!=null}function $o(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo;function wN(s){z(!jo,"__referenceConstructor has already been defined"),jo=s}function AN(){return z(jo,"Reference.ts has not been loaded"),jo}let RN=1;class Cy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new De(null),this.pendingWriteTree_=tN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NN(s,t,i,a,o){return GR(s.pendingWriteTree_,t,i,a,o),o?Wa(s,new $i(mb(),t,i)):[]}function Ks(s,t,i=!1){const a=YR(s.pendingWriteTree_,t);if(FR(s.pendingWriteTree_,t)){let u=new De(null);return a.snap!=null?u=u.set(ve(),!0):Et(a.children,d=>{u=u.set(new Ne(d),!0)}),Wa(s,new Uo(a.path,u,i))}else return[]}function ec(s,t,i){return Wa(s,new $i(Vd(),t,i))}function xN(s,t,i){const a=De.fromObject(i);return Wa(s,new ja(Vd(),t,a))}function ON(s,t){return Wa(s,new Ba(Vd(),t))}function IN(s,t,i){const a=Xd(s,i);if(a){const o=Wd(a),u=o.path,d=o.queryId,h=vt(u,t),g=new Ba(qd(d),h);return Zd(s,u,g)}else return[]}function fd(s,t,i,a,o=!1){const u=t._path,d=s.syncPointTree_.get(u);let h=[];if(d&&(t._queryIdentifier==="default"||Rb(d,t))){const g=CN(d,t,i,a);EN(d)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const m=g.removed;if(h=g.events,!o){const y=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,E=s.syncPointTree_.findOnPath(u,(b,L)=>Ei(L));if(y&&!E){const b=s.syncPointTree_.subtree(u);if(!b.isEmpty()){const L=kN(b);for(let U=0;U<L.length;++U){const B=L[U],V=B.query,F=Ib(s,B);s.listenProvider_.startListening(Oa(V),Vo(s,V),F.hashFn,F.onComplete)}}}!E&&m.length>0&&!a&&(y?s.listenProvider_.stopListening(Oa(t),null):m.forEach(b=>{const L=s.queryToTagMap.get(tc(b));s.listenProvider_.stopListening(Oa(b),L)}))}LN(s,m)}return h}function DN(s,t,i,a){const o=Xd(s,a);if(o!=null){const u=Wd(o),d=u.path,h=u.queryId,g=vt(d,t),m=new $i(qd(h),g,i);return Zd(s,d,m)}else return[]}function MN(s,t,i,a){const o=Xd(s,a);if(o){const u=Wd(o),d=u.path,h=u.queryId,g=vt(d,t),m=De.fromObject(i),y=new ja(qd(h),g,m);return Zd(s,d,y)}else return[]}function wy(s,t,i,a=!1){const o=t._path;let u=null,d=!1;s.syncPointTree_.foreachOnPath(o,(b,L)=>{const U=vt(b,o);u=u||er(L,U),d=d||Ei(L)});let h=s.syncPointTree_.get(o);h?(d=d||Ei(h),u=u||er(h,ve())):(h=new yN,s.syncPointTree_=s.syncPointTree_.set(o,h));let g;u!=null?g=!0:(g=!1,u=J.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((L,U)=>{const B=er(U,ve());B&&(u=u.updateImmediateChild(L,B))}));const m=Rb(h,t);if(!m&&!t._queryParams.loadsAllData()){const b=tc(t);z(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const L=UN();s.queryToTagMap.set(b,L),s.tagToQueryMap.set(L,b)}const y=Gd(s.pendingWriteTree_,o);let E=TN(h,t,i,y,u,g);if(!m&&!d&&!a){const b=Ab(h,t);E=E.concat(zN(s,t,b))}return E}function Nb(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(d,h)=>{const g=vt(d,t),m=er(h,g);if(m)return m});return vb(o,t,u,i,!0)}function Wa(s,t){return xb(t,s.syncPointTree_,null,Gd(s.pendingWriteTree_,ve()))}function xb(s,t,i,a){if(de(s.path))return Ob(s,t,i,a);{const o=t.get(ve());i==null&&o!=null&&(i=er(o,ve()));let u=[];const d=fe(s.path),h=s.operationForChild(d),g=t.children.get(d);if(g&&h){const m=i?i.getImmediateChild(d):null,y=bb(a,d);u=u.concat(xb(h,g,m,y))}return o&&(u=u.concat(Qd(o,s,a,i))),u}}function Ob(s,t,i,a){const o=t.get(ve());i==null&&o!=null&&(i=er(o,ve()));let u=[];return t.children.inorderTraversal((d,h)=>{const g=i?i.getImmediateChild(d):null,m=bb(a,d),y=s.operationForChild(d);y&&(u=u.concat(Ob(y,h,g,m)))}),o&&(u=u.concat(Qd(o,s,a,i))),u}function Ib(s,t){const i=t.query,a=Vo(s,i);return{hashFn:()=>(pN(t)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?IN(s,i._path,a):ON(s,i._path);{const u=IA(o,i);return fd(s,i,null,u)}}}}function Vo(s,t){const i=tc(t);return s.queryToTagMap.get(i)}function tc(s){return s._path.toString()+"$"+s._queryIdentifier}function Xd(s,t){return s.tagToQueryMap.get(t)}function Wd(s){const t=s.indexOf("$");return z(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Ne(s.substr(0,t))}}function Zd(s,t,i){const a=s.syncPointTree_.get(t);z(a,"Missing sync point for query tag that we're tracking");const o=Gd(s.pendingWriteTree_,t);return Qd(a,i,o,null)}function kN(s){return s.fold((t,i,a)=>{if(i&&Ei(i))return[$o(i)];{let o=[];return i&&(o=wb(i)),Et(a,(u,d)=>{o=o.concat(d)}),o}})}function Oa(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(AN())(s._repo,s._path):s}function LN(s,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const o=tc(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function UN(){return RN++}function zN(s,t,i){const a=t._path,o=Vo(s,t),u=Ib(s,i),d=s.listenProvider_.startListening(Oa(t),o,u.hashFn,u.onComplete),h=s.syncPointTree_.subtree(a);if(o)z(!Ei(h.value),"If we're adding a query, it shouldn't be shadowed");else{const g=h.fold((m,y,E)=>{if(!de(m)&&y&&Ei(y))return[$o(y).query];{let b=[];return y&&(b=b.concat(wb(y).map(L=>L.query))),Et(E,(L,U)=>{b=b.concat(U)}),b}});for(let m=0;m<g.length;++m){const y=g[m];s.listenProvider_.stopListening(Oa(y),Vo(s,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Jd(i)}node(){return this.node_}}class $d{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Fe(this.path_,t);return new $d(this.syncTree_,i)}node(){return Nb(this.syncTree_,this.path_)}}const HN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Ay=function(s,t,i){if(!s||typeof s!="object")return s;if(z(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return PN(s[".sv"],t,i);if(typeof s[".sv"]=="object")return BN(s[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},PN=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:z(!1,"Unexpected server value: "+s)}},BN=function(s,t,i){s.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&z(!1,"Unexpected increment value: "+a);const o=t.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},jN=function(s,t,i,a){return eh(t,new $d(i,s),a)},VN=function(s,t,i){return eh(s,new Jd(t),i)};function eh(s,t,i){const a=s.getPriority().val(),o=Ay(a,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const d=s,h=Ay(d.getValue(),t,i);return h!==d.getValue()||o!==d.getPriority().val()?new Ze(h,ut(o)):s}else{const d=s;return u=d,o!==d.getPriority().val()&&(u=u.updatePriority(new Ze(o))),d.forEachChild(He,(h,g)=>{const m=eh(g,t.getImmediateChild(h),i);m!==g&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function nh(s,t){let i=t instanceof Ne?t:new Ne(t),a=s,o=fe(i);for(;o!==null;){const u=tr(a.node.children,o)||{children:{},childCount:0};a=new th(o,a,u),i=Oe(i),o=fe(i)}return a}function mr(s){return s.node.value}function Db(s,t){s.node.value=t,dd(s)}function Mb(s){return s.node.childCount>0}function qN(s){return mr(s)===void 0&&!Mb(s)}function nc(s,t){Et(s.node.children,(i,a)=>{t(new th(i,s,a))})}function kb(s,t,i,a){i&&t(s),nc(s,o=>{kb(o,t,!0)})}function GN(s,t,i){let a=s.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function Za(s){return new Ne(s.parent===null?s.name:Za(s.parent)+"/"+s.name)}function dd(s){s.parent!==null&&YN(s.parent,s.name,s)}function YN(s,t,i){const a=qN(i),o=Un(s.node.children,t);a&&o?(delete s.node.children[t],s.node.childCount--,dd(s)):!a&&!o&&(s.node.children[t]=i.node,s.node.childCount++,dd(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/[\[\].#$\/\u0000-\u001F\u007F]/,KN=/[\[\].#$\u0000-\u001F\u007F]/,Pf=10*1024*1024,Lb=function(s){return typeof s=="string"&&s.length!==0&&!FN.test(s)},Ub=function(s){return typeof s=="string"&&s.length!==0&&!KN.test(s)},QN=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Ub(s)},zb=function(s,t,i){const a=i instanceof Ne?new uR(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Ki(a));if(typeof t=="function")throw new Error(s+"contains a function "+Ki(a)+" with contents = "+t.toString());if(zv(t))throw new Error(s+"contains "+t.toString()+" "+Ki(a));if(typeof t=="string"&&t.length>Pf/3&&Fo(t)>Pf)throw new Error(s+"contains a string greater than "+Pf+" utf8 bytes "+Ki(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(Et(t,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!Lb(d)))throw new Error(s+" contains an invalid key ("+d+") "+Ki(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fR(a,d),zb(s,h,a),dR(a)}),o&&u)throw new Error(s+' contains ".value" child '+Ki(a)+" in addition to actual children.")}},Hb=function(s,t,i,a){if(!Ub(i))throw new Error(Xy(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XN=function(s,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Hb(s,t,i)},WN=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Lb(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!QN(i))throw new Error(Xy(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pb(s,t){let i=null;for(let a=0;a<t.length;a++){const o=t[a],u=o.getPath();i!==null&&!zd(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function Bb(s,t,i){Pb(s,i),jb(s,a=>zd(a,t))}function ss(s,t,i){Pb(s,i),jb(s,a=>Zt(a,t)||Zt(t,a))}function jb(s,t){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;t(u)?(JN(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function JN(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const a=i.getEventRunner();Aa&&ct("event: "+i.toString()),Qa(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="repo_interrupt",ex=25;class tx{constructor(t,i,a,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lo(),this.transactionQueueTree_=new th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nx(s,t,i){if(s.stats_=Ld(s.repoInfo_),s.forceRestClient_||LA())s.server_=new ko(s.repoInfo_,(a,o,u,d)=>{Ry(s,a,o,u,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ny(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Dn(s.repoInfo_,t,(a,o,u,d)=>{Ry(s,a,o,u,d)},a=>{Ny(s,a)},a=>{sx(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=BA(s.repoInfo_,()=>new HR(s.stats_,s.server_)),s.infoData_=new MR,s.infoSyncTree_=new Cy({startListening:(a,o,u,d)=>{let h=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(h=ec(s.infoSyncTree_,a._path,g),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),ih(s,"connected",!1),s.serverSyncTree_=new Cy({startListening:(a,o,u,d)=>(s.server_.listen(a,u,o,(h,g)=>{const m=d(h,g);ss(s.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function ix(s){const i=s.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Vb(s){return HN({timestamp:ix(s)})}function Ry(s,t,i,a,o){s.dataUpdateCount++;const u=new Ne(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let d=[];if(o)if(a){const g=Co(i,m=>ut(m));d=MN(s.serverSyncTree_,u,g,o)}else{const g=ut(i);d=DN(s.serverSyncTree_,u,g,o)}else if(a){const g=Co(i,m=>ut(m));d=xN(s.serverSyncTree_,u,g)}else{const g=ut(i);d=ec(s.serverSyncTree_,u,g)}let h=u;d.length>0&&(h=rh(s,u)),ss(s.eventQueue_,h,d)}function Ny(s,t){ih(s,"connected",t),t===!1&&ax(s)}function sx(s,t){Et(t,(i,a)=>{ih(s,i,a)})}function ih(s,t,i){const a=new Ne("/.info/"+t),o=ut(i);s.infoData_.updateSnapshot(a,o);const u=ec(s.infoSyncTree_,a,o);ss(s.eventQueue_,a,u)}function rx(s){return s.nextWriteId_++}function ax(s){qb(s,"onDisconnectEvents");const t=Vb(s),i=Lo();rd(s.onDisconnect_,ve(),(o,u)=>{const d=jN(o,u,s.serverSyncTree_,t);pb(i,o,d)});let a=[];rd(i,ve(),(o,u)=>{a=a.concat(ec(s.serverSyncTree_,o,u));const d=dx(s,o);rh(s,d)}),s.onDisconnect_=Lo(),ss(s.eventQueue_,ve(),a)}function lx(s,t,i){let a;fe(t._path)===".info"?a=wy(s.infoSyncTree_,t,i):a=wy(s.serverSyncTree_,t,i),Bb(s.eventQueue_,t._path,a)}function ox(s,t,i){let a;fe(t._path)===".info"?a=fd(s.infoSyncTree_,t,i):a=fd(s.serverSyncTree_,t,i),Bb(s.eventQueue_,t._path,a)}function cx(s){s.persistentConnection_&&s.persistentConnection_.interrupt($N)}function qb(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ct(i,...t)}function Gb(s,t,i){return Nb(s.serverSyncTree_,t,i)||J.EMPTY_NODE}function sh(s,t=s.transactionQueueTree_){if(t||ic(s,t),mr(t)){const i=Fb(s,t);z(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&ux(s,Za(t),i)}else Mb(t)&&nc(t,i=>{sh(s,i)})}function ux(s,t,i){const a=i.map(m=>m.currentWriteId),o=Gb(s,t,a);let u=o;const d=o.hash();for(let m=0;m<i.length;m++){const y=i[m];z(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const E=vt(t,y.path);u=u.updateChild(E,y.currentOutputSnapshotRaw)}const h=u.val(!0),g=t;s.server_.put(g.toString(),h,m=>{qb(s,"transaction put response",{path:g.toString(),status:m});let y=[];if(m==="ok"){const E=[];for(let b=0;b<i.length;b++)i[b].status=2,y=y.concat(Ks(s.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&E.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();ic(s,nh(s.transactionQueueTree_,t)),sh(s,s.transactionQueueTree_),ss(s.eventQueue_,t,y);for(let b=0;b<E.length;b++)Qa(E[b])}else{if(m==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{Mt("transaction at "+g.toString()+" failed: "+m);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=m}rh(s,t)}},d)}function rh(s,t){const i=Yb(s,t),a=Za(i),o=Fb(s,i);return fx(s,o,a),a}function fx(s,t,i){if(t.length===0)return;const a=[];let o=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const g=t[h],m=vt(i,g.path);let y=!1,E;if(z(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)y=!0,E=g.abortReason,o=o.concat(Ks(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=ex)y=!0,E="maxretry",o=o.concat(Ks(s.serverSyncTree_,g.currentWriteId,!0));else{const b=Gb(s,g.path,d);g.currentInputSnapshot=b;const L=t[h].update(b.val());if(L!==void 0){zb("transaction failed: Data returned ",L,g.path);let U=ut(L);typeof L=="object"&&L!=null&&Un(L,".priority")||(U=U.updatePriority(b.getPriority()));const V=g.currentWriteId,F=Vb(s),ie=VN(U,b,F);g.currentOutputSnapshotRaw=U,g.currentOutputSnapshotResolved=ie,g.currentWriteId=rx(s),d.splice(d.indexOf(V),1),o=o.concat(NN(s.serverSyncTree_,g.path,ie,g.currentWriteId,g.applyLocally)),o=o.concat(Ks(s.serverSyncTree_,V,!0))}else y=!0,E="nodata",o=o.concat(Ks(s.serverSyncTree_,g.currentWriteId,!0))}ss(s.eventQueue_,i,o),o=[],y&&(t[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(E==="nodata"?a.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):a.push(()=>t[h].onComplete(new Error(E),!1,null))))}ic(s,s.transactionQueueTree_);for(let h=0;h<a.length;h++)Qa(a[h]);sh(s,s.transactionQueueTree_)}function Yb(s,t){let i,a=s.transactionQueueTree_;for(i=fe(t);i!==null&&mr(a)===void 0;)a=nh(a,i),t=Oe(t),i=fe(t);return a}function Fb(s,t){const i=[];return Kb(s,t,i),i.sort((a,o)=>a.order-o.order),i}function Kb(s,t,i){const a=mr(t);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);nc(t,o=>{Kb(s,o,i)})}function ic(s,t){const i=mr(t);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,Db(t,i.length>0?i:void 0)}nc(t,a=>{ic(s,a)})}function dx(s,t){const i=Za(Yb(s,t)),a=nh(s.transactionQueueTree_,t);return GN(a,o=>{Bf(s,o)}),Bf(s,a),kb(a,o=>{Bf(s,o)}),i}function Bf(s,t){const i=mr(t);if(i){const a=[];let o=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(z(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(z(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(Ks(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&a.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Db(t,void 0):i.length=u+1,ss(s.eventQueue_,Za(t),o);for(let d=0;d<a.length;d++)Qa(a[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(s){let t="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function px(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Mt(`Invalid query segment '${i}' in query '${s}'`)}return t}const xy=function(s,t){const i=mx(s),a=i.namespace;i.domain==="firebase.com"&&Ln(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||AA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Xv(i.host,i.secure,a,o,t,"",a!==i.subdomain),path:new Ne(i.pathString)}},mx=function(s){let t="",i="",a="",o="",u="",d=!0,h="https",g=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(h=s.substring(0,m-1),s=s.substring(m+2));let y=s.indexOf("/");y===-1&&(y=s.length);let E=s.indexOf("?");E===-1&&(E=s.length),t=s.substring(0,Math.min(y,E)),y<E&&(o=hx(s.substring(y,E)));const b=px(s.substring(Math.min(s.length,E)));m=t.indexOf(":"),m>=0?(d=h==="https"||h==="wss",g=parseInt(t.substring(m+1),10)):m=t.length;const L=t.slice(0,m);if(L.toLowerCase()==="localhost")i="localhost";else if(L.split(".").length<=2)i=L;else{const U=t.indexOf(".");a=t.substring(0,U).toLowerCase(),i=t.substring(U+1),u=a}"ns"in b&&(u=b.ns)}return{host:t,port:g,domain:i,subdomain:a,secure:d,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,i,a,o){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class _x{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i,a,o){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return de(this._path)?null:sb(this._path)}get ref(){return new wi(this._repo,this._path)}get _queryIdentifier(){const t=hy(this._queryParams),i=Md(t);return i==="{}"?"default":i}get _queryObject(){return hy(this._queryParams)}isEqual(t){if(t=kt(t),!(t instanceof ah))return!1;const i=this._repo===t._repo,a=zd(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+cR(this._path)}}class wi extends ah{constructor(t,i){super(t,i,new jd,!1)}get parent(){const t=ab(this._path);return t===null?null:new wi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class qo{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ne(t),a=hd(this.ref,t);return new qo(this._node.getChild(i),a,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>t(new qo(o,hd(this.ref,a),He)))}hasChild(t){const i=new Ne(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vx(s,t){return s=kt(s),s._checkNotDeleted("ref"),hd(s._root,t)}function hd(s,t){return s=kt(s),fe(s._path)===null?XN("child","path",t):Hb("child","path",t),new wi(s._repo,Fe(s._path,t))}class lh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new gx("value",this,new qo(t.snapshotNode,new wi(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new _x(this,t,i):null}matches(t){return t instanceof lh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bx(s,t,i,a,o){const u=new yx(i,void 0),d=new lh(u);return lx(s._repo,s,d),()=>ox(s._repo,s,d)}function Ex(s,t,i,a){return bx(s,"value",t)}vN(wi);wN(wi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="FIREBASE_DATABASE_EMULATOR_HOST",pd={};let Tx=!1;function Cx(s,t,i,a){const o=t.lastIndexOf(":"),u=t.substring(0,o),d=cr(u);s.repoInfo_=new Xv(t,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function wx(s,t,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=xy(u,o),h=d.repoInfo,g;typeof process<"u"&&X_&&(g=X_[Sx]),g?(u=`http://${g}?ns=${h.namespace}`,d=xy(u,o),h=d.repoInfo):d.repoInfo.secure;const m=new zA(s.name,s.options,t);WN("Invalid Firebase Database URL",d),de(d.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const y=Rx(h,s,m,new UA(s,i));return new Nx(y,s)}function Ax(s,t){const i=pd[t];(!i||i[s.key]!==s)&&Ln(`Database ${t}(${s.repoInfo_}) has already been deleted.`),cx(s),delete i[s.key]}function Rx(s,t,i,a){let o=pd[t.name];o||(o={},pd[t.name]=o);let u=o[s.toURLString()];return u&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new tx(s,Tx,i,a),o[s.toURLString()]=u,u}class Nx{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nx(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wi(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ax(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ln("Cannot call "+t+" on a deleted database.")}}function xx(s=Cd(),t){const i=Td(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=xT("database");a&&Ox(i,...a)}return i}function Ox(s,t,i,a={}){s=kt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Xi(a,u.repoInfo_.emulatorOptions))return;Ln("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Eo(Eo.OWNER);else if(a.mockUserToken){const h=typeof a.mockUserToken=="string"?a.mockUserToken:OT(a.mockUserToken,s.app.options.projectId);d=new Eo(h)}cr(t)&&(Yy(t),Fy("Database",!0)),Cx(u,o,a,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(s){bA(fr),nr(new Wi("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return wx(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),_i(W_,Z_,s),_i(W_,Z_,"esm2020")}Dn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Dn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};Ix();const Dx={};var Gi={};let Go;const Yi=Dx??{},Mx={apiKey:Yi.VITE_FIREBASE_API_KEY||Gi.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:Yi.VITE_FIREBASE_AUTH_DOMAIN||Gi.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,databaseURL:Yi.VITE_FIREBASE_DATABASE_URL||Gi.NEXT_PUBLIC_FIREBASE_DATABASE_URL,projectId:Yi.VITE_FIREBASE_PROJECT_ID||Gi.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:Yi.VITE_FIREBASE_STORAGE_BUCKET||Gi.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:Yi.VITE_FIREBASE_MESSAGING_SENDER_ID||Gi.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:Yi.VITE_FIREBASE_APP_ID||Gi.NEXT_PUBLIC_FIREBASE_APP_ID};K1().length?Go=Cd():Go=Jy(Mx);const jf=yA(Go),kx=xx(Go);function Lx(){const[s,t]=le.useState("2023-10-01 to 2033-26"),[i,a]=le.useState("10:23 0:0 to 126:26"),[o,u]=le.useState("today"),[d,h]=le.useState(null),[g,m]=le.useState(""),[y,E]=le.useState(""),[b,L]=le.useState(null),[U,B]=le.useState(null);le.useEffect(()=>{const F=aw(jf,ie=>{h(ie)});return()=>F()},[]),le.useEffect(()=>{if(!d)return;const F=vx(kx,"currentlyInside"),ie=Ex(F,me=>{const be=me.val();if(typeof be=="number")B(be);else if(typeof be=="string"){const se=Number(be);B(Number.isNaN(se)?null:se)}else be==null&&B(null)});return()=>ie()},[d]);async function V(F){F.preventDefault(),L(null);try{await iw(jf,g.trim(),y)}catch(ie){L(ie?.message??"Failed to sign in")}}return x.jsx("div",{className:"min-h-screen bg-stone-100 text-foreground",children:d?x.jsxs(x.Fragment,{children:[x.jsx("header",{className:"bg-slate-700 border-b border-slate-600",children:x.jsx("div",{className:"container mx-auto px-6 py-4",children:x.jsxs("div",{className:"grid grid-cols-3 items-center",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded text-white flex items-center justify-center font-bold",children:"🏛️"}),x.jsx("h1",{className:"text-xl font-semibold text-yellow-500",children:"Temple FlowGuard"})]}),x.jsxs("div",{className:"text-white text-sm justify-self-center",children:["CURRENTLY INSIDE:"," ",x.jsx("span",{className:"text-blue-400 font-bold text-lg",children:U!==null?U.toLocaleString():"—"})]}),x.jsxs("div",{className:"flex items-center gap-4 justify-self-end",children:[x.jsx("div",{className:"text-sm text-gray-300",children:"OCTOBER 26, 2023 | 10:30 AM"}),x.jsxs(un,{variant:"outline",className:"border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-slate-700 bg-transparent",children:[x.jsx(xS,{className:"w-4 h-4 mr-2"}),"Download Data (Excel)"]}),x.jsx(un,{variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",onClick:()=>lw(jf),children:"Sign out"})]})]})})}),x.jsx("main",{className:"container mx-auto px-6 py-8",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsx("div",{className:"space-y-6",children:x.jsxs(qf,{className:"bg-white shadow-lg border border-gray-200",children:[x.jsx(Gf,{children:x.jsx(Yf,{className:"text-center text-lg font-medium text-gray-800",children:"ENTERING TRAFFIC OVERVIEW"})}),x.jsxs(Ff,{className:"space-y-6",children:[x.jsxs("div",{className:"rounded-lg p-4 relative bg-gray-50",children:[x.jsx("div",{className:"absolute top-2 left-2 bg-gray-600 text-white px-3 py-1 rounded text-sm",children:"Live Feed - Entrance"}),x.jsx("div",{className:"aspect-video bg-gray-200 rounded flex items-center justify-center",children:x.jsx("img",{src:"ancient-temple-entrance-with-stone-architecture-an.jpg",alt:"Temple Entrance Live Feed",className:"w-full h-full object-cover rounded"})}),x.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[x.jsx(un,{size:"sm",variant:"secondary",className:"w-8 h-8 p-0",children:x.jsx(d_,{className:"w-3 h-3"})}),x.jsx(un,{size:"sm",variant:"secondary",className:"w-8 h-8 p-0",children:x.jsx(f_,{className:"w-3 h-3"})})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"LIVE COUNT:"}),x.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"45"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"LAST HOUR"}),x.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"230"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"TODAY'S TOTAL"}),x.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"1,870"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MONTH'S TOTAL"}),x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"35,450"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MONTH'S TOTAL"}),x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"289,120"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"YEAR'S TOTAL"}),x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1.2M"})]})]}),x.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[x.jsx(u_,{className:"w-4 h-4"}),"Filter by Date:"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Ea,{value:s,onChange:F=>t(F.target.value),className:"bg-white border-gray-300 text-gray-900",placeholder:"2023-10-01 to 2033-26"}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"text-sm text-gray-600",children:"FILTERED COUNT:"}),x.jsx(un,{className:"bg-blue-500 hover:bg-blue-600 text-white font-medium px-6",children:"Apply Filter"})]})]})]})]})]})}),x.jsx("div",{className:"space-y-6",children:x.jsxs(qf,{className:"bg-white shadow-lg border border-gray-200",children:[x.jsx(Gf,{children:x.jsx(Yf,{className:"text-center text-lg font-medium text-gray-800",children:"LEAVING TRAFFIC OVERVIEW"})}),x.jsxs(Ff,{className:"space-y-6",children:[x.jsxs("div",{className:"rounded-lg p-4 relative bg-gray-50",children:[x.jsx("div",{className:"absolute top-2 left-2 bg-gray-600 text-white px-3 py-1 rounded text-sm",children:"Live Feed - Exit"}),x.jsx("div",{className:"aspect-video bg-gray-200 rounded flex items-center justify-center",children:x.jsx("img",{src:"ancient-temple-exit-with-stone-architecture-and-pe.jpg",alt:"Temple Exit Live Feed",className:"w-full h-full object-cover rounded"})}),x.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[x.jsx(un,{size:"sm",variant:"secondary",className:"w-8 h-8 p-0",children:x.jsx(d_,{className:"w-3 h-3"})}),x.jsx(un,{size:"sm",variant:"secondary",className:"w-8 h-8 p-0",children:x.jsx(f_,{className:"w-3 h-3"})})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"LIVE COUNT:"}),x.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"38"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"LAST HOUR"}),x.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"190"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"TODAY'S TOTAL"}),x.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"1,650"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"MONTH'S TOTAL"}),x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"32,100"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"YEAR'S TOTAL"}),x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"260,780"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"OVERALL TOTAL"}),x.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"800K"})]})]}),x.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[x.jsx(u_,{className:"w-4 h-4"}),"Filter by Date:"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Ea,{value:s,onChange:F=>t(F.target.value),className:"bg-white border-gray-300 text-gray-900",placeholder:"2023-10-01 to 2033-26"}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"text-sm text-gray-600",children:"FILTERED COUNT:"}),x.jsx(un,{className:"bg-blue-500 hover:bg-blue-600 text-white font-medium px-6",children:"Apply Filter"})]})]})]})]})]})})]})})]}):x.jsx("div",{className:"container mx-auto px-6 py-16",children:x.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg border border-gray-200 rounded-lg p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 text-center",children:"Sign in"}),x.jsxs("form",{className:"space-y-4",onSubmit:V,children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),x.jsx(Ea,{type:"email",value:g,onChange:F=>m(F.target.value),placeholder:"you@example.com",className:"bg-white border-gray-300 text-gray-900",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password"}),x.jsx(Ea,{type:"password",value:y,onChange:F=>E(F.target.value),placeholder:"Your password",className:"bg-white border-gray-300 text-gray-900",required:!0})]}),b?x.jsx("div",{className:"text-sm text-red-600",children:b}):null,x.jsx(un,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium",children:"Sign in"})]})]})})})}wS.createRoot(document.getElementById("root")).render(x.jsx(le.StrictMode,{children:x.jsx(Lx,{})}));
